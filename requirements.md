# 文字游戏需求文档

## 📋 项目概述

| 项目名称 | Text WoW (暂定) |
|---------|------|
| 项目类型 | 文字RPG |
| 目标平台 | Web 网页版 |
| 后端语言 | Go |
| 前端框架 | Vue 3 |
| 数据库 | SQLite (WAL模式) |
| 创建日期 | 2025-11-25 |

---

## 🎮 游戏类型

- [x] **放置类文字RPG (Idle Text RPG)**

游戏风格：以魔兽世界为蓝本的奇幻史诗放置游戏

**核心理念：** 玩家制定策略，角色自动战斗成长

---

## 🎯 核心玩法

### 游戏类型

**🎮 放置类文字RPG (Idle Text RPG)**

玩家不直接操控战斗，而是通过制定策略让角色自动战斗成长。

### 核心循环

```
┌─────────────────────────────────────────────────────────────┐
│                                                             │
│   ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐ │
│   │ 制定策略 │───►│ 自动战斗 │───►│ 获得收益 │───►│ 角色成长 │ │
│   └─────────┘    └─────────┘    └─────────┘    └─────────┘ │
│        ▲                                            │       │
│        └────────────────────────────────────────────┘       │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 玩家决策点

| 决策类型 | 说明 | 示例 |
|---------|------|-----|
| **战斗策略** | 技能释放优先级、条件触发 | "HP<30%时优先治疗" |
| **属性加点** | 升级时分配属性点 | 力量型/敏捷型/平衡型 |
| **装备选择** | 穿戴哪件装备 | 高攻击 vs 高防御 |
| **技能配置** | 携带哪些技能上阵 | 主动技能槽位有限 |
| **区域选择** | 去哪个地图挂机 | 难度/收益权衡 |
| **天赋路线** | 天赋树点法 | 不同流派build |

### 游戏机制

**核心系统：**
- [ ] 角色创建系统（种族、职业选择）
- [ ] 属性系统（力量、敏捷、智力、耐力、精神）
- [ ] **自动回合制战斗** ⭐ 放置核心
- [ ] **战斗策略配置器** ⭐ 放置核心
- [ ] **离线收益系统** ⭐ 放置核心
- [ ] 装备系统（武器、护甲、饰品）
- [ ] 技能系统（职业技能、天赋树）
- [ ] 经验与等级系统
- [ ] 背包与物品管理
- [ ] 商店与交易系统
- [ ] 自动存档系统（云端存储）

**放置特性：**
- [x] 自动战斗（无需手动操作）
- [x] 挂机收益（在线时自动刷怪）
- [ ] 离线收益（关闭游戏也能成长）
- [ ] 加速/跳过战斗动画
- [ ] 战斗日志回放

**游戏模式：**
- [x] 单人PVE放置（核心）
- [ ] 多人排行榜（未来扩展）
- [ ] 玩家PK对战（未来扩展）

### 故事背景
<!-- 以魔兽世界为蓝本 -->

**世界观：艾泽拉斯大陆**

这是一片被魔法与战争塑造的古老大陆。联盟与部落两大阵营为了各自的信仰与生存而战。巨龙在天空翱翔，远古之神在深渊中沉睡，燃烧军团的阴影从未远去……

玩家将在这片土地上开始自己的冒险，从一个初出茅庐的新手，成长为拯救世界的英雄。

### 阵营设定

| 阵营 | 种族 | 特点 |
|-----|------|-----|
| **联盟** | 人类、矮人、暗夜精灵、侏儒、德莱尼 | 秩序、荣耀、团结 |
| **部落** | 兽人、巨魔、亡灵、牛头人、血精灵 | 力量、荣誉、生存 |

### 职业设定

| 职业 | 定位 | 核心属性 | 特色 |
|-----|------|---------|-----|
| 战士 | 近战/坦克 | 力量、耐力 | 武器精通、板甲 |
| 圣骑士 | 坦克/治疗/近战 | 力量、智力 | 圣光之力、祝福 |
| 猎人 | 远程物理 | 敏捷 | 宠物、陷阱 |
| 盗贼 | 近战刺杀 | 敏捷 | 潜行、连击点 |
| 牧师 | 治疗/远程法术 | 智力、精神 | 治疗、暗影 |
| 法师 | 远程法术 | 智力 | 火焰、冰霜、奥术 |
| 术士 | 远程法术 | 智力 | 恶魔、诅咒、DOT |
| 德鲁伊 | 全能 | 智力、敏捷 | 变形、自然之力 |
| 萨满 | 治疗/法术/近战 | 智力 | 图腾、元素 |

### 角色设定
<!-- 描述主要角色 -->

**玩家角色：** 由玩家自定义创建

**主要NPC（待扩展）：**
- 各种族领袖
- 任务发布者
- 商人与训练师
- 副本Boss 

---

## 🛠️ 技术架构

### 技术栈

| 层级 | 技术选型 | 说明 |
|-----|---------|------|
| 前端 | Vue 3 + TypeScript | 现代化响应式框架 |
| UI框架 | 自定义 (复古DOS终端风格) | 黑底彩字、CRT效果 |
| 后端 | Go (Golang) | 高性能、并发友好 |
| Web框架 | Gin | 生态成熟、性能优秀 |
| 数据库 | SQLite (WAL模式) | 轻量级，开发友好 |
| 通信协议 | RESTful API + WebSocket(未来PK) | |

### 架构设计

```
┌─────────────────────────────────────────────────┐
│                   Frontend                       │
│                   (Vue 3)                        │
├─────────────────────────────────────────────────┤
│              HTTP / WebSocket                    │
├─────────────────────────────────────────────────┤
│                   Backend                        │
│                  (Go API)                        │
├─────────────────────────────────────────────────┤
│                   SQLite                         │
│                 (WAL Mode)                       │
└─────────────────────────────────────────────────┘
```

### 数据库并发策略

- 启用 WAL (Write-Ahead Logging) 模式
- 使用连接池管理
- 写操作使用事务
- 未来可平滑迁移至 PostgreSQL

---

## ✨ 功能需求

### 必要功能 (P0) - MVP版本

| 序号 | 功能描述 | 状态 | 备注 |
|-----|---------|------|-----|
| 1 | 用户注册/登录系统 | ⬜ 待开发 | JWT认证 |
| 2 | 角色创建（选择阵营、种族、职业） | ⬜ 待开发 | |
| 3 | 基础属性系统 | ⬜ 待开发 | 力量/敏捷/智力/耐力/精神 |
| 4 | **自动战斗引擎** | ⬜ 待开发 | ⭐ 放置核心 |
| 5 | **战斗策略配置器** | ⬜ 待开发 | ⭐ 放置核心 |
| 6 | 基础技能系统 | ⬜ 待开发 | 每职业3-5个初始技能 |
| 7 | 经验值与等级系统 | ⬜ 待开发 | |
| 8 | 基础怪物与战斗区域 | ⬜ 待开发 | |
| 9 | 背包系统 | ⬜ 待开发 | |
| 10 | 装备系统（穿戴/卸下） | ⬜ 待开发 | |
| 11 | 战斗日志显示 | ⬜ 待开发 | 实时滚动战斗信息 |
| 12 | 自动存档 | ⬜ 待开发 | |

### 重要功能 (P1) - 第二版本

| 序号 | 功能描述 | 状态 | 备注 |
|-----|---------|------|-----|
| 1 | **离线收益系统** | ⬜ 待开发 | ⭐ 放置核心 |
| 2 | 技能升级/天赋树 | ⬜ 待开发 | |
| 3 | 更多战斗区域/副本 | ⬜ 待开发 | |
| 4 | NPC商店系统 | ⬜ 待开发 | 买卖装备/道具 |
| 5 | 战斗加速/跳过 | ⬜ 待开发 | 快速结算 |
| 6 | 成就系统 | ⬜ 待开发 | |
| 7 | 统计面板 | ⬜ 待开发 | 总击杀/总收益/游戏时长 |

### 可选功能 (P2) - 未来扩展

| 序号 | 功能描述 | 状态 | 备注 |
|-----|---------|------|-----|
| 1 | 排行榜系统 | ⬜ 待开发 | 等级/战力/击杀数 |
| 2 | 玩家PK对战 | ⬜ 待开发 | 策略对决（异步） |
| 3 | 公会系统 | ⬜ 待开发 | |
| 4 | 世界Boss | ⬜ 待开发 | 多人协作击杀 |
| 5 | 宠物/坐骑系统 | ⬜ 待开发 | |
| 6 | 转生/重生系统 | ⬜ 待开发 | 放置游戏经典机制 |

---

## 📐 用户界面

### 界面风格

**🖥️ 复古DOS终端风格**

| 元素 | 设计 |
|-----|------|
| **背景** | 纯黑色 (#000000) |
| **主色调** | 经典绿色 (#00FF00)、琥珀色 (#FFB000)、白色可选 |
| **字体** | 等宽像素字体 (VT323 / Press Start 2P / IBM Plex Mono) |
| **边框** | ASCII字符边框 (─│┌┐└┘├┤┬┴┼ 或 ═║╔╗╚╝) |
| **光标** | 闪烁方块光标 █ |
| **效果** | CRT扫描线、轻微屏幕闪烁、打字机文字输出 |

### 视觉示例

```
╔══════════════════════════════════════════════════════════════╗
║  TEXT WoW v1.0 - 艾尔文森林                    [挂机中...]   ║
╠══════════════════════════════════════════════════════════════╣
║                                                              ║
║  > 你的角色正在自动战斗...                                    ║
║  > [战斗 #127] 遭遇: 森林狼 Lv.3                              ║
║  > 你使用了 [英勇打击] 造成 45 点伤害                          ║
║  > 森林狼 攻击你 造成 12 点伤害                                ║
║  > 你使用了 [英勇打击] 造成 48 点伤害                          ║
║  > 森林狼 被击败！获得 25 经验值                               ║
║  > 掉落: [狼皮] x1                                            ║
║                                                              ║
╠══════════════════════════════════════════════════════════════╣
║  角色: 瓦里安 | 人类战士 Lv.5      今日击杀: 127 | 收益: 3215G ║
║  HP: ████████░░ 156/195    怒气: ██████░░░░ 60/100           ║
╠══════════════════════════════════════════════════════════════╣
║  [S]策略  [E]装备  [T]天赋  [B]背包  [M]地图  [L]日志         ║
╚══════════════════════════════════════════════════════════════╝
```

### 配色方案

```
经典绿 (默认)     琥珀复古         冷酷白
#00FF00          #FFB000          #FFFFFF
██████████       ██████████       ██████████

暗影紫           血色红           冰霜蓝
#9B59B6          #E74C3C          #3498DB
██████████       ██████████       ██████████
```

### 主要界面
- [ ] 登录/注册界面
- [ ] 角色创建界面
- [ ] **主游戏界面（战斗日志 + 状态栏）**
- [ ] **策略配置界面** ⭐
- [ ] 装备/背包界面
- [ ] 天赋树界面
- [ ] 地图选择界面
- [ ] 排行榜界面
- [ ] 设置界面

---

## 📅 开发计划

### 里程碑

| 阶段 | 内容 | 预计时间 | 状态 |
|-----|------|---------|------|
| 阶段一 | 需求确认 & 原型设计 | | ⬜ 待开始 |
| 阶段二 | 核心功能开发 | | ⬜ 待开始 |
| 阶段三 | 内容制作 | | ⬜ 待开始 |
| 阶段四 | 测试优化 | | ⬜ 待开始 |
| 阶段五 | 发布上线 | | ⬜ 待开始 |

---

## 📝 备注

<!-- 其他需要记录的内容 -->

---

## 更新日志

| 日期 | 更新内容 | 更新人 |
|-----|---------|-------|
| 2025-11-25 | 创建需求文档 | |


