# Text WoW æ•°æ®åº“è®¾è®¡æ–‡æ¡£

## ğŸ”¢ æ•°å€¼è®¾è®¡è§„èŒƒ

> ğŸ“Œ **æ ¸å¿ƒç†å¿µ**: æ‰€æœ‰æ•°å€¼ä¿æŒå°å·§ç›´è§‚ï¼Œé¿å…"æ•°å€¼è†¨èƒ€"ï¼Œç©å®¶å¯ä»¥è½»æ¾ç†è§£å’Œæ¯”è¾ƒ

### æ•°å€¼è®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ•°å€¼è®¾è®¡å“²å­¦                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  âŒ é¿å…                              âœ… è¿½æ±‚                               â”‚
â”‚  â”œâ”€ æˆåƒä¸Šä¸‡çš„ä¼¤å®³æ•°å­—                â”œâ”€ ä¸€çœ¼èƒ½çœ‹æ‡‚çš„å°æ•°å­—                 â”‚
â”‚  â”œâ”€ åæœŸæ•°å€¼çˆ†ç‚¸                      â”œâ”€ å…¨ç¨‹ä¿æŒç›¸å¯¹ç¨³å®š                   â”‚
â”‚  â”œâ”€ éœ€è¦è®¡ç®—å™¨çš„å¯¹æ¯”                  â”œâ”€ å¿ƒç®—å³å¯åˆ¤æ–­ä¼˜åŠ£                   â”‚
â”‚  â””â”€ æ„ä¹‰ä¸æ˜çš„å¤§æ•°å­—                  â””â”€ æ¯ä¸ªæ•°å­—éƒ½æœ‰æ˜ç¡®æ„ä¹‰               â”‚
â”‚                                                                             â”‚
â”‚  ç¤ºä¾‹å¯¹æ¯”:                                                                   â”‚
â”‚  âŒ "ä½ é€ æˆäº† 1,234,567 ç‚¹ä¼¤å®³"    vs    âœ… "ä½ é€ æˆäº† 45 ç‚¹ä¼¤å®³"           â”‚
â”‚  âŒ "è·å¾— 50,000 ç»éªŒ"             vs    âœ… "è·å¾— 25 ç»éªŒ"                 â”‚
â”‚  âŒ "HP: 125,000 / 125,000"        vs    âœ… "HP: 85 / 85"                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°å€¼èŒƒå›´è§„èŒƒ

| ç±»åˆ« | æ•°å€¼èŒƒå›´ | è¯´æ˜ |
|-----|---------|------|
| **ç”Ÿå‘½å€¼ (HP)** | 20 ~ 500 | 1çº§çº¦20-30ï¼Œæ»¡çº§çº¦200-400ï¼ŒBossæœ€é«˜500 |
| **æ³•åŠ›å€¼ (MP)** | 10 ~ 200 | æ³•ç³»èŒä¸šè¾ƒé«˜ï¼Œæˆ˜å£«æ— MP |
| **åŸºç¡€å±æ€§** | 5 ~ 50 | åŠ›é‡/æ•æ·/æ™ºåŠ›/è€åŠ›/ç²¾ç¥ï¼Œåˆå§‹5-15 |
| **æ”»å‡»åŠ›** | 3 ~ 80 | åŒ…å«æ­¦å™¨åŠ æˆï¼Œæ»¡çº§çº¦40-80 |
| **é˜²å¾¡åŠ›** | 1 ~ 50 | æ»¡çº§å¦å…‹çº¦30-50 |
| **æŠ€èƒ½ä¼¤å®³** | 5 ~ 60 | æ™®æ”»5-15ï¼Œå¼ºåŠ›æŠ€èƒ½30-60 |
| **æ²»ç–—é‡** | 5 ~ 50 | ä¸ä¼¤å®³ç›¸è¿‘ |
| **ç»éªŒå€¼** | 5 ~ 100 | æ¯åªæ€ª5-30ï¼ŒBossçº¦100 |
| **é‡‘å¸** | 1 ~ 50 | æ™®é€šæ€ª1-5ï¼ŒBossçº¦20-50 |
| **æš´å‡»/é—ªé¿ç‡** | 5% ~ 40% | ä¸Šé™æ§åˆ¶åœ¨40% |
| **å‡ä¼¤ç‡** | 0% ~ 60% | æŠ¤ç”²å‡ä¼¤ä¸Šé™60% |

### ç­‰çº§æˆé•¿æ›²çº¿

> ğŸ’¡ é‡‡ç”¨**å¹³ç¼“çº¿æ€§æˆé•¿**è€ŒéæŒ‡æ•°æˆé•¿ï¼Œä¿è¯åæœŸæ•°å€¼ä¸çˆ†ç‚¸

```
ç­‰çº§1:   HPâ‰ˆ25   æ”»å‡»â‰ˆ8   é˜²å¾¡â‰ˆ3
ç­‰çº§10:  HPâ‰ˆ50   æ”»å‡»â‰ˆ15  é˜²å¾¡â‰ˆ8
ç­‰çº§20:  HPâ‰ˆ80   æ”»å‡»â‰ˆ25  é˜²å¾¡â‰ˆ12
ç­‰çº§30:  HPâ‰ˆ110  æ”»å‡»â‰ˆ35  é˜²å¾¡â‰ˆ18
ç­‰çº§40:  HPâ‰ˆ150  æ”»å‡»â‰ˆ45  é˜²å¾¡â‰ˆ24
ç­‰çº§50:  HPâ‰ˆ190  æ”»å‡»â‰ˆ55  é˜²å¾¡â‰ˆ30
ç­‰çº§60:  HPâ‰ˆ230  æ”»å‡»â‰ˆ65  é˜²å¾¡â‰ˆ36

æ¯çº§æˆé•¿: HP +3~4, æ”»å‡» +1, é˜²å¾¡ +0.5
```

### æˆ˜æ–—æ•°å€¼ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                     ç¤ºä¾‹æˆ˜æ–— (30çº§é˜Ÿä¼ vs ç²¾è‹±æ€ª)                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ã€æˆ‘æ–¹é˜Ÿä¼ã€‘                                                              â•‘
â•‘  æˆ˜å£« Lv30: HP 120/120, æ”»å‡»32, é˜²å¾¡22                                    â•‘
â•‘  æ³•å¸ˆ Lv30: HP 65/65,   MP 80/80,  æ³•ä¼¤28                                 â•‘
â•‘  ç‰§å¸ˆ Lv30: HP 70/70,   MP 65/65,  æ²»ç–—25                                 â•‘
â•‘                                                                           â•‘
â•‘  ã€æ•Œæ–¹ã€‘                                                                  â•‘
â•‘  ç²¾è‹±ç‹¼äºº Lv32: HP 180/180, æ”»å‡»38, é˜²å¾¡15                                â•‘
â•‘                                                                           â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â•‘
â•‘                                                                           â•‘
â•‘  å›åˆ1:                                                                    â•‘
â•‘  â”œâ”€ æˆ˜å£«ä½¿ç”¨[è‹±å‹‡æ‰“å‡»] â†’ ç‹¼äººå—åˆ° 18 ç‚¹ä¼¤å®³ (HP: 162)                     â•‘
â•‘  â”œâ”€ æ³•å¸ˆä½¿ç”¨[ç«çƒæœ¯] â†’ ç‹¼äººå—åˆ° 24 ç‚¹ä¼¤å®³ (HP: 138) â˜…æš´å‡»                â•‘
â•‘  â”œâ”€ ç‰§å¸ˆä½¿ç”¨[æ²»ç–—æœ¯] â†’ æˆ˜å£«æ¢å¤ 12 ç‚¹ç”Ÿå‘½                                 â•‘
â•‘  â””â”€ ç‹¼äººæ”»å‡»æˆ˜å£« â†’ æˆ˜å£«å—åˆ° 14 ç‚¹ä¼¤å®³ (HP: 106)                           â•‘
â•‘                                                                           â•‘
â•‘  æˆ˜æ–—æŒç»­çº¦ 8 å›åˆ                                                         â•‘
â•‘  èƒœåˆ©ï¼è·å¾— 35 ç»éªŒï¼Œ8 é‡‘å¸                                                â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### ç»éªŒå‡çº§è¡¨

| ç­‰çº§ | å‡çº§æ‰€éœ€ç»éªŒ | ç´¯è®¡ç»éªŒ | è¯´æ˜ |
|-----|------------|---------|------|
| 1â†’2 | 20 | 20 | çº¦4åªæ€ª |
| 5â†’6 | 40 | 150 | |
| 10â†’11 | 60 | 400 | |
| 20â†’21 | 100 | 1,200 | |
| 30â†’31 | 140 | 2,600 | |
| 40â†’41 | 180 | 4,400 | |
| 50â†’51 | 220 | 6,600 | |
| 59â†’60 | 280 | 9,200 | æ»¡çº§ |

> ğŸ“ å‡çº§å…¬å¼: `æ‰€éœ€ç»éªŒ = 20 + (ç­‰çº§ Ã— 4)`ï¼Œçº¿æ€§å¢é•¿è€ŒéæŒ‡æ•°

### è£…å¤‡æ•°å€¼è§„èŒƒ

| è£…å¤‡å“è´¨ | å±æ€§åŠ æˆèŒƒå›´ | ç¤ºä¾‹ |
|---------|------------|------|
| æ™®é€š(ç™½) | +1~3 | ç ´æ—§ä¹‹å‰‘: æ”»å‡»+2 |
| ä¼˜ç§€(ç»¿) | +3~6 | æ°‘å…µä¹‹å‰‘: æ”»å‡»+4, åŠ›é‡+2 |
| ç²¾è‰¯(è“) | +5~10 | è¿ªè²äºšå†›åˆ€: æ”»å‡»+7, æ•æ·+3 |
| å²è¯—(ç´«) | +8~15 | é»‘é¾™ä¹‹ç‰™: æ”»å‡»+12, æš´å‡»+3% |
| ä¼ è¯´(æ©™) | +12~20 | é›·éœ†ä¹‹æ€’: æ”»å‡»+18, æ”»é€Ÿ+10% |

### é‡‘å¸ç»æµè§„èŒƒ

| é˜¶æ®µ | æ€ªç‰©æ‰è½ | å•†åº—ç‰©å“ | è¯´æ˜ |
|-----|---------|---------|------|
| åˆæœŸ(1-10çº§) | 1~3é‡‘ | è¯æ°´5é‡‘ï¼Œæ­¦å™¨20é‡‘ | çº¦10æ€ªä¹°1ç“¶è¯ |
| ä¸­æœŸ(11-30çº§) | 3~8é‡‘ | è¯æ°´15é‡‘ï¼Œæ­¦å™¨100é‡‘ | ä¿æŒè´­ä¹°åŠ› |
| åæœŸ(31-60çº§) | 5~15é‡‘ | è¯æ°´30é‡‘ï¼Œæ­¦å™¨300é‡‘ | ç»æµç¨³å®š |

### æ•°å€¼å¹³è¡¡æ£€æŸ¥è¡¨

æ¯æ¬¡æ·»åŠ æ–°å†…å®¹æ—¶ï¼Œæ£€æŸ¥ä»¥ä¸‹é¡¹ç›®ï¼š

- [ ] HPä¸è¶…è¿‡500
- [ ] å•æ¬¡ä¼¤å®³ä¸è¶…è¿‡80
- [ ] ç»éªŒå¥–åŠ±ä¸è¶…è¿‡100
- [ ] é‡‘å¸æ‰è½ä¸è¶…è¿‡50
- [ ] å±æ€§åŠ æˆä¸è¶…è¿‡+20
- [ ] ç™¾åˆ†æ¯”åŠ æˆä¸è¶…è¿‡+30%
- [ ] æŠ€èƒ½ç³»æ•°ä¸è¶…è¿‡2.0

---

## ğŸ“Š æ•°æ®åº“æ¦‚è§ˆ

### ğŸ® æ ¸å¿ƒè®¾è®¡ï¼š5äººå°é˜Ÿç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ç”¨æˆ·å°é˜Ÿç»“æ„                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                          â”‚
â”‚    â”‚  USER   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                          â”‚               â”‚
â”‚         â”‚                                               â”‚               â”‚
â”‚         â”‚ 1:N (æœ€å¤š5ä¸ª)                                 â”‚               â”‚
â”‚         â–¼                                               â–¼               â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚    â”‚                        å°é˜Ÿ (Team)                           â”‚     â”‚
â”‚    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚     â”‚
â”‚    â”‚  â”‚ Slot 1 â”‚ â”‚ Slot 2 â”‚ â”‚ Slot 3 â”‚ â”‚ Slot 4 â”‚ â”‚ Slot 5 â”‚    â”‚     â”‚
â”‚    â”‚  â”‚ é˜Ÿé•¿   â”‚ â”‚ æˆå‘˜   â”‚ â”‚ æˆå‘˜   â”‚ â”‚ æˆå‘˜   â”‚ â”‚ æˆå‘˜   â”‚    â”‚     â”‚
â”‚    â”‚  â”‚ æˆ˜å£«   â”‚ â”‚ æ³•å¸ˆ   â”‚ â”‚ ç‰§å¸ˆ   â”‚ â”‚ (ç©º)   â”‚ â”‚ (ç©º)   â”‚    â”‚     â”‚
â”‚    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚     â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å°é˜Ÿè§„åˆ™ï¼š**
- åˆå§‹åªæœ‰1ä¸ªè§’è‰²æ§½ä½ï¼Œéœ€è§£é”æ›´å¤š
- æœ€å¤šå¯è§£é”5ä¸ªè§’è‰²æ§½ä½
- è§’è‰²é€šè¿‡ `team_slot` (1-5) ç¡®å®šä½ç½®
- `is_active` æ§åˆ¶æ˜¯å¦å‚ä¸æˆ˜æ–—
- é‡‘å¸å°é˜Ÿå…±äº«ï¼Œç»éªŒå¹³å‡åˆ†é…

**æ§½ä½è§£é”æ¡ä»¶ï¼ˆå»ºè®®ï¼‰ï¼š**
| æ§½ä½ | è§£é”æ¡ä»¶ |
|-----|---------|
| 1 | åˆå§‹æ‹¥æœ‰ |
| 2 | é˜Ÿä¼ä¸­ä»»æ„è§’è‰²è¾¾åˆ° 10 çº§ |
| 3 | é˜Ÿä¼ä¸­ä»»æ„è§’è‰²è¾¾åˆ° 20 çº§ |
| 4 | é˜Ÿä¼ä¸­ä»»æ„è§’è‰²è¾¾åˆ° 35 çº§ |
| 5 | é˜Ÿä¼ä¸­ä»»æ„è§’è‰²è¾¾åˆ° 50 çº§ |

**æ­»äº¡ä¸å¤æ´»æœºåˆ¶ï¼š**
- è§’è‰²æ­»äº¡åéœ€è¦ç­‰å¾…å¤æ´»
- å¤æ´»æ—¶é—´ = åŸºç¡€æ—¶é—´ Ã— å½“å‰æ­»äº¡è§’è‰²æ•°é‡
- ç©å®¶éœ€é€šè¿‡ç­–ç•¥é…ç½®å°½é‡é¿å…è§’è‰²æ­»äº¡

| æ­»äº¡äººæ•° | å¤æ´»ç­‰å¾…æ—¶é—´(å»ºè®®) |
|---------|------------------|
| 1äººæ­»äº¡ | 30ç§’ |
| 2äººæ­»äº¡ | 60ç§’ (æ¯äºº) |
| 3äººæ­»äº¡ | 90ç§’ (æ¯äºº) |
| 4äººæ­»äº¡ | 120ç§’ (æ¯äºº) |
| 5äººå…¨ç­ | 180ç§’ (æ¯äºº) |

> ğŸ’¡ è¿™ä¸ªæœºåˆ¶é¼“åŠ±ç©å®¶åˆç†é…ç½®ç­–ç•¥ï¼ˆå¦‚ä½è¡€é‡æ—¶ä½¿ç”¨æ²»ç–—æŠ€èƒ½ï¼‰ï¼Œè€Œä¸æ˜¯æ— è„‘æŒ‚æœº

### ğŸ“ æ•°æ®åº“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         TEXT WoW æ•°æ®åº“æ¶æ„                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” 1:N â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚  â”‚  users  â”‚â”€â”€â”€â”€â–ºâ”‚ characters  â”‚â”€â”€â”€â”€â–ºâ”‚  inventory  â”‚                   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ (æœ€å¤š5ä¸ª)   â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                        â”‚
â”‚                         â”‚                                               â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚         â–¼               â–¼               â–¼                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚  equipment  â”‚ â”‚char_skills  â”‚ â”‚ strategies  â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â”‚                                                                         â”‚
â”‚  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• æ¸¸æˆé…ç½®è¡¨ï¼ˆåªè¯»ï¼‰â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•            â”‚
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  races  â”‚  â”‚ classes â”‚  â”‚  items  â”‚  â”‚ skills  â”‚  â”‚  zones  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â”‚
â”‚                                                           â”‚            â”‚
â”‚                                                    â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚                                                    â”‚  monsters   â”‚     â”‚
â”‚                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## âš”ï¸ å±æ€§ä¸æˆ˜æ–—ç³»ç»Ÿ

> ğŸ“Œ **é€æ˜åŒ–è®¾è®¡**: æ‰€æœ‰è®¡ç®—å…¬å¼å¯¹ç©å®¶å®Œå…¨å…¬å¼€ï¼Œæ”¯æŒæ¸¸æˆå†…æŸ¥è¯¢ï¼Œä¾¿äºç ”ç©¶æˆ˜æœ¯å’ŒåŸ¹å…»è§’è‰²

### ğŸ¯ äº”å¤§åŸºç¡€å±æ€§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           åŸºç¡€å±æ€§æ€»è§ˆ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ ğŸ’ªåŠ›é‡  â”‚  â”‚ ğŸƒæ•æ·   â”‚  â”‚ ğŸ§ æ™ºåŠ›  â”‚  â”‚ â¤ï¸è€åŠ›  â”‚  â”‚ âœ¨ç²¾ç¥  â”‚      â”‚
â”‚  â”‚Strength â”‚  â”‚ Agility â”‚  â”‚Intellectâ”‚  â”‚ Stamina â”‚  â”‚ Spirit  â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”˜      â”‚
â”‚       â”‚            â”‚            â”‚            â”‚            â”‚            â”‚
â”‚       â–¼            â–¼            â–¼            â–¼            â–¼            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ç‰©ç†æ”»å‡» â”‚  â”‚æš´å‡»ç‡   â”‚  â”‚æ³•æœ¯æ”»å‡» â”‚  â”‚æœ€å¤§HP   â”‚  â”‚æ³•åŠ›å›å¤ â”‚      â”‚
â”‚  â”‚æ ¼æŒ¡å€¼   â”‚  â”‚é—ªé¿ç‡   â”‚  â”‚æœ€å¤§MP   â”‚  â”‚ç‰©ç†é˜²å¾¡ â”‚  â”‚ç”Ÿå‘½å›å¤ â”‚      â”‚
â”‚  â”‚æš´å‡»ä¼¤å®³ â”‚  â”‚ç‰©ç†æ”»å‡» â”‚  â”‚æ³•æœ¯æš´å‡» â”‚  â”‚         â”‚  â”‚æ²»ç–—æ•ˆæœ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| å±æ€§ | è‹±æ–‡ | å›¾æ ‡ | ä¸»è¦ä½œç”¨ | æ¬¡è¦ä½œç”¨ |
|-----|------|-----|---------|---------|
| **åŠ›é‡** | Strength | ğŸ’ª | ç‰©ç†æ”»å‡»åŠ›ã€æ ¼æŒ¡å€¼ | ç‰©ç†æš´å‡»ä¼¤å®³åŠ æˆ |
| **æ•æ·** | Agility | ğŸƒ | ç‰©ç†æš´å‡»ç‡ã€é—ªé¿ç‡ | ç‰©ç†æ”»å‡»(å‰¯)ã€æŠ¤ç”²å€¼ |
| **æ™ºåŠ›** | Intellect | ğŸ§  | æ³•æœ¯æ”»å‡»åŠ›ã€æœ€å¤§æ³•åŠ› | æ³•æœ¯æš´å‡»ç‡ |
| **è€åŠ›** | Stamina | â¤ï¸ | æœ€å¤§ç”Ÿå‘½å€¼ | ç‰©ç†é˜²å¾¡(æŠ¤ç”²) |
| **ç²¾ç¥** | Spirit | âœ¨ | æ³•åŠ›å›å¤ã€ç”Ÿå‘½å›å¤ | æ²»ç–—æ•ˆæœåŠ æˆ |

---

### ğŸ“Š å±æ€§è½¬æ¢å…¬å¼ï¼ˆå®Œæ•´ç‰ˆï¼‰

> ğŸ’¡ ä»¥ä¸‹æ‰€æœ‰å…¬å¼å‡å¯åœ¨æ¸¸æˆå†…é€šè¿‡ `/help formulas` å‘½ä»¤æŸ¥è¯¢

#### ä¸€ã€ç”Ÿå‘½ä¸èƒ½é‡å€¼

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           ç”Ÿå‘½å€¼ (HP)                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æœ€å¤§HP = èŒä¸šåŸºç¡€HP + (è€åŠ› Ã— 10) + (ç­‰çº§ Ã— HPæˆé•¿) + è£…å¤‡åŠ æˆ          â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹è®¡ç®— (30çº§æˆ˜å£«, è€åŠ›80):                                             â•‘
â•‘    åŸºç¡€HP: 120                                                            â•‘
â•‘    è€åŠ›åŠ æˆ: 80 Ã— 10 = 800                                                â•‘
â•‘    ç­‰çº§æˆé•¿: 30 Ã— 12 = 360                                                â•‘
â•‘    æ€»è®¡: 120 + 800 + 360 = 1280 HP                                        â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                           èƒ½é‡å€¼ (èµ„æº)                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ã€æ³•åŠ›å€¼ Manaã€‘(æ³•å¸ˆ/ç‰§å¸ˆ/æœ¯å£«/å¾·é²ä¼Š/è¨æ»¡/åœ£éª‘å£«/çŒäºº)                  â•‘
â•‘  æœ€å¤§MP = èŒä¸šåŸºç¡€MP + (æ™ºåŠ› Ã— 5) + (ç­‰çº§ Ã— MPæˆé•¿) + è£…å¤‡åŠ æˆ            â•‘
â•‘                                                                           â•‘
â•‘  ã€æ€’æ°” Rageã€‘(æˆ˜å£«)                                                      â•‘
â•‘  æœ€å¤§æ€’æ°” = 100 (å›ºå®šå€¼)                                                  â•‘
â•‘  åˆå§‹æ€’æ°” = 0                                                             â•‘
â•‘                                                                           â•‘
â•‘  ã€èƒ½é‡ Energyã€‘(ç›—è´¼)                                                    â•‘
â•‘  æœ€å¤§èƒ½é‡ = 100 (å›ºå®šå€¼)                                                  â•‘
â•‘  åˆå§‹èƒ½é‡ = 100                                                           â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### äºŒã€æ”»å‡»åŠ›è®¡ç®—

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ç‰©ç†æ”»å‡»åŠ›                                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ç‰©ç†æ”»å‡» = åŸºç¡€æ”»å‡» + (åŠ›é‡ Ã— 2.0) + (æ•æ· Ã— 0.5) + æ­¦å™¨ä¼¤å®³ + è£…å¤‡åŠ æˆ â•‘
â•‘                                                                           â•‘
â•‘  ã€èŒä¸šåŸºç¡€æ”»å‡»ã€‘                                                         â•‘
â•‘  â”œâ”€ æˆ˜å£«/åœ£éª‘å£«: 15                                                       â•‘
â•‘  â”œâ”€ ç›—è´¼/çŒäºº: 12                                                         â•‘
â•‘  â”œâ”€ è¨æ»¡/å¾·é²ä¼Š: 10                                                       â•‘
â•‘  â””â”€ æ³•å¸ˆ/ç‰§å¸ˆ/æœ¯å£«: 5                                                     â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (30çº§ç›—è´¼, åŠ›é‡40, æ•æ·100):                                        â•‘
â•‘    åŸºç¡€: 12                                                               â•‘
â•‘    åŠ›é‡åŠ æˆ: 40 Ã— 2.0 = 80                                                â•‘
â•‘    æ•æ·åŠ æˆ: 100 Ã— 0.5 = 50                                               â•‘
â•‘    æ€»è®¡: 12 + 80 + 50 = 142 ç‰©ç†æ”»å‡»                                      â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æ³•æœ¯æ”»å‡»åŠ›                                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æ³•æœ¯æ”»å‡» = åŸºç¡€æ³•ä¼¤ + (æ™ºåŠ› Ã— 1.5) + è£…å¤‡åŠ æˆ                            â•‘
â•‘                                                                           â•‘
â•‘  ã€èŒä¸šåŸºç¡€æ³•ä¼¤ã€‘                                                         â•‘
â•‘  â”œâ”€ æ³•å¸ˆ: 20                                                              â•‘
â•‘  â”œâ”€ æœ¯å£«: 18                                                              â•‘
â•‘  â”œâ”€ ç‰§å¸ˆ: 15                                                              â•‘
â•‘  â”œâ”€ å¾·é²ä¼Š/è¨æ»¡: 12                                                       â•‘
â•‘  â””â”€ åœ£éª‘å£«: 8                                                             â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (30çº§æ³•å¸ˆ, æ™ºåŠ›120):                                                â•‘
â•‘    åŸºç¡€: 20                                                               â•‘
â•‘    æ™ºåŠ›åŠ æˆ: 120 Ã— 1.5 = 180                                              â•‘
â•‘    æ€»è®¡: 20 + 180 = 200 æ³•æœ¯æ”»å‡»                                          â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### ä¸‰ã€é˜²å¾¡è®¡ç®—

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æŠ¤ç”²ä¸ç‰©ç†å‡ä¼¤                                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æŠ¤ç”²å€¼ = èŒä¸šåŸºç¡€æŠ¤ç”² + (è€åŠ› Ã— 0.5) + (æ•æ· Ã— 0.3) + è£…å¤‡æŠ¤ç”²          â•‘
â•‘                                                                           â•‘
â•‘  ç‰©ç†å‡ä¼¤% = æŠ¤ç”² Ã· (æŠ¤ç”² + 400 + æ”»å‡»è€…ç­‰çº§ Ã— 10) Ã— 100%                â•‘
â•‘                                                                           â•‘
â•‘  ã€æŠ¤ç”²å‡ä¼¤ä¸Šé™ã€‘75%                                                      â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (æŠ¤ç”²500, è¢«30çº§æ€ªç‰©æ”»å‡»):                                          â•‘
â•‘    å‡ä¼¤% = 500 Ã· (500 + 400 + 300) = 500 Ã· 1200 = 41.7%                  â•‘
â•‘    å—åˆ°1000ç‰©ç†ä¼¤å®³ â†’ å®é™…å—åˆ° 583 ç‚¹ä¼¤å®³                                 â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æ³•æœ¯æŠ—æ€§                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æ³•æœ¯å‡ä¼¤% = æŠ—æ€§å€¼ Ã· (æŠ—æ€§å€¼ + æ”»å‡»è€…ç­‰çº§ Ã— 5) Ã— 75%                    â•‘
â•‘                                                                           â•‘
â•‘  ã€æ³•æœ¯æŠ—æ€§ç±»å‹ã€‘ç«ç„°/å†°éœœ/æš—å½±/è‡ªç„¶/å¥¥æœ¯/ç¥åœ£                            â•‘
â•‘                                                                           â•‘
â•‘  ã€ç§æ—æŠ—æ€§åŠ æˆã€‘                                                         â•‘
â•‘  â”œâ”€ çŸ®äºº: å†°éœœæŠ—æ€§ +15%                                                   â•‘
â•‘  â”œâ”€ äº¡çµ: æš—å½±æŠ—æ€§ +15%                                                   â•‘
â•‘  â””â”€ å…¶ä»–ç§æ—: è§ç§æ—ç‰¹æ€§è¡¨                                                â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### å››ã€æš´å‡»ç³»ç»Ÿ

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æš´å‡»ç‡è®¡ç®—                                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ç‰©ç†æš´å‡»ç‡ = 5% + (æ•æ· Ã· 20)% + è£…å¤‡åŠ æˆ%                               â•‘
â•‘  æ³•æœ¯æš´å‡»ç‡ = 5% + (æ™ºåŠ› Ã· 30)% + è£…å¤‡åŠ æˆ%                               â•‘
â•‘                                                                           â•‘
â•‘  ã€æš´å‡»ç‡ä¸Šé™ã€‘50%                                                        â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (æ•æ·100):                                                          â•‘
â•‘    ç‰©ç†æš´å‡»ç‡ = 5% + 5% = 10%                                             â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æš´å‡»ä¼¤å®³å€ç‡                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  åŸºç¡€æš´å‡»ä¼¤å®³ = 150%                                                      â•‘
â•‘                                                                           â•‘
â•‘  ç‰©ç†æš´å‡»ä¼¤å®³ = 150% + (åŠ›é‡ Ã· 100 Ã— 10)% + è£…å¤‡åŠ æˆ%                     â•‘
â•‘  æ³•æœ¯æš´å‡»ä¼¤å®³ = 150% + è£…å¤‡åŠ æˆ%                                          â•‘
â•‘                                                                           â•‘
â•‘  ã€æš´å‡»ä¼¤å®³ä¸Šé™ã€‘250%                                                     â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (åŠ›é‡150):                                                          â•‘
â•‘    ç‰©ç†æš´å‡»ä¼¤å®³ = 150% + 15% = 165%                                       â•‘
â•‘    é€ æˆ100ç‚¹åŸºç¡€ä¼¤å®³ â†’ æš´å‡»é€ æˆ 165 ç‚¹ä¼¤å®³                                â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### äº”ã€é—ªé¿ä¸å‘½ä¸­

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          é—ªé¿ç‡                                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  é—ªé¿ç‡ = 5% + (æ•æ· Ã· 25)% + è£…å¤‡åŠ æˆ% + ç§æ—åŠ æˆ%                       â•‘
â•‘                                                                           â•‘
â•‘  ã€é—ªé¿ç‡ä¸Šé™ã€‘30%                                                        â•‘
â•‘                                                                           â•‘
â•‘  ã€ç§æ—é—ªé¿åŠ æˆã€‘                                                         â•‘
â•‘  â””â”€ æš—å¤œç²¾çµ: +2%                                                         â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (æš—å¤œç²¾çµ, æ•æ·100):                                                â•‘
â•‘    é—ªé¿ç‡ = 5% + 4% + 2% = 11%                                            â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          å‘½ä¸­ç‡ (é¢„ç•™)                                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  åŸºç¡€å‘½ä¸­ç‡ = 95%                                                         â•‘
â•‘  ç­‰çº§å·®ä¿®æ­£ = (ç›®æ ‡ç­‰çº§ - è‡ªèº«ç­‰çº§) Ã— 1%                                  â•‘
â•‘  æœ€ç»ˆå‘½ä¸­ç‡ = 95% - ç­‰çº§å·®ä¿®æ­£ + è£…å¤‡åŠ æˆ%                                â•‘
â•‘                                                                           â•‘
â•‘  ã€å‘½ä¸­ç‡ä¸Šä¸‹é™ã€‘75% ~ 100%                                               â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### å…­ã€èƒ½é‡å›å¤æœºåˆ¶

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æ³•åŠ›å›å¤ (Mana)                                   â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æˆ˜æ–—ä¸­æ¯å›åˆå›å¤ = ç²¾ç¥ Ã— èŒä¸šæ¢å¤ç³»æ•° Ã— æœ€å¤§MP Ã· 100                    â•‘
â•‘  æˆ˜æ–—å¤–æ¯ç§’å›å¤ = æˆ˜æ–—ä¸­å›å¤ Ã— 3                                          â•‘
â•‘                                                                           â•‘
â•‘  ã€èŒä¸šæ¢å¤ç³»æ•°ã€‘                                                         â•‘
â•‘  â”œâ”€ ç‰§å¸ˆ: 0.8%                                                            â•‘
â•‘  â”œâ”€ å¾·é²ä¼Š: 0.6%                                                          â•‘
â•‘  â”œâ”€ è¨æ»¡: 0.6%                                                            â•‘
â•‘  â”œâ”€ æ³•å¸ˆ: 0.5%                                                            â•‘
â•‘  â”œâ”€ æœ¯å£«: 0.5%                                                            â•‘
â•‘  â”œâ”€ åœ£éª‘å£«: 0.4%                                                          â•‘
â•‘  â””â”€ çŒäºº: 0.3%                                                            â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (ç‰§å¸ˆ, ç²¾ç¥80, æœ€å¤§MP 500):                                         â•‘
â•‘    æˆ˜æ–—ä¸­æ¯å›åˆ = 80 Ã— 0.008 Ã— 500 = 3.2 MP                               â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æ€’æ°”è·å¾— (Rage) - æˆ˜å£«ä¸“ç”¨                        â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ã€è·å¾—æ€’æ°”ã€‘                                                             â•‘
â•‘  â”œâ”€ æ™®é€šæ”»å‡»å‘½ä¸­: +5 æ€’æ°”                                                 â•‘
â•‘  â”œâ”€ é€ æˆæš´å‡»: +10 æ€’æ°” (é¢å¤–)                                             â•‘
â•‘  â”œâ”€ å—åˆ°ä¼¤å®³: +(å—ä¼¤HP Ã· æœ€å¤§HP Ã— 20) æ€’æ°”                                â•‘
â•‘  â””â”€ æŸäº›æŠ€èƒ½: +æŠ€èƒ½å®šä¹‰çš„æ€’æ°”å€¼                                           â•‘
â•‘                                                                           â•‘
â•‘  ã€æ€’æ°”è¡°å‡ã€‘                                                             â•‘
â•‘  â””â”€ è„±æˆ˜åæ¯å›åˆ: -5 æ€’æ°”                                                 â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (å—åˆ°200ç‚¹ä¼¤å®³, æœ€å¤§HP 1000):                                       â•‘
â•‘    è·å¾—æ€’æ°” = 200 Ã· 1000 Ã— 20 = 4 æ€’æ°”                                    â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          èƒ½é‡æ¢å¤ (Energy) - ç›—è´¼ä¸“ç”¨                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æ¯å›åˆå›ºå®šæ¢å¤: +20 èƒ½é‡                                                 â•‘
â•‘  ä¸ä¼šè‡ªç„¶è¡°å‡                                                             â•‘
â•‘  æŸäº›æŠ€èƒ½/å¤©èµ‹å¯åŠ é€Ÿæ¢å¤                                                  â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          ç”Ÿå‘½å›å¤                                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æˆ˜æ–—ä¸­æ¯å›åˆå›å¤ = ç²¾ç¥ Ã— 0.2                                            â•‘
â•‘  æˆ˜æ–—å¤–æ¯ç§’å›å¤ = ç²¾ç¥ Ã— 1.0 + æœ€å¤§HP Ã— 1%                                â•‘
â•‘                                                                           â•‘
â•‘  ã€ç§æ—åŠ æˆã€‘                                                             â•‘
â•‘  â””â”€ å·¨é­”: æ¯å›åˆé¢å¤–å›å¤ 2% æœ€å¤§HP                                        â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### ä¸ƒã€æŠ€èƒ½ä¼¤å®³è®¡ç®—

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                          æŠ€èƒ½ä¼¤å®³å…¬å¼                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  æŠ€èƒ½ä¼¤å®³ = (æŠ€èƒ½åŸºç¡€å€¼ + æˆé•¿å±æ€§ Ã— æˆé•¿ç³»æ•°) Ã— æŠ€èƒ½ç­‰çº§ç³»æ•°             â•‘
â•‘                                                                           â•‘
â•‘  æœ€ç»ˆä¼¤å®³ = æŠ€èƒ½ä¼¤å®³ Ã— æš´å‡»å€ç‡ Ã— (1 - ç›®æ ‡å‡ä¼¤%) Ã— éšæœºæ³¢åŠ¨(Â±10%)        â•‘
â•‘                                                                           â•‘
â•‘  ã€æŠ€èƒ½ç­‰çº§ç³»æ•°ã€‘                                                         â•‘
â•‘  â””â”€ ç­‰çº§ç³»æ•° = 1 + (æŠ€èƒ½ç­‰çº§ - 1) Ã— 0.1                                   â•‘
â•‘                                                                           â•‘
â•‘  ç¤ºä¾‹ (5çº§ç«çƒæœ¯, åŸºç¡€50, æ™ºåŠ›120, ç³»æ•°0.8):                              â•‘
â•‘    æŠ€èƒ½ä¼¤å®³ = (50 + 120 Ã— 0.8) Ã— (1 + 0.4) = 146 Ã— 1.4 = 204.4            â•‘
â•‘    æš´å‡»é€ æˆ: 204.4 Ã— 1.5 = 306.6 ä¼¤å®³                                     â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

### ğŸ“ˆ èŒä¸šå±æ€§ä¼˜å…ˆçº§

> ğŸ’¡ åŸ¹å…»è§’è‰²æ—¶ï¼Œæ ¹æ®èŒä¸šé€‰æ‹©ä¼˜å…ˆæå‡çš„å±æ€§

| èŒä¸š | ä¸»å±æ€§ | æ¬¡è¦å±æ€§ | ç¬¬ä¸‰å±æ€§ | åŸ¹å…»å»ºè®® |
|-----|-------|---------|---------|---------|
| **æˆ˜å£«** | ğŸ’ªåŠ›é‡ | â¤ï¸è€åŠ› | ğŸƒæ•æ· | ä¼˜å…ˆåŠ›é‡æå‡è¾“å‡ºï¼Œè€åŠ›ä¿è¯ç”Ÿå­˜ |
| **åœ£éª‘å£«** | ğŸ’ªåŠ›é‡ | â¤ï¸è€åŠ› | ğŸ§ æ™ºåŠ› | å¹³è¡¡åŠ›é‡å’Œè€åŠ›ï¼Œé€‚é‡æ™ºåŠ›ä¿è¯æ³•æœ¯ |
| **çŒäºº** | ğŸƒæ•æ· | â¤ï¸è€åŠ› | ğŸ§ æ™ºåŠ› | æ•æ·ä¼˜å…ˆï¼Œç¡®ä¿æš´å‡»å’Œé—ªé¿ |
| **ç›—è´¼** | ğŸƒæ•æ· | ğŸ’ªåŠ›é‡ | â¤ï¸è€åŠ› | å…¨åŠ›å †æ•æ·ï¼Œè¿½æ±‚æš´å‡» |
| **ç‰§å¸ˆ** | ğŸ§ æ™ºåŠ› | âœ¨ç²¾ç¥ | â¤ï¸è€åŠ› | æ™ºåŠ›æå‡æ²»ç–—é‡ï¼Œç²¾ç¥ä¿è¯ç»­èˆª |
| **æ³•å¸ˆ** | ğŸ§ æ™ºåŠ› | â¤ï¸è€åŠ› | âœ¨ç²¾ç¥ | æ™ºåŠ›æœ€å¤§åŒ–ï¼Œè€åŠ›ä¿è¯ä¸è¢«ç§’ |
| **æœ¯å£«** | ğŸ§ æ™ºåŠ› | â¤ï¸è€åŠ› | âœ¨ç²¾ç¥ | åŒæ³•å¸ˆï¼Œä½†å¯æ›´å¤šè€åŠ› |
| **å¾·é²ä¼Š** | ğŸ§ æ™ºåŠ› | âœ¨ç²¾ç¥ | â¤ï¸è€åŠ› | æ ¹æ®å½¢æ€è°ƒæ•´ï¼Œå¹³è¡¡å‘å±• |
| **è¨æ»¡** | ğŸ§ æ™ºåŠ› | âœ¨ç²¾ç¥ | â¤ï¸è€åŠ› | æ™ºåŠ›ä¼˜å…ˆï¼Œç²¾ç¥ä¿è¯å›¢é˜Ÿæ”¯æ´ |

---

### ğŸ”§ æ¸¸æˆè§„åˆ™æŸ¥è¯¢ç³»ç»Ÿ

> ğŸ“Œ **è®¾è®¡ç†å¿µ**: æ‰€æœ‰æˆ˜æ–—è§„åˆ™å¯¹ç©å®¶é€æ˜ï¼Œå¯é€šè¿‡æ¸¸æˆå†…å‘½ä»¤æˆ–ç•Œé¢æŸ¥è¯¢

#### game_formulas - å…¬å¼é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(64) | PRIMARY KEY | å…¬å¼ID |
| category | VARCHAR(32) | NOT NULL | åˆ†ç±»: attribute/combat/skill/resource |
| name | VARCHAR(64) | NOT NULL | å…¬å¼åç§° |
| formula | TEXT | NOT NULL | å…¬å¼è¡¨è¾¾å¼ |
| description | TEXT | | è¯¦ç»†è¯´æ˜ |
| variables | TEXT | | å˜é‡è¯´æ˜(JSON) |
| example | TEXT | | è®¡ç®—ç¤ºä¾‹ |
| display_order | INTEGER | DEFAULT 0 | æ˜¾ç¤ºé¡ºåº |

```sql
CREATE TABLE game_formulas (
    id VARCHAR(64) PRIMARY KEY,
    category VARCHAR(32) NOT NULL,
    name VARCHAR(64) NOT NULL,
    formula TEXT NOT NULL,
    description TEXT,
    variables TEXT,
    example TEXT,
    display_order INTEGER DEFAULT 0
);

CREATE INDEX idx_formulas_category ON game_formulas(category);
```

#### é¢„ç½®å…¬å¼æ•°æ®

```sql
INSERT INTO game_formulas (id, category, name, formula, description, variables, example, display_order) VALUES
-- å±æ€§è½¬æ¢
('attr_max_hp', 'attribute', 'æœ€å¤§ç”Ÿå‘½å€¼', 
 'class_base_hp + stamina Ã— 10 + level Ã— hp_per_level + equipment_bonus',
 'è®¡ç®—è§’è‰²çš„æœ€å¤§ç”Ÿå‘½å€¼',
 '{"class_base_hp":"èŒä¸šåŸºç¡€HP","stamina":"è€åŠ›å€¼","level":"è§’è‰²ç­‰çº§","hp_per_level":"æ¯çº§HPæˆé•¿","equipment_bonus":"è£…å¤‡åŠ æˆ"}',
 'æˆ˜å£«(30çº§,è€åŠ›80): 120 + 800 + 360 + 0 = 1280 HP', 1),

('attr_phys_attack', 'attribute', 'ç‰©ç†æ”»å‡»åŠ›',
 'base_attack + strength Ã— 2.0 + agility Ã— 0.5 + weapon_damage + equipment_bonus',
 'è®¡ç®—è§’è‰²çš„ç‰©ç†æ”»å‡»åŠ›',
 '{"base_attack":"èŒä¸šåŸºç¡€æ”»å‡»","strength":"åŠ›é‡","agility":"æ•æ·","weapon_damage":"æ­¦å™¨ä¼¤å®³"}',
 'ç›—è´¼(åŠ›é‡40,æ•æ·100): 12 + 80 + 50 = 142', 2),

('attr_spell_power', 'attribute', 'æ³•æœ¯æ”»å‡»åŠ›',
 'base_spell + intellect Ã— 1.5 + equipment_bonus',
 'è®¡ç®—è§’è‰²çš„æ³•æœ¯æ”»å‡»åŠ›',
 '{"base_spell":"èŒä¸šåŸºç¡€æ³•ä¼¤","intellect":"æ™ºåŠ›"}',
 'æ³•å¸ˆ(æ™ºåŠ›120): 20 + 180 = 200', 3),

('attr_armor', 'attribute', 'æŠ¤ç”²å€¼',
 'base_armor + stamina Ã— 0.5 + agility Ã— 0.3 + equipment_armor',
 'è®¡ç®—è§’è‰²çš„æŠ¤ç”²å€¼',
 '{"base_armor":"èŒä¸šåŸºç¡€æŠ¤ç”²","stamina":"è€åŠ›","agility":"æ•æ·"}',
 'æˆ˜å£«(è€åŠ›80,æ•æ·40): 50 + 40 + 12 = 102', 4),

-- æˆ˜æ–—åˆ¤å®š
('combat_phys_crit', 'combat', 'ç‰©ç†æš´å‡»ç‡',
 '5% + agility Ã· 20 + equipment_bonus (ä¸Šé™50%)',
 'è®¡ç®—ç‰©ç†æ”»å‡»çš„æš´å‡»æ¦‚ç‡',
 '{"agility":"æ•æ·å€¼"}',
 'æ•æ·100: 5% + 5% = 10%', 10),

('combat_spell_crit', 'combat', 'æ³•æœ¯æš´å‡»ç‡',
 '5% + intellect Ã· 30 + equipment_bonus (ä¸Šé™50%)',
 'è®¡ç®—æ³•æœ¯æ”»å‡»çš„æš´å‡»æ¦‚ç‡',
 '{"intellect":"æ™ºåŠ›å€¼"}',
 'æ™ºåŠ›120: 5% + 4% = 9%', 11),

('combat_dodge', 'combat', 'é—ªé¿ç‡',
 '5% + agility Ã· 25 + equipment_bonus + racial_bonus (ä¸Šé™30%)',
 'è®¡ç®—ç‰©ç†æ”»å‡»çš„é—ªé¿æ¦‚ç‡',
 '{"agility":"æ•æ·å€¼","racial_bonus":"ç§æ—åŠ æˆ(æš—å¤œç²¾çµ+2%)"}',
 'æš—å¤œç²¾çµ(æ•æ·100): 5% + 4% + 2% = 11%', 12),

('combat_armor_reduction', 'combat', 'æŠ¤ç”²å‡ä¼¤',
 'armor Ã· (armor + 400 + attacker_level Ã— 10) Ã— 100% (ä¸Šé™75%)',
 'æ ¹æ®æŠ¤ç”²å€¼è®¡ç®—ç‰©ç†ä¼¤å®³å‡å…',
 '{"armor":"æŠ¤ç”²å€¼","attacker_level":"æ”»å‡»è€…ç­‰çº§"}',
 'æŠ¤ç”²500,è¢«30çº§æ€ªæ”»å‡»: 500Ã·1200 = 41.7%å‡ä¼¤', 13),

('combat_crit_damage', 'combat', 'æš´å‡»ä¼¤å®³å€ç‡',
 'ç‰©ç†: 150% + strength Ã· 100 Ã— 10% (ä¸Šé™250%); æ³•æœ¯: 150% + equipment_bonus',
 'æš´å‡»æ—¶çš„ä¼¤å®³å€ç‡',
 '{"strength":"åŠ›é‡(ç‰©ç†æš´å‡»ä¼¤å®³åŠ æˆ)"}',
 'åŠ›é‡150: 150% + 15% = 165%', 14),

-- æŠ€èƒ½ä¼¤å®³
('skill_damage', 'skill', 'æŠ€èƒ½ä¼¤å®³è®¡ç®—',
 '(base_value + scaling_stat Ã— scaling_ratio) Ã— skill_level_mult',
 'è®¡ç®—æŠ€èƒ½çš„æœ€ç»ˆä¼¤å®³å€¼',
 '{"base_value":"æŠ€èƒ½åŸºç¡€å€¼","scaling_stat":"æˆé•¿å±æ€§å€¼","scaling_ratio":"æˆé•¿ç³»æ•°","skill_level_mult":"1+(æŠ€èƒ½ç­‰çº§-1)Ã—0.1"}',
 '5çº§ç«çƒæœ¯(åŸºç¡€50,æ™ºåŠ›120,ç³»æ•°0.8): (50+96)Ã—1.4 = 204', 20),

('skill_final_damage', 'skill', 'æœ€ç»ˆä¼¤å®³',
 'skill_damage Ã— crit_mult Ã— (1 - target_reduction) Ã— random(0.9~1.1)',
 'è®¡ç®—é€ æˆçš„å®é™…ä¼¤å®³',
 '{"skill_damage":"æŠ€èƒ½ä¼¤å®³","crit_mult":"æš´å‡»å€ç‡(éæš´å‡»=1)","target_reduction":"ç›®æ ‡å‡ä¼¤%"}',
 'æŠ€èƒ½204,æš´å‡»1.5å€,ç›®æ ‡20%å‡ä¼¤: 204Ã—1.5Ã—0.8 = 244.8', 21),

-- èµ„æºå›å¤
('resource_mana_regen', 'resource', 'æ³•åŠ›å›å¤(æˆ˜æ–—ä¸­)',
 'spirit Ã— class_regen_pct Ã— max_mp Ã· 100 (æ¯å›åˆ)',
 'æˆ˜æ–—ä¸­æ¯å›åˆçš„æ³•åŠ›æ¢å¤é‡',
 '{"spirit":"ç²¾ç¥","class_regen_pct":"èŒä¸šæ¢å¤ç³»æ•°(ç‰§å¸ˆ0.8%,æ³•å¸ˆ0.5%ç­‰)","max_mp":"æœ€å¤§æ³•åŠ›"}',
 'ç‰§å¸ˆ(ç²¾ç¥80,MP500): 80Ã—0.008Ã—500 = 3.2/å›åˆ', 30),

('resource_rage_gain', 'resource', 'æ€’æ°”è·å¾—(æˆ˜å£«)',
 'æ”»å‡»å‘½ä¸­+5, æš´å‡»é¢å¤–+10, å—ä¼¤+(damageÃ·max_hpÃ—20)',
 'æˆ˜å£«è·å¾—æ€’æ°”çš„æ–¹å¼',
 '{"damage":"å—åˆ°ä¼¤å®³","max_hp":"æœ€å¤§ç”Ÿå‘½"}',
 'å—åˆ°200ä¼¤å®³(æœ€å¤§HP1000): +4æ€’æ°”', 31),

('resource_energy_regen', 'resource', 'èƒ½é‡æ¢å¤(ç›—è´¼)',
 'æ¯å›åˆå›ºå®š+20èƒ½é‡',
 'ç›—è´¼çš„èƒ½é‡æ¢å¤æ–¹å¼',
 '{}',
 'æ¯å›åˆæ¢å¤20,5å›åˆæ¢å¤æ»¡', 32),

('resource_hp_regen', 'resource', 'ç”Ÿå‘½å›å¤',
 'æˆ˜æ–—ä¸­: spirit Ã— 0.2/å›åˆ; æˆ˜æ–—å¤–: spirit Ã— 1.0 + max_hp Ã— 1%/ç§’',
 'è§’è‰²ç”Ÿå‘½å€¼çš„è‡ªç„¶æ¢å¤',
 '{"spirit":"ç²¾ç¥","max_hp":"æœ€å¤§ç”Ÿå‘½"}',
 'ç²¾ç¥50,æœ€å¤§HP1000: æˆ˜æ–—å¤– 50+10 = 60/ç§’', 33);
```

#### æ¸¸æˆå†…æŸ¥è¯¢å‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|-----|
| `/help formulas` | æŸ¥çœ‹æ‰€æœ‰å…¬å¼åˆ†ç±» | æ˜¾ç¤ºå±æ€§/æˆ˜æ–—/æŠ€èƒ½/èµ„æºåˆ†ç±» |
| `/help formulas [åˆ†ç±»]` | æŸ¥çœ‹æŸåˆ†ç±»çš„æ‰€æœ‰å…¬å¼ | `/help formulas combat` |
| `/help formula [å…¬å¼ID]` | æŸ¥çœ‹å…·ä½“å…¬å¼è¯¦æƒ… | `/help formula combat_phys_crit` |
| `/calc [å…¬å¼ID] [å‚æ•°...]` | è®¡ç®—å…·ä½“æ•°å€¼ | `/calc attr_max_hp stamina=80 level=30` |
| `/stats` | æŸ¥çœ‹å½“å‰è§’è‰²è¯¦ç»†å±æ€§ | æ˜¾ç¤ºæ‰€æœ‰å±æ€§åŠå…¶æ¥æºåˆ†è§£ |
| `/compare [è§’è‰²1] [è§’è‰²2]` | å¯¹æ¯”ä¸¤ä¸ªè§’è‰²å±æ€§ | å¯¹æ¯”é˜Ÿä¼ä¸­ä¸åŒè§’è‰² |

---

## ğŸ¯ è§’è‰²æˆé•¿ç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒæœºåˆ¶**: æ¯å‡1çº§è·å¾—1ä¸ªå±æ€§ç‚¹è‡ªç”±åˆ†é…ï¼Œæ¯å‡3çº§ä»3ä¸ªæŠ€èƒ½ä¸­é€‰æ‹©1ä¸ª

### ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          è§’è‰²æˆé•¿ç³»ç»Ÿ                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ğŸ“ˆ å‡çº§æ—¶è·å¾—:                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚   æ¯å‡ 1 çº§  â†’  +1 å±æ€§ç‚¹ (å¯è‡ªç”±åˆ†é…åˆ°äº”å¤§å±æ€§)                     â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â”‚   æ¯å‡ 3 çº§  â†’  ä» 3 ä¸ªæŠ€èƒ½ä¸­é€‰æ‹© 1 ä¸ª (å«ä¸»åŠ¨/è¢«åŠ¨æŠ€èƒ½)             â”‚   â”‚
â”‚  â”‚                                                                     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  æ»¡çº§ 60 çº§æ—¶:                                                               â”‚
â”‚  â”œâ”€ ç´¯è®¡å¯åˆ†é…å±æ€§ç‚¹: 59 ç‚¹                                                 â”‚
â”‚  â””â”€ ç´¯è®¡å¯é€‰æŠ€èƒ½æ¬¡æ•°: 20 æ¬¡ (Lv3, 6, 9, 12...60)                           â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ğŸ”¢ å±æ€§ç‚¹åˆ†é…ç³»ç»Ÿ

#### åˆ†é…è§„åˆ™

| è§„åˆ™ | è¯´æ˜ |
|-----|------|
| è·å¾—æ–¹å¼ | æ¯å‡1çº§è·å¾—1ç‚¹ï¼Œæ»¡çº§å…±59ç‚¹ |
| åˆ†é…ç›®æ ‡ | åŠ›é‡/æ•æ·/æ™ºåŠ›/è€åŠ›/ç²¾ç¥ |
| åˆ†é…æ—¶æœº | å‡çº§åå¯éšæ—¶åˆ†é…ï¼Œæ— æ—¶é—´é™åˆ¶ |
| é‡ç½®æœºåˆ¶ | æ¶ˆè€—é‡‘å¸å¯é‡ç½®ï¼ˆè´¹ç”¨éšç­‰çº§å¢åŠ ï¼‰ |

#### å±æ€§ç‚¹ä¸Šé™ï¼ˆé˜²æ­¢æç«¯å †å ï¼‰

| é™åˆ¶ç±»å‹ | æ•°å€¼ | è¯´æ˜ |
|---------|-----|------|
| å•é¡¹è½¯ä¸Šé™ | 40ç‚¹ | è¶…è¿‡åæ¯ç‚¹æ•ˆæœå‡åŠ |
| å•é¡¹ç¡¬ä¸Šé™ | 50ç‚¹ | æ— æ³•ç»§ç»­åˆ†é… |
| æ€»åˆ†é…ä¸Šé™ | 59ç‚¹ | ç­‰äºæ€»å‡çº§æ¬¡æ•° |

#### åˆ†é…ç­–ç•¥ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    30çº§æˆ˜å£« - ä¸¤ç§åŸ¹å…»æµæ´¾                                  â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ã€è¾“å‡ºæµã€‘åˆ†é…29ç‚¹:                   ã€å¦å…‹æµã€‘åˆ†é…29ç‚¹:                 â•‘
â•‘  â”œâ”€ åŠ›é‡: +18 (æ”»å‡»åŠ›ä¼˜å…ˆ)             â”œâ”€ åŠ›é‡: +8  (ä¿è¯åŸºç¡€è¾“å‡º)        â•‘
â•‘  â”œâ”€ æ•æ·: +6  (æš´å‡»åŠ æˆ)               â”œâ”€ æ•æ·: +3  (å°‘é‡é—ªé¿)            â•‘
â•‘  â”œâ”€ æ™ºåŠ›: +0                          â”œâ”€ æ™ºåŠ›: +0                        â•‘
â•‘  â”œâ”€ è€åŠ›: +5  (åŸºç¡€ç”Ÿå­˜)               â”œâ”€ è€åŠ›: +15 (ç”Ÿå­˜ä¼˜å…ˆ)            â•‘
â•‘  â””â”€ ç²¾ç¥: +0                          â””â”€ ç²¾ç¥: +3  (å›å¤)                â•‘
â•‘                                                                           â•‘
â•‘  æœ€ç»ˆæ”»å‡»: ~45 (é«˜)                    æœ€ç»ˆæ”»å‡»: ~30 (ä¸­)                  â•‘
â•‘  æœ€ç»ˆHP: ~85 (ä¸­)                      æœ€ç»ˆHP: ~120 (é«˜)                   â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### character_stat_allocation - å±æ€§åˆ†é…è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| character_id | INTEGER | PRIMARY KEY FK | è§’è‰²ID |
| unspent_points | INTEGER | DEFAULT 0 | æœªåˆ†é…ç‚¹æ•° |
| allocated_strength | INTEGER | DEFAULT 0 | å·²åˆ†é…åŠ›é‡ |
| allocated_agility | INTEGER | DEFAULT 0 | å·²åˆ†é…æ•æ· |
| allocated_intellect | INTEGER | DEFAULT 0 | å·²åˆ†é…æ™ºåŠ› |
| allocated_stamina | INTEGER | DEFAULT 0 | å·²åˆ†é…è€åŠ› |
| allocated_spirit | INTEGER | DEFAULT 0 | å·²åˆ†é…ç²¾ç¥ |
| respec_count | INTEGER | DEFAULT 0 | é‡ç½®æ¬¡æ•° |
| last_respec_at | DATETIME | | ä¸Šæ¬¡é‡ç½®æ—¶é—´ |

```sql
CREATE TABLE character_stat_allocation (
    character_id INTEGER PRIMARY KEY,
    unspent_points INTEGER DEFAULT 0,
    allocated_strength INTEGER DEFAULT 0,
    allocated_agility INTEGER DEFAULT 0,
    allocated_intellect INTEGER DEFAULT 0,
    allocated_stamina INTEGER DEFAULT 0,
    allocated_spirit INTEGER DEFAULT 0,
    respec_count INTEGER DEFAULT 0,
    last_respec_at DATETIME,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
);
```

---

### âš”ï¸ æŠ€èƒ½é€‰æ‹©ç³»ç»Ÿ

#### é€‰æ‹©è§„åˆ™

| è§„åˆ™ | è¯´æ˜ |
|-----|------|
| è§¦å‘æ—¶æœº | æ¯å‡3çº§è§¦å‘ä¸€æ¬¡ (Lv3, 6, 9, 12...60) |
| é€‰é¡¹æ•°é‡ | æ¯æ¬¡æä¾›3ä¸ªæŠ€èƒ½é€‰é¡¹ |
| æŠ€èƒ½ç±»å‹ | ä¸»åŠ¨æŠ€èƒ½ + è¢«åŠ¨æŠ€èƒ½ æ··åˆ |
| é€‰æ‹©é™åˆ¶ | å¿…é¡»é€‰æ‹©1ä¸ªï¼Œé€‰åä¸å¯æ›´æ”¹ |

#### æŠ€èƒ½æ± åˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           æŠ€èƒ½æ± åˆ†å±‚è®¾è®¡                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ã€åŸºç¡€å±‚ã€‘Lv3-15 (5æ¬¡é€‰æ‹©)                                                  â”‚
â”‚  â”œâ”€ æ ¸å¿ƒæ”»å‡»æŠ€èƒ½ (å¿…å‡º1ä¸ª)                                                  â”‚
â”‚  â”œâ”€ åŸºç¡€å¢ç›Š/å‡ç›Š                                                           â”‚
â”‚  â””â”€ å…¥é—¨è¢«åŠ¨æŠ€èƒ½                                                            â”‚
â”‚                                                                             â”‚
â”‚  ã€è¿›é˜¶å±‚ã€‘Lv18-36 (7æ¬¡é€‰æ‹©)                                                 â”‚
â”‚  â”œâ”€ ç‰¹åŒ–æŠ€èƒ½ (AOE/å•ä½“/æ§åˆ¶)                                                â”‚
â”‚  â”œâ”€ èŒä¸šä¸“å±å¼ºåŒ–                                                            â”‚
â”‚  â””â”€ è¿›é˜¶è¢«åŠ¨æŠ€èƒ½                                                            â”‚
â”‚                                                                             â”‚
â”‚  ã€å¤§å¸ˆå±‚ã€‘Lv39-60 (8æ¬¡é€‰æ‹©)                                                 â”‚
â”‚  â”œâ”€ ç»ˆææŠ€èƒ½ (å¤§æ‹›)                                                         â”‚
â”‚  â”œâ”€ ç¨€æœ‰è¢«åŠ¨                                                                â”‚
â”‚  â””â”€ è·¨èŒä¸šé€šç”¨æŠ€èƒ½                                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æŠ€èƒ½é€‰æ‹©æœºåˆ¶

| æœºåˆ¶ | è¯´æ˜ |
|-----|------|
| **é‡å¤æŠ€èƒ½** | é€‰åˆ°å·²æœ‰æŠ€èƒ½ â†’ æŠ€èƒ½å‡çº§(+20%æ•ˆæœ) |
| **ä¿åº•æœºåˆ¶** | æ¯æ¬¡è‡³å°‘1ä¸ªæœªæ‹¥æœ‰æŠ€èƒ½ |
| **ç¨€æœ‰åº¦æƒé‡** | æ™®é€š60% / ç²¾è‰¯30% / å²è¯—10% |
| **èŒä¸šé™åˆ¶** | 70%èŒä¸šä¸“å± + 30%é€šç”¨æŠ€èƒ½ |

#### è¢«åŠ¨æŠ€èƒ½ç¤ºä¾‹

| è¢«åŠ¨æŠ€èƒ½ | æ•ˆæœ | é€‚åˆèŒä¸š | ç¨€æœ‰åº¦ |
|---------|------|---------|-------|
| åˆ©åˆƒä¸“ç²¾ | ç‰©ç†ä¼¤å®³+8% | æˆ˜å£«/ç›—è´¼ | æ™®é€š |
| æŠ¤ç”²æŒæ¡ | æŠ¤ç”²å€¼+15% | æˆ˜å£«/åœ£éª‘ | æ™®é€š |
| æ³•åŠ›æ¶Œæµ | æ³•åŠ›å›å¤+20% | æ³•ç³»èŒä¸š | æ™®é€š |
| è‡´å‘½ä¸€å‡» | æš´å‡»ä¼¤å®³+12% | å…¨èŒä¸š | ç²¾è‰¯ |
| ç”Ÿå‘½æ±²å– | ä¼¤å®³çš„3%è½¬åŒ–ä¸ºHP | æœ¯å£« | ç²¾è‰¯ |
| æ ¼æŒ¡ä¸“ç²¾ | æ ¼æŒ¡å‡ ç‡+10% | å¦å…‹ | ç²¾è‰¯ |
| å—œè¡€æœ¬èƒ½ | HP<30%æ—¶æ”»å‡»+25% | æˆ˜å£«/ç›—è´¼ | å²è¯— |
| é­”æ³•å±éšœ | æ³•æœ¯ä¼¤å®³-15% | æ³•ç³»èŒä¸š | å²è¯— |
| ä¸ç­æ„å¿— | é¦–æ¬¡è‡´æ­»ä¼¤å®³å…ç–« | å…¨èŒä¸š | å²è¯— |

#### skill_selection_history - æŠ€èƒ½é€‰æ‹©è®°å½•è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| level_milestone | INTEGER | NOT NULL | é€‰æ‹©æ—¶ç­‰çº§(3,6,9...) |
| offered_skill_1 | VARCHAR(32) | NOT NULL | é€‰é¡¹1æŠ€èƒ½ID |
| offered_skill_2 | VARCHAR(32) | NOT NULL | é€‰é¡¹2æŠ€èƒ½ID |
| offered_skill_3 | VARCHAR(32) | NOT NULL | é€‰é¡¹3æŠ€èƒ½ID |
| selected_skill_id | VARCHAR(32) | NOT NULL | é€‰ä¸­çš„æŠ€èƒ½ID |
| skill_was_upgrade | INTEGER | DEFAULT 0 | æ˜¯å¦ä¸ºæŠ€èƒ½å‡çº§ |
| selected_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | é€‰æ‹©æ—¶é—´ |

```sql
CREATE TABLE skill_selection_history (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    level_milestone INTEGER NOT NULL,
    offered_skill_1 VARCHAR(32) NOT NULL,
    offered_skill_2 VARCHAR(32) NOT NULL,
    offered_skill_3 VARCHAR(32) NOT NULL,
    selected_skill_id VARCHAR(32) NOT NULL,
    skill_was_upgrade INTEGER DEFAULT 0,
    selected_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (offered_skill_1) REFERENCES skills(id),
    FOREIGN KEY (offered_skill_2) REFERENCES skills(id),
    FOREIGN KEY (offered_skill_3) REFERENCES skills(id),
    FOREIGN KEY (selected_skill_id) REFERENCES skills(id),
    UNIQUE(character_id, level_milestone)
);

CREATE INDEX idx_skill_selection_char ON skill_selection_history(character_id);
```

#### passive_skills - è¢«åŠ¨æŠ€èƒ½é…ç½®è¡¨

> ğŸ“Œ è¢«åŠ¨æŠ€èƒ½ç‹¬ç«‹äºä¸»åŠ¨æŠ€èƒ½ï¼Œæ— å†·å´æ— æ¶ˆè€—ï¼Œæ°¸ä¹…ç”Ÿæ•ˆ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | è¢«åŠ¨ID |
| name | VARCHAR(32) | NOT NULL | åç§° |
| description | TEXT | | æè¿° |
| icon | VARCHAR(64) | | å›¾æ ‡ |
| class_id | VARCHAR(32) | | é™å®šèŒä¸š(NULL=é€šç”¨) |
| rarity | VARCHAR(16) | DEFAULT 'common' | ç¨€æœ‰åº¦: common/rare/epic |
| tier | INTEGER | DEFAULT 1 | å±‚çº§: 1åŸºç¡€/2è¿›é˜¶/3å¤§å¸ˆ |
| effect_type | VARCHAR(32) | NOT NULL | æ•ˆæœç±»å‹ |
| effect_value | REAL | NOT NULL | æ•ˆæœæ•°å€¼ |
| effect_stat | VARCHAR(32) | | å½±å“çš„å±æ€§ |
| max_level | INTEGER | DEFAULT 5 | æœ€å¤§å‡çº§æ¬¡æ•° |
| level_scaling | REAL | DEFAULT 0.2 | æ¯çº§æå‡æ¯”ä¾‹(20%) |

```sql
CREATE TABLE passive_skills (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    description TEXT,
    icon VARCHAR(64),
    class_id VARCHAR(32),
    rarity VARCHAR(16) DEFAULT 'common',
    tier INTEGER DEFAULT 1,
    effect_type VARCHAR(32) NOT NULL,
    effect_value REAL NOT NULL,
    effect_stat VARCHAR(32),
    max_level INTEGER DEFAULT 5,
    level_scaling REAL DEFAULT 0.2,
    FOREIGN KEY (class_id) REFERENCES classes(id)
);

CREATE INDEX idx_passive_skills_class ON passive_skills(class_id);
CREATE INDEX idx_passive_skills_tier ON passive_skills(tier);
```

#### character_passive_skills - è§’è‰²è¢«åŠ¨æŠ€èƒ½è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| passive_id | VARCHAR(32) | NOT NULL FK | è¢«åŠ¨æŠ€èƒ½ID |
| level | INTEGER | DEFAULT 1 | å½“å‰ç­‰çº§ |
| acquired_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | è·å¾—æ—¶é—´ |

```sql
CREATE TABLE character_passive_skills (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    passive_id VARCHAR(32) NOT NULL,
    level INTEGER DEFAULT 1,
    acquired_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (passive_id) REFERENCES passive_skills(id),
    UNIQUE(character_id, passive_id)
);

CREATE INDEX idx_char_passive_char ON character_passive_skills(character_id);
```

---

### å‡çº§é‡Œç¨‹ç¢‘ä¸€è§ˆ

| ç­‰çº§ | ç´¯è®¡å±æ€§ç‚¹ | æŠ€èƒ½é€‰æ‹©æ¬¡æ•° | é‡Œç¨‹ç¢‘äº‹ä»¶ |
|-----|----------|------------|----------|
| 1 | 0 | 0 | è§’è‰²åˆ›å»º |
| 3 | 2 | 1 | é¦–æ¬¡æŠ€èƒ½é€‰æ‹© |
| 6 | 5 | 2 | |
| 10 | 9 | 3 | è§£é”ç¬¬2ä¸ªé˜Ÿä¼æ§½ä½ |
| 15 | 14 | 5 | è¿›å…¥è¿›é˜¶æŠ€èƒ½æ±  |
| 20 | 19 | 6 | è§£é”ç¬¬3ä¸ªé˜Ÿä¼æ§½ä½ |
| 30 | 29 | 10 | ä¸­æœŸé‡Œç¨‹ç¢‘ |
| 35 | 34 | 11 | è§£é”ç¬¬4ä¸ªé˜Ÿä¼æ§½ä½ |
| 39 | 38 | 13 | è¿›å…¥å¤§å¸ˆæŠ€èƒ½æ±  |
| 50 | 49 | 16 | è§£é”ç¬¬5ä¸ªé˜Ÿä¼æ§½ä½ |
| 60 | 59 | 20 | æ»¡çº§ |

---

### ç›¸å…³æ¸¸æˆå‘½ä»¤

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|-----|
| `/points` | æŸ¥çœ‹å¯åˆ†é…ç‚¹æ•° | æ˜¾ç¤ºå½“å‰æœªåˆ†é…ç‚¹æ•° |
| `/allocate [å±æ€§] [ç‚¹æ•°]` | åˆ†é…å±æ€§ç‚¹ | `/allocate strength 5` |
| `/respec` | é‡ç½®å±æ€§ç‚¹ | æ¶ˆè€—é‡‘å¸é‡ç½®æ‰€æœ‰åˆ†é… |
| `/passives` | æŸ¥çœ‹å·²æœ‰è¢«åŠ¨æŠ€èƒ½ | åˆ—å‡ºæ‰€æœ‰è¢«åŠ¨åŠç­‰çº§ |
| `/build` | æŸ¥çœ‹è§’è‰²åŸ¹å…»æ–¹æ¡ˆ | æ˜¾ç¤ºå±æ€§åˆ†é…å’ŒæŠ€èƒ½é€‰æ‹© |

---

## ğŸ“‹ è¡¨ç»“æ„è®¾è®¡

### 1. users - ç”¨æˆ·è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ç”¨æˆ·ID |
| username | VARCHAR(32) | UNIQUE NOT NULL | ç”¨æˆ·å |
| password_hash | VARCHAR(256) | NOT NULL | å¯†ç å“ˆå¸Œ |
| email | VARCHAR(128) | UNIQUE | é‚®ç®±ï¼ˆå¯é€‰ï¼‰ |
| max_team_size | INTEGER | DEFAULT 5 | æœ€å¤§é˜Ÿä¼äººæ•°ä¸Šé™ |
| unlocked_slots | INTEGER | DEFAULT 1 | å·²è§£é”æ§½ä½æ•°(åˆå§‹1ä¸ª) |
| gold | INTEGER | DEFAULT 0 | é‡‘å¸(å°é˜Ÿå…±äº«) |
| current_zone_id | VARCHAR(32) | DEFAULT 'elwynn' | å½“å‰åŒºåŸŸ(å°é˜Ÿå…±äº«) |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æ³¨å†Œæ—¶é—´ |
| last_login_at | DATETIME | | æœ€åç™»å½•æ—¶é—´ |
| status | INTEGER | DEFAULT 1 | çŠ¶æ€: 1æ­£å¸¸ 0ç¦ç”¨ |

```sql
CREATE TABLE users (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    username VARCHAR(32) UNIQUE NOT NULL,
    password_hash VARCHAR(256) NOT NULL,
    email VARCHAR(128) UNIQUE,
    max_team_size INTEGER DEFAULT 5,
    unlocked_slots INTEGER DEFAULT 1,  -- å·²è§£é”æ§½ä½æ•°(åˆå§‹1ä¸ª)
    gold INTEGER DEFAULT 0,
    current_zone_id VARCHAR(32) DEFAULT 'elwynn',
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    last_login_at DATETIME,
    status INTEGER DEFAULT 1
);

CREATE INDEX idx_users_username ON users(username);
```

---

### 2. characters - è§’è‰²è¡¨

> ğŸ“Œ **å°é˜Ÿç³»ç»Ÿ**: æ¯ä¸ªç”¨æˆ·å¯ä»¥æ‹¥æœ‰æœ€å¤š5ä¸ªè§’è‰²ç»„æˆå°é˜Ÿï¼Œå…±åŒå‚ä¸æˆ˜æ–—ã€‚

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | è§’è‰²ID |
| user_id | INTEGER | NOT NULL FK | æ‰€å±ç”¨æˆ· |
| name | VARCHAR(32) | NOT NULL | è§’è‰²å |
| race_id | VARCHAR(32) | NOT NULL | ç§æ—ID |
| class_id | VARCHAR(32) | NOT NULL | èŒä¸šID |
| faction | VARCHAR(16) | NOT NULL | é˜µè¥: alliance/horde |
| team_slot | INTEGER | NOT NULL | é˜Ÿä¼ä½ç½®: 1-5 (1=é˜Ÿé•¿) |
| is_active | INTEGER | DEFAULT 1 | æ˜¯å¦å‡ºæˆ˜: 1æ˜¯ 0å¦ |
| is_dead | INTEGER | DEFAULT 0 | æ˜¯å¦æ­»äº¡: 1æ˜¯ 0å¦ |
| revive_at | DATETIME | NULL | å¤æ´»æ—¶é—´(NULLè¡¨ç¤ºå­˜æ´») |
| level | INTEGER | DEFAULT 1 | ç­‰çº§ |
| exp | INTEGER | DEFAULT 0 | å½“å‰ç»éªŒ |
| exp_to_next | INTEGER | DEFAULT 100 | å‡çº§æ‰€éœ€ç»éªŒ |
| hp | INTEGER | NOT NULL | å½“å‰ç”Ÿå‘½å€¼ |
| max_hp | INTEGER | NOT NULL | æœ€å¤§ç”Ÿå‘½å€¼ |
| resource | INTEGER | NOT NULL | å½“å‰èƒ½é‡å€¼(æ€’æ°”/èƒ½é‡/æ³•åŠ›) |
| max_resource | INTEGER | NOT NULL | æœ€å¤§èƒ½é‡å€¼ |
| resource_type | VARCHAR(16) | NOT NULL | èƒ½é‡ç±»å‹: mana/rage/energy (ç»§æ‰¿è‡ªèŒä¸š) |
| strength | INTEGER | DEFAULT 10 | åŠ›é‡ |
| agility | INTEGER | DEFAULT 10 | æ•æ· |
| intellect | INTEGER | DEFAULT 10 | æ™ºåŠ› |
| stamina | INTEGER | DEFAULT 10 | è€åŠ› |
| spirit | INTEGER | DEFAULT 10 | ç²¾ç¥ |
| attack | INTEGER | DEFAULT 10 | æ”»å‡»åŠ› |
| defense | INTEGER | DEFAULT 5 | é˜²å¾¡åŠ› |
| crit_rate | REAL | DEFAULT 0.05 | æš´å‡»ç‡ |
| crit_damage | REAL | DEFAULT 1.5 | æš´å‡»ä¼¤å®³å€ç‡ |
| current_zone_id | VARCHAR(32) | DEFAULT 'elwynn' | å½“å‰åŒºåŸŸ(è·Ÿéšé˜Ÿé•¿) |
| total_kills | INTEGER | DEFAULT 0 | æ€»å‡»æ€æ•° |
| total_deaths | INTEGER | DEFAULT 0 | æ€»æ­»äº¡æ•° |
| total_exp_gained | INTEGER | DEFAULT 0 | æ€»è·å¾—ç»éªŒ |
| total_gold_gained | INTEGER | DEFAULT 0 | æ€»è·å¾—é‡‘å¸ |
| play_time | INTEGER | DEFAULT 0 | æ¸¸æˆæ—¶é•¿(ç§’) |
| offline_time | DATETIME | | ç¦»çº¿æ—¶é—´ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

```sql
CREATE TABLE characters (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    name VARCHAR(32) NOT NULL,
    race_id VARCHAR(32) NOT NULL,
    class_id VARCHAR(32) NOT NULL,
    faction VARCHAR(16) NOT NULL,
    team_slot INTEGER NOT NULL,
    is_active INTEGER DEFAULT 1,
    level INTEGER DEFAULT 1,
    exp INTEGER DEFAULT 0,
    exp_to_next INTEGER DEFAULT 100,
    hp INTEGER NOT NULL,
    max_hp INTEGER NOT NULL,
    mp INTEGER NOT NULL,
    max_mp INTEGER NOT NULL,
    strength INTEGER DEFAULT 10,
    agility INTEGER DEFAULT 10,
    intellect INTEGER DEFAULT 10,
    stamina INTEGER DEFAULT 10,
    spirit INTEGER DEFAULT 10,
    attack INTEGER DEFAULT 10,
    defense INTEGER DEFAULT 5,
    crit_rate REAL DEFAULT 0.05,
    crit_damage REAL DEFAULT 1.5,
    gold INTEGER DEFAULT 0,
    current_zone_id VARCHAR(32) DEFAULT 'elwynn',
    total_kills INTEGER DEFAULT 0,
    total_deaths INTEGER DEFAULT 0,
    total_exp_gained INTEGER DEFAULT 0,
    total_gold_gained INTEGER DEFAULT 0,
    play_time INTEGER DEFAULT 0,
    offline_time DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    UNIQUE(user_id, team_slot)
);

CREATE INDEX idx_characters_user_id ON characters(user_id);
CREATE INDEX idx_characters_level ON characters(level);
CREATE INDEX idx_characters_team ON characters(user_id, team_slot);
```

---

### 3. races - ç§æ—é…ç½®è¡¨

> ğŸ“Œ **ç§æ—å·®å¼‚åŒ–**: æ¯ä¸ªç§æ—æœ‰ç‹¬ç‰¹çš„å±æ€§åŠ æˆã€ä¸»åŠ¨æŠ€èƒ½å’Œè¢«åŠ¨ç‰¹æ€§

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | ç§æ—ID |
| name | VARCHAR(32) | NOT NULL | ç§æ—åç§° |
| faction | VARCHAR(16) | NOT NULL | é˜µè¥ |
| description | TEXT | | æè¿° |
| strength_base | INTEGER | DEFAULT 0 | åŠ›é‡åŸºç¡€åŠ æˆ(å›ºå®šå€¼) |
| strength_pct | REAL | DEFAULT 0 | åŠ›é‡ç™¾åˆ†æ¯”åŠ æˆ |
| agility_base | INTEGER | DEFAULT 0 | æ•æ·åŸºç¡€åŠ æˆ |
| agility_pct | REAL | DEFAULT 0 | æ•æ·ç™¾åˆ†æ¯”åŠ æˆ |
| intellect_base | INTEGER | DEFAULT 0 | æ™ºåŠ›åŸºç¡€åŠ æˆ |
| intellect_pct | REAL | DEFAULT 0 | æ™ºåŠ›ç™¾åˆ†æ¯”åŠ æˆ |
| stamina_base | INTEGER | DEFAULT 0 | è€åŠ›åŸºç¡€åŠ æˆ |
| stamina_pct | REAL | DEFAULT 0 | è€åŠ›ç™¾åˆ†æ¯”åŠ æˆ |
| spirit_base | INTEGER | DEFAULT 0 | ç²¾ç¥åŸºç¡€åŠ æˆ |
| spirit_pct | REAL | DEFAULT 0 | ç²¾ç¥ç™¾åˆ†æ¯”åŠ æˆ |
| racial_passive_id | VARCHAR(32) | | ç§æ—è¢«åŠ¨ç‰¹æ€§1 |
| racial_passive2_id | VARCHAR(32) | | ç§æ—è¢«åŠ¨ç‰¹æ€§2 |
| allowed_classes | TEXT | | å¯é€‰èŒä¸š(JSONæ•°ç»„,nullä¸ºå…¨éƒ¨) |

```sql
CREATE TABLE races (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    faction VARCHAR(16) NOT NULL,
    description TEXT,
    -- åŸºç¡€åŠ æˆ(å›ºå®šå€¼ï¼Œåˆ›å»ºæ—¶ä¸€æ¬¡æ€§åŠ )
    strength_base INTEGER DEFAULT 0,
    agility_base INTEGER DEFAULT 0,
    intellect_base INTEGER DEFAULT 0,
    stamina_base INTEGER DEFAULT 0,
    spirit_base INTEGER DEFAULT 0,
    -- ç™¾åˆ†æ¯”åŠ æˆ(ä¹˜ç®—ï¼Œéšç­‰çº§ä¿æŒæ„ä¹‰)
    strength_pct REAL DEFAULT 0,
    agility_pct REAL DEFAULT 0,
    intellect_pct REAL DEFAULT 0,
    stamina_pct REAL DEFAULT 0,
    spirit_pct REAL DEFAULT 0,
    -- è¢«åŠ¨ç‰¹æ€§
    racial_passive_id VARCHAR(32),
    racial_passive2_id VARCHAR(32),
    allowed_classes TEXT,
    FOREIGN KEY (racial_passive_id) REFERENCES effects(id),
    FOREIGN KEY (racial_passive2_id) REFERENCES effects(id)
);
```

### ç§æ—å·®å¼‚åŒ–è®¾è®¡

> ğŸ“Œ **æ”¾ç½®æ¸¸æˆé€‚é…**: æ‰€æœ‰ç§æ—ç‰¹æ€§éƒ½è®¾è®¡ä¸ºè‡ªåŠ¨è§¦å‘æˆ–è¢«åŠ¨æ•ˆæœï¼Œé€‚åˆæŒ‚æœºåœºæ™¯

#### å±æ€§åŠ æˆæœºåˆ¶

**é‡‡ç”¨"åŸºç¡€å€¼ + ç™¾åˆ†æ¯”"æ··åˆæ–¹æ¡ˆï¼š**

| ç»„æˆéƒ¨åˆ† | è¯´æ˜ | ç¤ºä¾‹(å…½äººåŠ›é‡) |
|---------|------|--------------|
| åŸºç¡€åŠ æˆ | åˆ›å»ºè§’è‰²æ—¶ä¸€æ¬¡æ€§åŠ æˆ | +5ç‚¹åŠ›é‡ |
| ç™¾åˆ†æ¯”åŠ æˆ | è¯¥å±æ€§æ€»å€¼çš„é¢å¤–åŠ æˆ | +5%åŠ›é‡ |

**è®¡ç®—å…¬å¼ï¼š**
```
æœ€ç»ˆå±æ€§ = (åŸºç¡€å±æ€§ + èŒä¸šæˆé•¿ Ã— ç­‰çº§ + è£…å¤‡åŠ æˆ) Ã— (1 + ç§æ—ç™¾åˆ†æ¯”åŠ æˆ)
```

**ç¤ºä¾‹è®¡ç®—ï¼ˆå…½äººæˆ˜å£« Lv.30ï¼‰ï¼š**
```
åŸºç¡€åŠ›é‡ = 15 (èŒä¸šåŸºç¡€)
ç­‰çº§æˆé•¿ = 2 Ã— 30 = 60
ç§æ—åŸºç¡€ = +5
è£…å¤‡åŠ æˆ = +20 (å‡è®¾)
å°è®¡ = 15 + 60 + 5 + 20 = 100

ç§æ—ç™¾åˆ†æ¯” = +5%
æœ€ç»ˆåŠ›é‡ = 100 Ã— 1.05 = 105

vs äººç±»æˆ˜å£«: 100 Ã— 1.00 = 100 (å·®5ç‚¹ï¼Œçº¦5%)
```

è¿™æ ·è®¾è®¡çš„å¥½å¤„ï¼š
- âœ… åˆæœŸå·®å¼‚æ˜æ˜¾ï¼ˆåŸºç¡€å€¼ï¼‰
- âœ… åæœŸä»æœ‰æ„ä¹‰ï¼ˆç™¾åˆ†æ¯”ï¼‰
- âœ… å·®è·ä¸ä¼šè¿‡äºæ‚¬æ®Šï¼ˆåªæœ‰5%å·¦å³ï¼‰

---

**è”ç›Ÿç§æ—:**

| ç§æ— | å±æ€§åŠ æˆ | è¢«åŠ¨ç‰¹æ€§1 | è¢«åŠ¨ç‰¹æ€§2 |
|-----|---------|---------|---------|
| **äººç±»** | ç²¾ç¥+3, ç²¾ç¥+3% | ğŸ’¡ é€‚åº”åŠ›ï¼šç»éªŒè·å–+10% | ğŸ—¡ï¸ å‰‘æœ¯ä¸“ç²¾ï¼šç‰©ç†ä¼¤å®³+3% |
| **çŸ®äºº** | åŠ›é‡+3, è€åŠ›+5% | â„ï¸ éœœæŠ—ï¼šå†°éœœä¼¤å®³-15% | ğŸ›¡ï¸ çŸ³è‚¤ï¼šå—åˆ°æš´å‡»ä¼¤å®³-10% |
| **æš—å¤œç²¾çµ** | æ•æ·+5, æ•æ·+3% | ğŸŒ™ æš—å½±ä¹‹å¿ƒï¼šä¼¤å®³+5% | ğŸ‘ï¸ æ•é”ï¼šé—ªé¿ç‡+2% |
| **ä¾å„’** | æ™ºåŠ›+5, æ™ºåŠ›+5% | âš¡ çµå·§å¿ƒæ™ºï¼šæ³•æœ¯æš´å‡»+3% | ğŸ”§ å·¥ç¨‹ä¸“ç²¾ï¼šå¯¹æœºæ¢°æ€ªä¼¤å®³+15% |

**éƒ¨è½ç§æ—:**

| ç§æ— | å±æ€§åŠ æˆ | è¢«åŠ¨ç‰¹æ€§1 | è¢«åŠ¨ç‰¹æ€§2 |
|-----|---------|---------|---------|
| **å…½äºº** | åŠ›é‡+5, åŠ›é‡+5% | ğŸ’¢ å—œè¡€ï¼šHP<30%æ—¶æ”»å‡»+15% | ğŸ’ª åšéŸ§ï¼šçœ©æ™•æ—¶é—´-25% |
| **äº¡çµ** | æ™ºåŠ›+3, æš—å½±ä¼¤å®³+5% | ğŸ’€ äº¡è€…ä¹‹è§¦ï¼šæ”»å‡»5%å‡ ç‡ææƒ§ | ğŸŒ‘ æš—å½±æŠ—æ€§ï¼šæš—å½±ä¼¤å®³-15% |
| **ç‰›å¤´äºº** | è€åŠ›+5, æœ€å¤§HP+5% | â¤ï¸ åšå¿ï¼šé˜²å¾¡+3% | ğŸŒ¿ è‡ªç„¶äº²å’Œï¼šå—åˆ°æ²»ç–—+10% |
| **å·¨é­”** | æ•æ·+3, æ”»é€Ÿ+5% | ğŸ’š å†ç”Ÿï¼šæ¯å›åˆæ¢å¤2%HP | ğŸ¾ é‡å…½æ€æ‰‹ï¼šé‡å…½ä¼¤å®³+15% |

**ç§æ—ç‰¹æ€§è§¦å‘æœºåˆ¶:**
- æ‰€æœ‰ç‰¹æ€§éƒ½æ˜¯è¢«åŠ¨æ•ˆæœï¼Œæ— éœ€ç©å®¶æ“ä½œ
- å±æ€§åŠ æˆåœ¨è®¡ç®—é¢æ¿æ—¶è‡ªåŠ¨åº”ç”¨
- æˆ˜æ–—ç‰¹æ€§ç”±æˆ˜æ–—å¼•æ“è‡ªåŠ¨æ£€æµ‹è§¦å‘

---

### 4. classes - èŒä¸šé…ç½®è¡¨

> ğŸ“Œ **èƒ½é‡ç³»ç»Ÿå·®å¼‚**: ä¸åŒèŒä¸šä½¿ç”¨ä¸åŒçš„èƒ½é‡ç±»å‹ï¼Œä½“ç°èŒä¸šç‰¹è‰²

#### èƒ½é‡ç±»å‹è®¾è®¡

> ğŸ“Œ **èŒä¸šå·®å¼‚åŒ–æ ¸å¿ƒ**: ä¸åŒèŒä¸šçš„èƒ½é‡ç³»ç»Ÿå®Œå…¨ä¸åŒï¼Œè¿™æ˜¯èŒä¸šç‰¹è‰²çš„é‡è¦ä½“ç°

| èƒ½é‡ç±»å‹ | ä½¿ç”¨èŒä¸š | åˆå§‹å€¼ | æœ€å¤§å€¼ | æ¢å¤æœºåˆ¶ | ç‰¹è‰² |
|---------|---------|-------|-------|---------|------|
| **æ€’æ°” (rage)** | æˆ˜å£« | 0 | 100 | æ”»å‡»/å—å‡»è·å¾—ï¼Œè„±æˆ˜è¡°å‡ | è¶Šæ‰“è¶Šå¼º |
| **èƒ½é‡ (energy)** | ç›—è´¼ | 100 | 100 | æ¯å›åˆ+20ï¼Œä¸Šé™å›ºå®š | å¿«é€Ÿå¾ªç¯ |
| **æ³•åŠ› (mana)** | æ³•å¸ˆã€ç‰§å¸ˆã€æœ¯å£«ã€å¾·é²ä¼Šã€è¨æ»¡ | æ»¡ | åŸºäºæ™ºåŠ›æˆé•¿ | æ¯å›åˆæ¢å¤(ç²¾ç¥Ã—ç³»æ•°) | æŒç»­æ–½æ³• |
| **æ³•åŠ› (mana)** | åœ£éª‘å£«ã€çŒäºº | æ»¡ | è¾ƒä½ | æ¯å›åˆæ¢å¤(è¾ƒæ…¢) | æ··åˆèŒä¸š |

**æ€’æ°”æœºåˆ¶è¯¦è§£ (æˆ˜å£«):**
```
è·å¾—æ€’æ°”:
  - æ™®é€šæ”»å‡»å‘½ä¸­: +5 æ€’æ°”
  - é€ æˆæš´å‡»: +10 æ€’æ°”  
  - å—åˆ°ä¼¤å®³: +æ€’æ°” (å—ä¼¤æ¯”ä¾‹ Ã— 2)
  - ä½¿ç”¨æŸäº›æŠ€èƒ½: +æ€’æ°”
  
æ¶ˆè€—æ€’æ°”:
  - ä½¿ç”¨æŠ€èƒ½æ¶ˆè€—æ€’æ°” (10-30ç‚¹)
  - è„±æˆ˜åæ¯å›åˆ -10 æ€’æ°” (è¡°å‡åˆ°0)
  
ç­–ç•¥è¦ç‚¹:
  - å¼€å±€æ— æ€’æ°”ï¼Œéœ€è¦å…ˆæ”»å‡»ç§¯ç´¯
  - å—ä¼¤ä¹Ÿèƒ½è·å¾—æ€’æ°”ï¼Œå¦å…‹ä¼˜åŠ¿
  - éœ€è¦æŒç»­æˆ˜æ–—ä¿æŒæ€’æ°”å€¼
```

**èƒ½é‡æœºåˆ¶è¯¦è§£ (ç›—è´¼):**
```
æ¢å¤èƒ½é‡:
  - æ¯å›åˆè‡ªåŠ¨ +20 èƒ½é‡
  - ä¸Šé™å›ºå®š100ï¼Œä¸ä¼šè¶…è¿‡
  - æŸäº›æŠ€èƒ½/å¤©èµ‹å¯åŠ é€Ÿæ¢å¤
  
æ¶ˆè€—èƒ½é‡:
  - ä½¿ç”¨æŠ€èƒ½æ¶ˆè€—èƒ½é‡ (20-40ç‚¹)
  - ä¸ä¼šè‡ªç„¶è¡°å‡
  - èƒ½é‡ä¸è¶³æ—¶æ— æ³•ä½¿ç”¨æŠ€èƒ½
  
ç­–ç•¥è¦ç‚¹:
  - èƒ½é‡æ¢å¤å¿«ï¼Œé€‚åˆé¢‘ç¹ä½¿ç”¨æŠ€èƒ½
  - éœ€è¦åˆç†åˆ†é…èƒ½é‡ï¼Œé¿å…æµªè´¹
  - è¿å‡»æŠ€èƒ½ç»„åˆéœ€è¦èƒ½é‡ç®¡ç†
```

**æ³•åŠ›æœºåˆ¶è¯¦è§£ (æ³•ç³»èŒä¸š):**
```
æ¢å¤æ³•åŠ›:
  - æ¯å›åˆæ¢å¤ = ç²¾ç¥ Ã— æ¢å¤ç³»æ•°
  - æ³•å¸ˆ/æœ¯å£«: ç²¾ç¥ Ã— 0.5%
  - ç‰§å¸ˆ: ç²¾ç¥ Ã— 0.8% (æ²»ç–—èŒä¸š)
  - å¾·é²ä¼Š/è¨æ»¡: ç²¾ç¥ Ã— 0.6%
  - åœ£éª‘å£«/çŒäºº: ç²¾ç¥ Ã— 0.3-0.4% (æ··åˆèŒä¸š)
  
æ¶ˆè€—æ³•åŠ›:
  - ä½¿ç”¨æŠ€èƒ½æ¶ˆè€—æ³•åŠ› (15-50ç‚¹)
  - æ³•åŠ›ä¸è¶³æ—¶æ— æ³•æ–½æ³•
  
ç­–ç•¥è¦ç‚¹:
  - ç²¾ç¥å±æ€§å½±å“æ¢å¤é€Ÿåº¦
  - éœ€è¦å¹³è¡¡è¾“å‡ºå’Œæ²»ç–—
  - æ³•åŠ›è€—å°½ä¼šå¤±å»æˆ˜æ–—åŠ›
```

**èƒ½é‡ç³»ç»Ÿå¯¹æ¯”è¡¨:**

| ç‰¹æ€§ | æ€’æ°” | èƒ½é‡ | æ³•åŠ› |
|-----|------|------|------|
| å¼€å±€çŠ¶æ€ | 0 (éœ€ç§¯ç´¯) | 100 (æ»¡) | æ»¡ |
| æ¢å¤æ–¹å¼ | æˆ˜æ–—è·å¾— | æ¯å›åˆ+20 | æ¯å›åˆæ¢å¤(ç²¾ç¥) |
| ä¸Šé™ | 100 | 100 | æˆé•¿å‹ |
| è¡°å‡ | è„±æˆ˜è¡°å‡ | æ—  | æ—  |
| ç­–ç•¥é‡ç‚¹ | ä¿æŒæˆ˜æ–—èŠ‚å¥ | å¿«é€Ÿå¾ªç¯ | èµ„æºç®¡ç† |

---

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | èŒä¸šID |
| name | VARCHAR(32) | NOT NULL | èŒä¸šåç§° |
| description | TEXT | | æè¿° |
| role | VARCHAR(16) | NOT NULL | å®šä½: tank/dps/healer |
| primary_stat | VARCHAR(16) | NOT NULL | ä¸»å±æ€§ |
| resource_type | VARCHAR(16) | NOT NULL | èƒ½é‡ç±»å‹: mana/rage/energy |
| base_hp | INTEGER | NOT NULL | åŸºç¡€HP |
| base_resource | INTEGER | NOT NULL | åŸºç¡€èƒ½é‡å€¼ |
| hp_per_level | INTEGER | NOT NULL | æ¯çº§HPæˆé•¿ |
| resource_per_level | INTEGER | NOT NULL | æ¯çº§èƒ½é‡æˆé•¿ |
| resource_regen | REAL | DEFAULT 0 | æ¯å›åˆèƒ½é‡æ¢å¤(å›ºå®šå€¼) |
| resource_regen_pct | REAL | DEFAULT 0 | æ¯å›åˆèƒ½é‡æ¢å¤(ç™¾åˆ†æ¯”) |
| base_strength | INTEGER | DEFAULT 10 | åŸºç¡€åŠ›é‡ |
| base_agility | INTEGER | DEFAULT 10 | åŸºç¡€æ•æ· |
| base_intellect | INTEGER | DEFAULT 10 | åŸºç¡€æ™ºåŠ› |
| base_stamina | INTEGER | DEFAULT 10 | åŸºç¡€è€åŠ› |
| base_spirit | INTEGER | DEFAULT 10 | åŸºç¡€ç²¾ç¥ |

```sql
CREATE TABLE classes (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    description TEXT,
    role VARCHAR(16) NOT NULL,
    primary_stat VARCHAR(16) NOT NULL,
    resource_type VARCHAR(16) NOT NULL,  -- mana/rage/energy
    base_hp INTEGER NOT NULL,
    base_resource INTEGER NOT NULL,       -- åŸºç¡€èƒ½é‡å€¼
    hp_per_level INTEGER NOT NULL,
    resource_per_level INTEGER NOT NULL,  -- æ¯çº§èƒ½é‡æˆé•¿
    resource_regen REAL DEFAULT 0,        -- æ¯å›åˆå›ºå®šæ¢å¤
    resource_regen_pct REAL DEFAULT 0,    -- æ¯å›åˆç™¾åˆ†æ¯”æ¢å¤
    base_strength INTEGER DEFAULT 10,
    base_agility INTEGER DEFAULT 10,
    base_intellect INTEGER DEFAULT 10,
    base_stamina INTEGER DEFAULT 10,
    base_spirit INTEGER DEFAULT 10
);
```

---

### 5. skills - æŠ€èƒ½é…ç½®è¡¨

> ğŸ“Œ **Buff/Debuffæœºåˆ¶**: æ‰€æœ‰å¢ç›Š/å‡ç›Šæ•ˆæœä»…åœ¨æˆ˜æ–—ä¸­ç”Ÿæ•ˆï¼Œæ¯åœºæˆ˜æ–—å¼€å§‹å‰è‡ªåŠ¨æ¸…ç©ºã€‚

#### å›åˆåˆ¶æˆ˜æ–—æŠ€èƒ½è®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æŠ€èƒ½è®¾è®¡è§„èŒƒ (å›åˆåˆ¶è‡ªåŠ¨æˆ˜æ–—)                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  ã€è®¾è®¡åŸåˆ™ã€‘                                                                 â”‚
â”‚  â”œâ”€ æ‰€æœ‰æŠ€èƒ½é€‚é…è‡ªåŠ¨æˆ˜æ–—ï¼Œæ— éœ€ç©å®¶æ‰‹åŠ¨æ“ä½œ                                    â”‚
â”‚  â”œâ”€ å†·å´æ—¶é—´ä»¥"å›åˆ"è®¡ç®—ï¼Œè€Œéå®æ—¶ç§’æ•°                                        â”‚
â”‚  â”œâ”€ èµ„æºæ¶ˆè€—å¹³è¡¡ï¼Œä¿è¯æŠ€èƒ½å¾ªç¯å¯æŒç»­                                          â”‚
â”‚  â””â”€ å¼ºåŠ›æŠ€èƒ½å¿…é¡»æœ‰å†·å´ï¼Œé¿å…æ— è„‘å †å                                           â”‚
â”‚                                                                             â”‚
â”‚  ã€æŠ€èƒ½ç±»å‹å¹³è¡¡ã€‘                                                             â”‚
â”‚  â”œâ”€ åŸºç¡€æŠ€èƒ½: æ— /ä½æ¶ˆè€—ï¼Œæ— CDï¼Œæä¾›ç¨³å®šè¾“å‡º                                   â”‚
â”‚  â”œâ”€ æ ¸å¿ƒæŠ€èƒ½: ä¸­ç­‰æ¶ˆè€—ï¼ŒçŸ­CD(2-3å›åˆ)ï¼Œä¸»è¦ä¼¤å®³æ¥æº                           â”‚
â”‚  â”œâ”€ å¼ºåŠ›æŠ€èƒ½: é«˜æ¶ˆè€—ï¼Œä¸­CD(4-6å›åˆ)ï¼Œçˆ†å‘ä¼¤å®³                                 â”‚
â”‚  â””â”€ ç»ˆææŠ€èƒ½: é«˜æ¶ˆè€—ï¼Œé•¿CD(8-15å›åˆ)ï¼Œæˆ˜æ–—è½¬æŠ˜ç‚¹                              â”‚
â”‚                                                                             â”‚
â”‚  ã€ç›®æ ‡ç±»å‹é€‚é…ã€‘                                                             â”‚
â”‚  â”œâ”€ enemy: AIè‡ªåŠ¨é€‰æ‹©ä¼˜å…ˆç›®æ ‡                                                 â”‚
â”‚  â”œâ”€ enemy_lowest_hp: è‡ªåŠ¨æ–©æ€ä½è¡€é‡æ•Œäºº                                       â”‚
â”‚  â”œâ”€ ally_lowest_hp: è‡ªåŠ¨ä¼˜å…ˆæ²»ç–—ä½è¡€é˜Ÿå‹                                      â”‚
â”‚  â””â”€ enemy_all/ally_all: AOEæ•ˆæœï¼Œè‡ªåŠ¨å…¨ä½“ä½œç”¨                                 â”‚
â”‚                                                                             â”‚
â”‚  ã€ä¸é€‚åˆè‡ªåŠ¨æˆ˜æ–—çš„æ¦‚å¿µã€‘(å·²ç§»é™¤/è°ƒæ•´)                                         â”‚
â”‚  â”œâ”€ âŒ ä½ç½®ç›¸å…³: "èƒŒåˆºä»èƒŒåæ”»å‡»" â†’ âœ… "ä¼å‡»å¯¹æ»¡è¡€æ•ŒäººåŠ å€"                   â”‚
â”‚  â”œâ”€ âŒ éšèº«æ¦‚å¿µ: "æ¶ˆå¤±æ½œè¡Œ" â†’ âœ… "é—ªé¿æå‡é—ªé¿ç‡"                              â”‚
â”‚  â””â”€ âŒ æ— é™å †å : "æ–©æ€æ— CD" â†’ âœ… "æ–©æ€3å›åˆCD"                                 â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å„èŒä¸šæŠ€èƒ½æ•°é‡ç»Ÿè®¡

| èŒä¸š | æŠ€èƒ½æ•°é‡ | èƒ½é‡ç±»å‹ | ç‰¹ç‚¹ |
|-----|---------|---------|------|
| æˆ˜å£« | 8 | æ€’æ°” (100ä¸Šé™) | æ”»å‡»/å—ä¼¤è·å–ï¼Œå¼ºåŠ›çˆ†å‘ |
| æ³•å¸ˆ | 8 | æ³•åŠ› (40åŸºç¡€) | é«˜ä¼¤å®³ï¼Œæ³•ç³»ä¸»åŠ› |
| ç›—è´¼ | 8 | èƒ½é‡ (100ä¸Šé™) | å¿«é€Ÿæ¢å¤ï¼Œè¿å‡»ä½“ç³» |
| ç‰§å¸ˆ | 9 | æ³•åŠ› (35åŸºç¡€) | æ²»ç–—ä¸ºä¸»ï¼Œè¾…åŠ©è¾“å‡º |
| åœ£éª‘å£« | 8 | æ³•åŠ› (20åŸºç¡€) | æ··åˆèŒä¸šï¼Œæ”»é˜²å…¼å¤‡ |
| çŒäºº | 8 | æ³•åŠ› (18åŸºç¡€) | è¿œç¨‹ç‰©ç†+å® ç‰© |
| æœ¯å£« | 8 | æ³•åŠ› (38åŸºç¡€) | DOT+å¸è¡€+å¬å”¤ |
| å¾·é²ä¼Š | 8 | æ³•åŠ› (30åŸºç¡€) | å˜å½¢+æ²»ç–—+DOT |
| è¨æ»¡ | 8 | æ³•åŠ› (32åŸºç¡€) | å…ƒç´ +å›¾è…¾+æ²»ç–— |
| é€šç”¨ | 1 | æ—  | æ™®é€šæ”»å‡» |

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | æŠ€èƒ½ID |
| name | VARCHAR(32) | NOT NULL | æŠ€èƒ½åç§° |
| description | TEXT | | æè¿° |
| icon | VARCHAR(64) | | å›¾æ ‡æ ‡è¯†(é¢„ç•™) |
| class_id | VARCHAR(32) | | æ‰€å±èŒä¸š(nullä¸ºé€šç”¨) |
| type | VARCHAR(16) | NOT NULL | ç±»å‹(è§ä¸‹è¡¨) |
| target_type | VARCHAR(16) | NOT NULL | ç›®æ ‡ç±»å‹(è§ä¸‹è¡¨) |
| damage_type | VARCHAR(16) | | ä¼¤å®³ç±»å‹: physical/magic/true/nature/fire/frost/shadow/holy |
| base_value | INTEGER | DEFAULT 0 | åŸºç¡€æ•°å€¼(ä¼¤å®³/æ²»ç–—/æ•ˆæœå¼ºåº¦) |
| scaling_stat | VARCHAR(16) | | æˆé•¿å±æ€§: strength/agility/intellect/spirit |
| scaling_ratio | REAL | DEFAULT 1.0 | å±æ€§åŠ æˆç³»æ•° |
| resource_cost | INTEGER | DEFAULT 0 | èƒ½é‡æ¶ˆè€—(æ€’æ°”/èƒ½é‡/æ³•åŠ›) |
| cooldown | INTEGER | DEFAULT 0 | å†·å´æ—¶é—´(å›åˆ) |
| level_required | INTEGER | DEFAULT 1 | éœ€æ±‚ç­‰çº§ |
| effect_id | VARCHAR(32) | | é™„åŠ æ•ˆæœID(å…³è”effectsè¡¨) |
| effect_chance | REAL | DEFAULT 1.0 | æ•ˆæœè§¦å‘æ¦‚ç‡(0-1) |
| tags | TEXT | | æ ‡ç­¾(JSONæ•°ç»„ï¼Œç”¨äºåˆ†ç±»ç­›é€‰) |

**æŠ€èƒ½ç±»å‹ (type):**
| ç±»å‹ | è¯´æ˜ |
|-----|------|
| `attack` | é€ æˆä¼¤å®³ |
| `heal` | æ¢å¤ç”Ÿå‘½ |
| `buff` | å¢ç›Šæ•ˆæœ |
| `debuff` | å‡ç›Šæ•ˆæœ |
| `dot` | æŒç»­ä¼¤å®³(Damage over Time) |
| `hot` | æŒç»­æ²»ç–—(Heal over Time) |
| `shield` | ä¼¤å®³å¸æ”¶æŠ¤ç›¾ |
| `summon` | å¬å”¤(é¢„ç•™) |
| `dispel` | é©±æ•£æ•ˆæœ |
| `interrupt` | æ‰“æ–­æ–½æ³• |
| `control` | æ§åˆ¶(çœ©æ™•/æ²‰é»˜ç­‰) |

**ç›®æ ‡ç±»å‹ (target_type):**
| ç±»å‹ | è¯´æ˜ |
|-----|------|
| `self` | è‡ªèº« |
| `ally` | å‹æ–¹å•ä½“ |
| `ally_all` | å‹æ–¹å…¨ä½“ |
| `ally_lowest_hp` | è¡€é‡æœ€ä½çš„å‹æ–¹ |
| `enemy` | æ•Œæ–¹å•ä½“ |
| `enemy_all` | æ•Œæ–¹å…¨ä½“ |
| `enemy_random` | éšæœºæ•Œäºº |
| `enemy_lowest_hp` | è¡€é‡æœ€ä½çš„æ•Œäºº |

---

### 5.1 effects - æ•ˆæœé…ç½®è¡¨(Buff/Debuff)

> ğŸ“Œ **æ‰©å±•æ€§è®¾è®¡**: é€šè¿‡ç‹¬ç«‹çš„æ•ˆæœè¡¨ï¼Œæ”¯æŒæŠ€èƒ½é™„å¸¦å„ç§å¤æ‚æ•ˆæœ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | æ•ˆæœID |
| name | VARCHAR(32) | NOT NULL | æ•ˆæœåç§° |
| description | TEXT | | æè¿° |
| icon | VARCHAR(64) | | å›¾æ ‡æ ‡è¯†(é¢„ç•™) |
| type | VARCHAR(16) | NOT NULL | æ•ˆæœç±»å‹(è§ä¸‹è¡¨) |
| is_buff | INTEGER | NOT NULL | 1=å¢ç›Š 0=å‡ç›Š |
| is_stackable | INTEGER | DEFAULT 0 | æ˜¯å¦å¯å åŠ  |
| max_stacks | INTEGER | DEFAULT 1 | æœ€å¤§å åŠ å±‚æ•° |
| duration | INTEGER | NOT NULL | æŒç»­å›åˆæ•° |
| tick_interval | INTEGER | DEFAULT 1 | è§¦å‘é—´éš”(å›åˆ) |
| value_type | VARCHAR(16) | | æ•°å€¼ç±»å‹: flat/percent |
| value | REAL | | æ•ˆæœæ•°å€¼ |
| stat_affected | VARCHAR(32) | | å½±å“çš„å±æ€§ |
| damage_type | VARCHAR(16) | | DOTä¼¤å®³ç±»å‹ |
| can_dispel | INTEGER | DEFAULT 1 | æ˜¯å¦å¯é©±æ•£ |
| tags | TEXT | | æ ‡ç­¾(JSONæ•°ç»„) |

**æ•ˆæœç±»å‹ (type):**
| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|-----|
| `stat_mod` | å±æ€§ä¿®æ”¹ | æ”»å‡»åŠ›+10% |
| `dot` | æŒç»­ä¼¤å®³ | ä¸­æ¯’ã€ç‡ƒçƒ§ |
| `hot` | æŒç»­æ²»ç–— | å›æ˜¥æœ¯ |
| `shield` | ä¼¤å®³å¸æ”¶ | çœŸè¨€æœ¯:ç›¾ |
| `stun` | çœ©æ™• | æ— æ³•è¡ŒåŠ¨ |
| `silence` | æ²‰é»˜ | æ— æ³•æ–½æ³• |
| `slow` | å‡é€Ÿ | æ”»å‡»é€Ÿåº¦é™ä½(é¢„ç•™) |
| `root` | å®šèº« | æ— æ³•ç§»åŠ¨(é¢„ç•™) |
| `taunt` | å˜²è®½ | å¼ºåˆ¶æ”»å‡»è‡ªå·± |
| `immunity` | å…ç–« | å…ç–«æŸç±»ä¼¤å®³ |
| `reflect` | åå°„ | åå¼¹ä¼¤å®³ |
| `lifesteal` | å¸è¡€ | é€ æˆä¼¤å®³æ—¶å›è¡€ |
| `thorns` | è†æ£˜ | è¢«æ”»å‡»æ—¶åä¼¤ |
| `stealth` | æ½œè¡Œ | éšèº«çŠ¶æ€ |
| `invulnerable` | æ— æ•Œ | å…ç–«æ‰€æœ‰ä¼¤å®³ |

**å¯å½±å“çš„å±æ€§ (stat_affected):**
- `attack` - æ”»å‡»åŠ›
- `defense` - é˜²å¾¡åŠ›
- `max_hp` - æœ€å¤§ç”Ÿå‘½å€¼
- `max_mp` - æœ€å¤§æ³•åŠ›å€¼
- `crit_rate` - æš´å‡»ç‡
- `crit_damage` - æš´å‡»ä¼¤å®³
- `hit_rate` - å‘½ä¸­ç‡(é¢„ç•™)
- `dodge_rate` - é—ªé¿ç‡(é¢„ç•™)
- `damage_taken` - å—åˆ°çš„ä¼¤å®³
- `damage_dealt` - é€ æˆçš„ä¼¤å®³
- `healing_taken` - å—åˆ°çš„æ²»ç–—
- `healing_done` - é€ æˆçš„æ²»ç–—

```sql
-- æŠ€èƒ½è¡¨å®šä¹‰è§ä¸Šæ–¹"5. skills - æŠ€èƒ½é…ç½®è¡¨"ç« èŠ‚çš„å®Œæ•´å®šä¹‰
-- ä¸»è¦å­—æ®µåŒ…æ‹¬: resource_cost (èƒ½é‡æ¶ˆè€—ï¼Œæ”¯æŒæ€’æ°”/èƒ½é‡/æ³•åŠ›)
```

---

### 6. character_skills - è§’è‰²æŠ€èƒ½è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| skill_id | VARCHAR(32) | NOT NULL FK | æŠ€èƒ½ID |
| skill_level | INTEGER | DEFAULT 1 | æŠ€èƒ½ç­‰çº§ |
| slot | INTEGER | | æŠ€èƒ½æ§½ä½(nullä¸ºæœªè£…å¤‡) |
| is_auto | INTEGER | DEFAULT 1 | è‡ªåŠ¨é‡Šæ”¾: 1æ˜¯ 0å¦ |

```sql
CREATE TABLE character_skills (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    skill_id VARCHAR(32) NOT NULL,
    skill_level INTEGER DEFAULT 1,
    slot INTEGER,
    is_auto INTEGER DEFAULT 1,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id),
    UNIQUE(character_id, skill_id)
);

CREATE INDEX idx_char_skills_char_id ON character_skills(character_id);
```

---

### 7. items - ç‰©å“é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | ç‰©å“ID |
| name | VARCHAR(64) | NOT NULL | ç‰©å“åç§° |
| description | TEXT | | æè¿° |
| type | VARCHAR(16) | NOT NULL | ç±»å‹: equipment/consumable/material/quest |
| subtype | VARCHAR(16) | | å­ç±»å‹ |
| quality | VARCHAR(16) | DEFAULT 'common' | å“è´¨: common/uncommon/rare/epic/legendary |
| level_required | INTEGER | DEFAULT 1 | éœ€æ±‚ç­‰çº§ |
| class_required | VARCHAR(32) | | éœ€æ±‚èŒä¸š |
| slot | VARCHAR(16) | | è£…å¤‡æ§½ä½ |
| stackable | INTEGER | DEFAULT 0 | å¯å †å : 1æ˜¯ 0å¦ |
| max_stack | INTEGER | DEFAULT 1 | æœ€å¤§å †å æ•° |
| sell_price | INTEGER | DEFAULT 0 | å”®ä»· |
| buy_price | INTEGER | DEFAULT 0 | è´­ä¹°ä»· |
| strength | INTEGER | DEFAULT 0 | åŠ›é‡åŠ æˆ |
| agility | INTEGER | DEFAULT 0 | æ•æ·åŠ æˆ |
| intellect | INTEGER | DEFAULT 0 | æ™ºåŠ›åŠ æˆ |
| stamina | INTEGER | DEFAULT 0 | è€åŠ›åŠ æˆ |
| spirit | INTEGER | DEFAULT 0 | ç²¾ç¥åŠ æˆ |
| attack | INTEGER | DEFAULT 0 | æ”»å‡»åŠ æˆ |
| defense | INTEGER | DEFAULT 0 | é˜²å¾¡åŠ æˆ |
| hp_bonus | INTEGER | DEFAULT 0 | HPåŠ æˆ |
| mp_bonus | INTEGER | DEFAULT 0 | MPåŠ æˆ |
| crit_rate | REAL | DEFAULT 0 | æš´å‡»ç‡åŠ æˆ |
| effect_type | VARCHAR(32) | | ä½¿ç”¨æ•ˆæœç±»å‹ |
| effect_value | INTEGER | | ä½¿ç”¨æ•ˆæœæ•°å€¼ |

```sql
CREATE TABLE items (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    type VARCHAR(16) NOT NULL,
    subtype VARCHAR(16),
    quality VARCHAR(16) DEFAULT 'common',
    level_required INTEGER DEFAULT 1,
    class_required VARCHAR(32),
    slot VARCHAR(16),
    stackable INTEGER DEFAULT 0,
    max_stack INTEGER DEFAULT 1,
    sell_price INTEGER DEFAULT 0,
    buy_price INTEGER DEFAULT 0,
    strength INTEGER DEFAULT 0,
    agility INTEGER DEFAULT 0,
    intellect INTEGER DEFAULT 0,
    stamina INTEGER DEFAULT 0,
    spirit INTEGER DEFAULT 0,
    attack INTEGER DEFAULT 0,
    defense INTEGER DEFAULT 0,
    hp_bonus INTEGER DEFAULT 0,
    mp_bonus INTEGER DEFAULT 0,
    crit_rate REAL DEFAULT 0,
    effect_type VARCHAR(32),
    effect_value INTEGER
);

CREATE INDEX idx_items_type ON items(type);
CREATE INDEX idx_items_quality ON items(quality);
```

**è£…å¤‡æ§½ä½ (slot) å®šä¹‰:**
- `head` - å¤´éƒ¨
- `shoulder` - è‚©éƒ¨
- `chest` - èƒ¸ç”²
- `hands` - æ‰‹å¥—
- `legs` - è…¿éƒ¨
- `feet` - è„šéƒ¨
- `main_hand` - ä¸»æ‰‹æ­¦å™¨
- `off_hand` - å‰¯æ‰‹
- `neck` - é¡¹é“¾
- `ring` - æˆ’æŒ‡
- `trinket` - é¥°å“

---

### 8. inventory - èƒŒåŒ…è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| item_id | VARCHAR(32) | NOT NULL FK | ç‰©å“ID |
| quantity | INTEGER | DEFAULT 1 | æ•°é‡ |
| slot | INTEGER | | èƒŒåŒ…æ§½ä½ |

```sql
CREATE TABLE inventory (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    item_id VARCHAR(32) NOT NULL,
    quantity INTEGER DEFAULT 1,
    slot INTEGER,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (item_id) REFERENCES items(id)
);

CREATE INDEX idx_inventory_char_id ON inventory(character_id);
```

---

### 9. equipment - è£…å¤‡è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| slot | VARCHAR(16) | NOT NULL | è£…å¤‡æ§½ä½ |
| item_id | VARCHAR(32) | NOT NULL FK | ç‰©å“ID |

```sql
CREATE TABLE equipment (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    slot VARCHAR(16) NOT NULL,
    item_id VARCHAR(32) NOT NULL,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (item_id) REFERENCES items(id),
    UNIQUE(character_id, slot)
);

CREATE INDEX idx_equipment_char_id ON equipment(character_id);
```

---

### 10. zones - åŒºåŸŸé…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | åŒºåŸŸID |
| name | VARCHAR(64) | NOT NULL | åŒºåŸŸåç§° |
| description | TEXT | | æè¿° |
| min_level | INTEGER | DEFAULT 1 | æœ€ä½ç­‰çº§ |
| max_level | INTEGER | DEFAULT 60 | æœ€é«˜ç­‰çº§ |
| faction | VARCHAR(16) | | é˜µè¥é™åˆ¶ |
| parent_zone_id | VARCHAR(32) | | çˆ¶åŒºåŸŸ |
| exp_modifier | REAL | DEFAULT 1.0 | ç»éªŒå€ç‡ |
| gold_modifier | REAL | DEFAULT 1.0 | é‡‘å¸å€ç‡ |
| drop_modifier | REAL | DEFAULT 1.0 | æ‰è½å€ç‡ |
| is_dungeon | INTEGER | DEFAULT 0 | æ˜¯å¦å‰¯æœ¬ |
| unlock_condition | TEXT | | è§£é”æ¡ä»¶(JSON) |

```sql
CREATE TABLE zones (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    min_level INTEGER DEFAULT 1,
    max_level INTEGER DEFAULT 60,
    faction VARCHAR(16),
    parent_zone_id VARCHAR(32),
    exp_modifier REAL DEFAULT 1.0,
    gold_modifier REAL DEFAULT 1.0,
    drop_modifier REAL DEFAULT 1.0,
    is_dungeon INTEGER DEFAULT 0,
    unlock_condition TEXT,
    FOREIGN KEY (parent_zone_id) REFERENCES zones(id)
);
```

---

### 11. monsters - æ€ªç‰©é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | æ€ªç‰©ID |
| zone_id | VARCHAR(32) | NOT NULL FK | æ‰€å±åŒºåŸŸ |
| name | VARCHAR(64) | NOT NULL | æ€ªç‰©åç§° |
| description | TEXT | | æè¿° |
| level | INTEGER | NOT NULL | ç­‰çº§ |
| type | VARCHAR(16) | DEFAULT 'normal' | ç±»å‹: normal/elite/boss |
| hp | INTEGER | NOT NULL | ç”Ÿå‘½å€¼ |
| mp | INTEGER | DEFAULT 0 | æ³•åŠ›å€¼ |
| attack | INTEGER | NOT NULL | æ”»å‡»åŠ› |
| defense | INTEGER | NOT NULL | é˜²å¾¡åŠ› |
| exp_reward | INTEGER | NOT NULL | ç»éªŒå¥–åŠ± |
| gold_min | INTEGER | DEFAULT 0 | æœ€å°é‡‘å¸ |
| gold_max | INTEGER | DEFAULT 0 | æœ€å¤§é‡‘å¸ |
| spawn_weight | INTEGER | DEFAULT 100 | ç”Ÿæˆæƒé‡ |
| skills | TEXT | | æŠ€èƒ½åˆ—è¡¨(JSON) |

```sql
CREATE TABLE monsters (
    id VARCHAR(32) PRIMARY KEY,
    zone_id VARCHAR(32) NOT NULL,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    level INTEGER NOT NULL,
    type VARCHAR(16) DEFAULT 'normal',
    hp INTEGER NOT NULL,
    mp INTEGER DEFAULT 0,
    attack INTEGER NOT NULL,
    defense INTEGER NOT NULL,
    exp_reward INTEGER NOT NULL,
    gold_min INTEGER DEFAULT 0,
    gold_max INTEGER DEFAULT 0,
    spawn_weight INTEGER DEFAULT 100,
    skills TEXT,
    FOREIGN KEY (zone_id) REFERENCES zones(id)
);

CREATE INDEX idx_monsters_zone_id ON monsters(zone_id);
CREATE INDEX idx_monsters_level ON monsters(level);
```

---

### 12. monster_drops - æ€ªç‰©æ‰è½è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| monster_id | VARCHAR(32) | NOT NULL FK | æ€ªç‰©ID |
| item_id | VARCHAR(32) | NOT NULL FK | ç‰©å“ID |
| drop_rate | REAL | NOT NULL | æ‰è½ç‡(0-1) |
| min_quantity | INTEGER | DEFAULT 1 | æœ€å°æ•°é‡ |
| max_quantity | INTEGER | DEFAULT 1 | æœ€å¤§æ•°é‡ |

```sql
CREATE TABLE monster_drops (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    monster_id VARCHAR(32) NOT NULL,
    item_id VARCHAR(32) NOT NULL,
    drop_rate REAL NOT NULL,
    min_quantity INTEGER DEFAULT 1,
    max_quantity INTEGER DEFAULT 1,
    FOREIGN KEY (monster_id) REFERENCES monsters(id),
    FOREIGN KEY (item_id) REFERENCES items(id)
);

CREATE INDEX idx_monster_drops_monster_id ON monster_drops(monster_id);
```

---

### 13. battle_strategies - æˆ˜æ–—ç­–ç•¥è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| name | VARCHAR(32) | NOT NULL | ç­–ç•¥åç§° |
| priority | INTEGER | NOT NULL | ä¼˜å…ˆçº§(è¶Šå°è¶Šä¼˜å…ˆ) |
| condition_type | VARCHAR(32) | NOT NULL | æ¡ä»¶ç±»å‹ |
| condition_operator | VARCHAR(8) | NOT NULL | æ¯”è¾ƒè¿ç®—ç¬¦ |
| condition_value | REAL | NOT NULL | æ¡ä»¶æ•°å€¼ |
| action_type | VARCHAR(32) | NOT NULL | åŠ¨ä½œç±»å‹ |
| action_target | VARCHAR(32) | | åŠ¨ä½œç›®æ ‡ |
| skill_id | VARCHAR(32) | | ä½¿ç”¨æŠ€èƒ½ |
| item_id | VARCHAR(32) | | ä½¿ç”¨ç‰©å“ |
| is_active | INTEGER | DEFAULT 1 | æ˜¯å¦æ¿€æ´» |

```sql
CREATE TABLE battle_strategies (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    name VARCHAR(32) NOT NULL,
    priority INTEGER NOT NULL,
    condition_type VARCHAR(32) NOT NULL,
    condition_operator VARCHAR(8) NOT NULL,
    condition_value REAL NOT NULL,
    action_type VARCHAR(32) NOT NULL,
    action_target VARCHAR(32),
    skill_id VARCHAR(32),
    item_id VARCHAR(32),
    is_active INTEGER DEFAULT 1,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id),
    FOREIGN KEY (item_id) REFERENCES items(id)
);

CREATE INDEX idx_strategies_char_id ON battle_strategies(character_id);
```

**æ¡ä»¶ç±»å‹ (condition_type):**
- `self_hp_percent` - è‡ªèº«HPç™¾åˆ†æ¯”
- `self_mp_percent` - è‡ªèº«MPç™¾åˆ†æ¯”
- `enemy_hp_percent` - æ•ŒäººHPç™¾åˆ†æ¯”
- `battle_round` - æˆ˜æ–—å›åˆæ•°
- `always` - å§‹ç»ˆè§¦å‘

**åŠ¨ä½œç±»å‹ (action_type):**
- `use_skill` - ä½¿ç”¨æŠ€èƒ½
- `use_item` - ä½¿ç”¨ç‰©å“
- `normal_attack` - æ™®é€šæ”»å‡»
- `flee` - é€ƒè·‘

---

### 14. game_sessions - æ¸¸æˆä¼šè¯è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| session_start | DATETIME | NOT NULL | ä¼šè¯å¼€å§‹ |
| session_end | DATETIME | | ä¼šè¯ç»“æŸ |
| kills | INTEGER | DEFAULT 0 | å‡»æ€æ•° |
| exp_gained | INTEGER | DEFAULT 0 | è·å¾—ç»éªŒ |
| gold_gained | INTEGER | DEFAULT 0 | è·å¾—é‡‘å¸ |
| deaths | INTEGER | DEFAULT 0 | æ­»äº¡æ¬¡æ•° |

```sql
CREATE TABLE game_sessions (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    session_start DATETIME NOT NULL,
    session_end DATETIME,
    kills INTEGER DEFAULT 0,
    exp_gained INTEGER DEFAULT 0,
    gold_gained INTEGER DEFAULT 0,
    deaths INTEGER DEFAULT 0,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
);

CREATE INDEX idx_sessions_char_id ON game_sessions(character_id);
```

---

## ğŸ“Š æˆ˜æ–—æ•°æ®åˆ†æç³»ç»Ÿ

> ğŸ“Œ **æ•°æ®é©±åŠ¨å†³ç­–**: å®Œæ•´è®°å½•æ¯åœºæˆ˜æ–—å’Œæ¯ä¸ªè§’è‰²çš„è¯¦ç»†æ•°æ®ï¼Œå¸®åŠ©ç©å®¶åˆ†æå›¢é˜Ÿè¡¨ç°ã€ä¼˜åŒ–æˆ˜æœ¯é…ç½®

### ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æˆ˜æ–—æ•°æ®åˆ†æç³»ç»Ÿ                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                        å®æ—¶æˆ˜æ–—é¢æ¿                                   â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚ æˆ˜å£«     â”‚ â”‚ æ³•å¸ˆ     â”‚ â”‚ ç‰§å¸ˆ     â”‚ â”‚ ç›—è´¼     â”‚ â”‚ çŒäºº     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ DPS:156  â”‚ â”‚ DPS:203  â”‚ â”‚ HPS:89   â”‚ â”‚ DPS:178  â”‚ â”‚ DPS:145  â”‚  â”‚   â”‚
â”‚  â”‚  â”‚ æ‰¿ä¼¤:45% â”‚ â”‚ æ‰¿ä¼¤:8%  â”‚ â”‚ æ‰¿ä¼¤:12% â”‚ â”‚ æ‰¿ä¼¤:15% â”‚ â”‚ æ‰¿ä¼¤:20% â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“ˆ ä¼¤å®³ç»Ÿè®¡          â”‚  â”‚ ğŸ›¡ï¸ æ‰¿ä¼¤ç»Ÿè®¡          â”‚  â”‚ ğŸ’š æ²»ç–—ç»Ÿè®¡     â”‚    â”‚
â”‚  â”‚ æ€»ä¼¤å®³: 125,432     â”‚  â”‚ æ€»æ‰¿ä¼¤: 45,678      â”‚  â”‚ æ€»æ²»ç–—: 32,100  â”‚    â”‚
â”‚  â”‚ æš´å‡»ç‡: 23.5%       â”‚  â”‚ é—ªé¿æ¬¡æ•°: 156       â”‚  â”‚ è¿‡é‡æ²»ç–—: 12%   â”‚    â”‚
â”‚  â”‚ æœ€é«˜å•æ¬¡: 1,234     â”‚  â”‚ æ ¼æŒ¡æ¬¡æ•°: 89        â”‚  â”‚ æ²»ç–—ç›®æ ‡åˆ†å¸ƒ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒç»Ÿè®¡æŒ‡æ ‡

| ç±»åˆ« | æŒ‡æ ‡ | è¯´æ˜ | ç”¨é€” |
|-----|------|-----|------|
| **è¾“å‡º** | æ€»ä¼¤å®³ (Damage Dealt) | é€ æˆçš„æ€»ä¼¤å®³å€¼ | è¯„ä¼°è¾“å‡ºèƒ½åŠ› |
| | DPS (æ¯å›åˆä¼¤å®³) | ä¼¤å®³ Ã· æˆ˜æ–—å›åˆæ•° | å¯¹æ¯”è¾“å‡ºæ•ˆç‡ |
| | æš´å‡»æ¬¡æ•°/ç‡ | æš´å‡»è§¦å‘ç»Ÿè®¡ | éªŒè¯æš´å‡»æ”¶ç›Š |
| | æŠ€èƒ½ä¼¤å®³å æ¯” | å„æŠ€èƒ½è´¡çŒ®æ¯”ä¾‹ | ä¼˜åŒ–æŠ€èƒ½é€‰æ‹© |
| **æ‰¿ä¼¤** | æ€»æ‰¿ä¼¤ (Damage Taken) | å—åˆ°çš„æ€»ä¼¤å®³å€¼ | è¯„ä¼°å¦å…‹å‹åŠ› |
| | DTPS (æ¯å›åˆæ‰¿ä¼¤) | æ‰¿ä¼¤ Ã· æˆ˜æ–—å›åˆæ•° | è¯„ä¼°ç”Ÿå­˜å‹åŠ› |
| | é—ªé¿/æ ¼æŒ¡/å‡ä¼¤ | é˜²å¾¡è§¦å‘ç»Ÿè®¡ | éªŒè¯é˜²å¾¡æ”¶ç›Š |
| **æ²»ç–—** | æ€»æ²»ç–— (Healing Done) | äº§ç”Ÿçš„æ€»æ²»ç–—é‡ | è¯„ä¼°æ²»ç–—èƒ½åŠ› |
| | HPS (æ¯å›åˆæ²»ç–—) | æ²»ç–— Ã· æˆ˜æ–—å›åˆæ•° | å¯¹æ¯”æ²»ç–—æ•ˆç‡ |
| | è¿‡é‡æ²»ç–— (Overheal) | æº¢å‡ºçš„æ²»ç–—é‡ | ä¼˜åŒ–æ²»ç–—æ—¶æœº |
| | å—åˆ°æ²»ç–— | æ”¶åˆ°çš„æ²»ç–—é‡ | è¯„ä¼°è¢«å…³æ³¨åº¦ |
| **æ•ˆç‡** | å‡»æ€æ•° | å‡»æ€çš„æ•Œäººæ•°é‡ | ç»¼åˆè´¡çŒ® |
| | æ­»äº¡æ•° | è¢«å‡»å€’æ¬¡æ•° | ç”Ÿå­˜èƒ½åŠ› |
| | æŠ€èƒ½å‘½ä¸­ç‡ | æŠ€èƒ½å®é™…å‘½ä¸­æ¯”ä¾‹ | æŠ€èƒ½æ•ˆç‡ |

---

### 15. battle_records - æˆ˜æ–—è®°å½•è¡¨

> ğŸ“Œ **å•åœºæˆ˜æ–—è®°å½•**: è®°å½•æ¯ä¸€åœºæˆ˜æ–—çš„åŸºæœ¬ä¿¡æ¯

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | æˆ˜æ–—ID |
| user_id | INTEGER | NOT NULL FK | ç”¨æˆ·ID |
| zone_id | VARCHAR(32) | NOT NULL FK | åŒºåŸŸID |
| battle_type | VARCHAR(16) | NOT NULL | ç±»å‹: pve/pvp/boss/abyss |
| monster_id | VARCHAR(32) | | æ€ªç‰©ID(PVE) |
| opponent_user_id | INTEGER | | å¯¹æ‰‹ID(PVP) |
| total_rounds | INTEGER | DEFAULT 0 | æ€»å›åˆæ•° |
| duration_seconds | INTEGER | DEFAULT 0 | æˆ˜æ–—æ—¶é•¿(ç§’) |
| result | VARCHAR(16) | NOT NULL | ç»“æœ: victory/defeat/draw/flee |
| team_damage_dealt | INTEGER | DEFAULT 0 | é˜Ÿä¼æ€»è¾“å‡ºä¼¤å®³ |
| team_damage_taken | INTEGER | DEFAULT 0 | é˜Ÿä¼æ€»æ‰¿å—ä¼¤å®³ |
| team_healing_done | INTEGER | DEFAULT 0 | é˜Ÿä¼æ€»æ²»ç–—é‡ |
| exp_gained | INTEGER | DEFAULT 0 | è·å¾—ç»éªŒ |
| gold_gained | INTEGER | DEFAULT 0 | è·å¾—é‡‘å¸ |
| battle_log | TEXT | | è¯¦ç»†æˆ˜æ–—æ—¥å¿—(JSON) |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æˆ˜æ–—æ—¶é—´ |

```sql
CREATE TABLE battle_records (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    zone_id VARCHAR(32) NOT NULL,
    battle_type VARCHAR(16) NOT NULL,
    monster_id VARCHAR(32),
    opponent_user_id INTEGER,
    total_rounds INTEGER DEFAULT 0,
    duration_seconds INTEGER DEFAULT 0,
    result VARCHAR(16) NOT NULL,
    team_damage_dealt INTEGER DEFAULT 0,
    team_damage_taken INTEGER DEFAULT 0,
    team_healing_done INTEGER DEFAULT 0,
    exp_gained INTEGER DEFAULT 0,
    gold_gained INTEGER DEFAULT 0,
    battle_log TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (zone_id) REFERENCES zones(id),
    FOREIGN KEY (monster_id) REFERENCES monsters(id),
    FOREIGN KEY (opponent_user_id) REFERENCES users(id)
);

CREATE INDEX idx_battle_records_user ON battle_records(user_id);
CREATE INDEX idx_battle_records_time ON battle_records(created_at DESC);
CREATE INDEX idx_battle_records_zone ON battle_records(zone_id);
CREATE INDEX idx_battle_records_type ON battle_records(battle_type);
```

---

### 16. battle_character_stats - æˆ˜æ–—è§’è‰²ç»Ÿè®¡è¡¨

> ğŸ“Œ **å•åœºè§’è‰²æ•°æ®**: è®°å½•æ¯åœºæˆ˜æ–—ä¸­æ¯ä¸ªè§’è‰²çš„è¯¦ç»†è¡¨ç°

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| battle_id | INTEGER | NOT NULL FK | æˆ˜æ–—è®°å½•ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| team_slot | INTEGER | NOT NULL | é˜Ÿä¼ä½ç½® |
| **â”€â”€â”€ ä¼¤å®³ç»Ÿè®¡ â”€â”€â”€** |
| damage_dealt | INTEGER | DEFAULT 0 | é€ æˆæ€»ä¼¤å®³ |
| physical_damage | INTEGER | DEFAULT 0 | ç‰©ç†ä¼¤å®³ |
| magic_damage | INTEGER | DEFAULT 0 | é­”æ³•ä¼¤å®³ |
| fire_damage | INTEGER | DEFAULT 0 | ç«ç„°ä¼¤å®³ |
| frost_damage | INTEGER | DEFAULT 0 | å†°éœœä¼¤å®³ |
| shadow_damage | INTEGER | DEFAULT 0 | æš—å½±ä¼¤å®³ |
| holy_damage | INTEGER | DEFAULT 0 | ç¥åœ£ä¼¤å®³ |
| nature_damage | INTEGER | DEFAULT 0 | è‡ªç„¶ä¼¤å®³ |
| dot_damage | INTEGER | DEFAULT 0 | DOTä¼¤å®³ |
| **â”€â”€â”€ æš´å‡»ç»Ÿè®¡ â”€â”€â”€** |
| crit_count | INTEGER | DEFAULT 0 | æš´å‡»æ¬¡æ•° |
| crit_damage | INTEGER | DEFAULT 0 | æš´å‡»é€ æˆçš„æ€»ä¼¤å®³ |
| max_crit | INTEGER | DEFAULT 0 | æœ€é«˜å•æ¬¡æš´å‡» |
| **â”€â”€â”€ æ‰¿ä¼¤ç»Ÿè®¡ â”€â”€â”€** |
| damage_taken | INTEGER | DEFAULT 0 | å—åˆ°æ€»ä¼¤å®³ |
| physical_taken | INTEGER | DEFAULT 0 | ç‰©ç†æ‰¿ä¼¤ |
| magic_taken | INTEGER | DEFAULT 0 | é­”æ³•æ‰¿ä¼¤ |
| damage_blocked | INTEGER | DEFAULT 0 | æ ¼æŒ¡ä¼¤å®³ |
| damage_absorbed | INTEGER | DEFAULT 0 | æŠ¤ç›¾å¸æ”¶ |
| **â”€â”€â”€ é—ªé¿ç»Ÿè®¡ â”€â”€â”€** |
| dodge_count | INTEGER | DEFAULT 0 | é—ªé¿æ¬¡æ•° |
| block_count | INTEGER | DEFAULT 0 | æ ¼æŒ¡æ¬¡æ•° |
| hit_count | INTEGER | DEFAULT 0 | è¢«å‘½ä¸­æ¬¡æ•° |
| **â”€â”€â”€ æ²»ç–—ç»Ÿè®¡ â”€â”€â”€** |
| healing_done | INTEGER | DEFAULT 0 | é€ æˆæ²»ç–—é‡ |
| healing_received | INTEGER | DEFAULT 0 | å—åˆ°æ²»ç–—é‡ |
| overhealing | INTEGER | DEFAULT 0 | è¿‡é‡æ²»ç–— |
| self_healing | INTEGER | DEFAULT 0 | è‡ªæˆ‘æ²»ç–— |
| hot_healing | INTEGER | DEFAULT 0 | HOTæ²»ç–— |
| **â”€â”€â”€ æŠ€èƒ½ç»Ÿè®¡ â”€â”€â”€** |
| skill_uses | INTEGER | DEFAULT 0 | æŠ€èƒ½ä½¿ç”¨æ¬¡æ•° |
| skill_hits | INTEGER | DEFAULT 0 | æŠ€èƒ½å‘½ä¸­æ¬¡æ•° |
| skill_misses | INTEGER | DEFAULT 0 | æŠ€èƒ½æœªå‘½ä¸­ |
| **â”€â”€â”€ æ§åˆ¶ç»Ÿè®¡ â”€â”€â”€** |
| cc_applied | INTEGER | DEFAULT 0 | æ–½åŠ æ§åˆ¶æ¬¡æ•° |
| cc_received | INTEGER | DEFAULT 0 | å—åˆ°æ§åˆ¶æ¬¡æ•° |
| dispels | INTEGER | DEFAULT 0 | é©±æ•£æ¬¡æ•° |
| interrupts | INTEGER | DEFAULT 0 | æ‰“æ–­æ¬¡æ•° |
| **â”€â”€â”€ å…¶ä»–ç»Ÿè®¡ â”€â”€â”€** |
| kills | INTEGER | DEFAULT 0 | å‡»æ€æ•°(æœ€åä¸€å‡») |
| deaths | INTEGER | DEFAULT 0 | æ­»äº¡æ¬¡æ•° |
| resurrects | INTEGER | DEFAULT 0 | å¤æ´»æ¬¡æ•° |
| resource_used | INTEGER | DEFAULT 0 | æ¶ˆè€—èƒ½é‡æ€»é‡ |
| resource_generated | INTEGER | DEFAULT 0 | è·å¾—èƒ½é‡æ€»é‡ |

```sql
CREATE TABLE battle_character_stats (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    battle_id INTEGER NOT NULL,
    character_id INTEGER NOT NULL,
    team_slot INTEGER NOT NULL,
    -- ä¼¤å®³ç»Ÿè®¡
    damage_dealt INTEGER DEFAULT 0,
    physical_damage INTEGER DEFAULT 0,
    magic_damage INTEGER DEFAULT 0,
    fire_damage INTEGER DEFAULT 0,
    frost_damage INTEGER DEFAULT 0,
    shadow_damage INTEGER DEFAULT 0,
    holy_damage INTEGER DEFAULT 0,
    nature_damage INTEGER DEFAULT 0,
    dot_damage INTEGER DEFAULT 0,
    -- æš´å‡»ç»Ÿè®¡
    crit_count INTEGER DEFAULT 0,
    crit_damage INTEGER DEFAULT 0,
    max_crit INTEGER DEFAULT 0,
    -- æ‰¿ä¼¤ç»Ÿè®¡
    damage_taken INTEGER DEFAULT 0,
    physical_taken INTEGER DEFAULT 0,
    magic_taken INTEGER DEFAULT 0,
    damage_blocked INTEGER DEFAULT 0,
    damage_absorbed INTEGER DEFAULT 0,
    -- é—ªé¿ç»Ÿè®¡
    dodge_count INTEGER DEFAULT 0,
    block_count INTEGER DEFAULT 0,
    hit_count INTEGER DEFAULT 0,
    -- æ²»ç–—ç»Ÿè®¡
    healing_done INTEGER DEFAULT 0,
    healing_received INTEGER DEFAULT 0,
    overhealing INTEGER DEFAULT 0,
    self_healing INTEGER DEFAULT 0,
    hot_healing INTEGER DEFAULT 0,
    -- æŠ€èƒ½ç»Ÿè®¡
    skill_uses INTEGER DEFAULT 0,
    skill_hits INTEGER DEFAULT 0,
    skill_misses INTEGER DEFAULT 0,
    -- æ§åˆ¶ç»Ÿè®¡
    cc_applied INTEGER DEFAULT 0,
    cc_received INTEGER DEFAULT 0,
    dispels INTEGER DEFAULT 0,
    interrupts INTEGER DEFAULT 0,
    -- å…¶ä»–ç»Ÿè®¡
    kills INTEGER DEFAULT 0,
    deaths INTEGER DEFAULT 0,
    resurrects INTEGER DEFAULT 0,
    resource_used INTEGER DEFAULT 0,
    resource_generated INTEGER DEFAULT 0,
    FOREIGN KEY (battle_id) REFERENCES battle_records(id) ON DELETE CASCADE,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
);

CREATE INDEX idx_battle_char_stats_battle ON battle_character_stats(battle_id);
CREATE INDEX idx_battle_char_stats_char ON battle_character_stats(character_id);
```

---

### 17. character_lifetime_stats - è§’è‰²ç”Ÿæ¶¯ç»Ÿè®¡è¡¨

> ğŸ“Œ **ç´¯è®¡ç»Ÿè®¡æ•°æ®**: è§’è‰²ä»åˆ›å»ºè‡³ä»Šçš„æ‰€æœ‰æˆ˜æ–—æ•°æ®æ±‡æ€»

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| character_id | INTEGER | PRIMARY KEY FK | è§’è‰²ID |
| **â”€â”€â”€ æˆ˜æ–—åœºæ¬¡ â”€â”€â”€** |
| total_battles | INTEGER | DEFAULT 0 | æ€»æˆ˜æ–—åœºæ•° |
| victories | INTEGER | DEFAULT 0 | èƒœåˆ©åœºæ•° |
| defeats | INTEGER | DEFAULT 0 | å¤±è´¥åœºæ•° |
| pve_battles | INTEGER | DEFAULT 0 | PVEæˆ˜æ–—æ•° |
| pvp_battles | INTEGER | DEFAULT 0 | PVPæˆ˜æ–—æ•° |
| boss_kills | INTEGER | DEFAULT 0 | Bosså‡»æ€æ•° |
| **â”€â”€â”€ ç´¯è®¡ä¼¤å®³ â”€â”€â”€** |
| total_damage_dealt | INTEGER | DEFAULT 0 | æ€»é€ æˆä¼¤å®³ |
| total_physical_damage | INTEGER | DEFAULT 0 | ç‰©ç†æ€»ä¼¤å®³ |
| total_magic_damage | INTEGER | DEFAULT 0 | é­”æ³•æ€»ä¼¤å®³ |
| total_crit_damage | INTEGER | DEFAULT 0 | æš´å‡»æ€»ä¼¤å®³ |
| total_crit_count | INTEGER | DEFAULT 0 | æ€»æš´å‡»æ¬¡æ•° |
| highest_damage_single | INTEGER | DEFAULT 0 | å•æ¬¡æœ€é«˜ä¼¤å®³ |
| highest_damage_battle | INTEGER | DEFAULT 0 | å•åœºæœ€é«˜ä¼¤å®³ |
| **â”€â”€â”€ ç´¯è®¡æ‰¿ä¼¤ â”€â”€â”€** |
| total_damage_taken | INTEGER | DEFAULT 0 | æ€»æ‰¿å—ä¼¤å®³ |
| total_damage_blocked | INTEGER | DEFAULT 0 | æ€»æ ¼æŒ¡ä¼¤å®³ |
| total_damage_absorbed | INTEGER | DEFAULT 0 | æ€»å¸æ”¶ä¼¤å®³ |
| total_dodge_count | INTEGER | DEFAULT 0 | æ€»é—ªé¿æ¬¡æ•° |
| **â”€â”€â”€ ç´¯è®¡æ²»ç–— â”€â”€â”€** |
| total_healing_done | INTEGER | DEFAULT 0 | æ€»æ²»ç–—é‡ |
| total_healing_received | INTEGER | DEFAULT 0 | æ€»å—åˆ°æ²»ç–— |
| total_overhealing | INTEGER | DEFAULT 0 | æ€»è¿‡é‡æ²»ç–— |
| highest_healing_single | INTEGER | DEFAULT 0 | å•æ¬¡æœ€é«˜æ²»ç–— |
| highest_healing_battle | INTEGER | DEFAULT 0 | å•åœºæœ€é«˜æ²»ç–— |
| **â”€â”€â”€ å‡»æ€ä¸æ­»äº¡ â”€â”€â”€** |
| total_kills | INTEGER | DEFAULT 0 | æ€»å‡»æ€æ•° |
| total_deaths | INTEGER | DEFAULT 0 | æ€»æ­»äº¡æ•° |
| kill_streak_best | INTEGER | DEFAULT 0 | æœ€é•¿è¿æ€ |
| current_kill_streak | INTEGER | DEFAULT 0 | å½“å‰è¿æ€ |
| **â”€â”€â”€ æŠ€èƒ½ä½¿ç”¨ â”€â”€â”€** |
| total_skill_uses | INTEGER | DEFAULT 0 | æŠ€èƒ½æ€»ä½¿ç”¨æ¬¡æ•° |
| total_skill_hits | INTEGER | DEFAULT 0 | æŠ€èƒ½æ€»å‘½ä¸­æ•° |
| **â”€â”€â”€ èµ„æºç»Ÿè®¡ â”€â”€â”€** |
| total_resource_used | INTEGER | DEFAULT 0 | æ€»æ¶ˆè€—èƒ½é‡ |
| total_rounds | INTEGER | DEFAULT 0 | æ€»æˆ˜æ–—å›åˆæ•° |
| total_battle_time | INTEGER | DEFAULT 0 | æ€»æˆ˜æ–—æ—¶é—´(ç§’) |
| **â”€â”€â”€ æœ€åæ›´æ–° â”€â”€â”€** |
| last_battle_at | DATETIME | | æœ€åæˆ˜æ–—æ—¶é—´ |
| updated_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æ›´æ–°æ—¶é—´ |

```sql
CREATE TABLE character_lifetime_stats (
    character_id INTEGER PRIMARY KEY,
    -- æˆ˜æ–—åœºæ¬¡
    total_battles INTEGER DEFAULT 0,
    victories INTEGER DEFAULT 0,
    defeats INTEGER DEFAULT 0,
    pve_battles INTEGER DEFAULT 0,
    pvp_battles INTEGER DEFAULT 0,
    boss_kills INTEGER DEFAULT 0,
    -- ç´¯è®¡ä¼¤å®³
    total_damage_dealt INTEGER DEFAULT 0,
    total_physical_damage INTEGER DEFAULT 0,
    total_magic_damage INTEGER DEFAULT 0,
    total_crit_damage INTEGER DEFAULT 0,
    total_crit_count INTEGER DEFAULT 0,
    highest_damage_single INTEGER DEFAULT 0,
    highest_damage_battle INTEGER DEFAULT 0,
    -- ç´¯è®¡æ‰¿ä¼¤
    total_damage_taken INTEGER DEFAULT 0,
    total_damage_blocked INTEGER DEFAULT 0,
    total_damage_absorbed INTEGER DEFAULT 0,
    total_dodge_count INTEGER DEFAULT 0,
    -- ç´¯è®¡æ²»ç–—
    total_healing_done INTEGER DEFAULT 0,
    total_healing_received INTEGER DEFAULT 0,
    total_overhealing INTEGER DEFAULT 0,
    highest_healing_single INTEGER DEFAULT 0,
    highest_healing_battle INTEGER DEFAULT 0,
    -- å‡»æ€ä¸æ­»äº¡
    total_kills INTEGER DEFAULT 0,
    total_deaths INTEGER DEFAULT 0,
    kill_streak_best INTEGER DEFAULT 0,
    current_kill_streak INTEGER DEFAULT 0,
    -- æŠ€èƒ½ä½¿ç”¨
    total_skill_uses INTEGER DEFAULT 0,
    total_skill_hits INTEGER DEFAULT 0,
    -- èµ„æºç»Ÿè®¡
    total_resource_used INTEGER DEFAULT 0,
    total_rounds INTEGER DEFAULT 0,
    total_battle_time INTEGER DEFAULT 0,
    -- æœ€åæ›´æ–°
    last_battle_at DATETIME,
    updated_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
);
```

---

### 18. battle_skill_breakdown - æˆ˜æ–—æŠ€èƒ½æ˜ç»†è¡¨

> ğŸ“Œ **æŠ€èƒ½ä½¿ç”¨æ˜ç»†**: è®°å½•æ¯åœºæˆ˜æ–—ä¸­å„æŠ€èƒ½çš„ä½¿ç”¨å’Œæ•ˆæœ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| battle_id | INTEGER | NOT NULL FK | æˆ˜æ–—è®°å½•ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| skill_id | VARCHAR(32) | NOT NULL FK | æŠ€èƒ½ID |
| use_count | INTEGER | DEFAULT 0 | ä½¿ç”¨æ¬¡æ•° |
| hit_count | INTEGER | DEFAULT 0 | å‘½ä¸­æ¬¡æ•° |
| crit_count | INTEGER | DEFAULT 0 | æš´å‡»æ¬¡æ•° |
| total_damage | INTEGER | DEFAULT 0 | é€ æˆæ€»ä¼¤å®³ |
| total_healing | INTEGER | DEFAULT 0 | é€ æˆæ€»æ²»ç–— |
| resource_cost | INTEGER | DEFAULT 0 | æ€»æ¶ˆè€—èƒ½é‡ |

```sql
CREATE TABLE battle_skill_breakdown (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    battle_id INTEGER NOT NULL,
    character_id INTEGER NOT NULL,
    skill_id VARCHAR(32) NOT NULL,
    use_count INTEGER DEFAULT 0,
    hit_count INTEGER DEFAULT 0,
    crit_count INTEGER DEFAULT 0,
    total_damage INTEGER DEFAULT 0,
    total_healing INTEGER DEFAULT 0,
    resource_cost INTEGER DEFAULT 0,
    FOREIGN KEY (battle_id) REFERENCES battle_records(id) ON DELETE CASCADE,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    FOREIGN KEY (skill_id) REFERENCES skills(id)
);

CREATE INDEX idx_skill_breakdown_battle ON battle_skill_breakdown(battle_id);
CREATE INDEX idx_skill_breakdown_char ON battle_skill_breakdown(character_id);
```

---

### 19. daily_statistics - æ¯æ—¥ç»Ÿè®¡æ±‡æ€»è¡¨

> ğŸ“Œ **æ¯æ—¥å¿«ç…§**: è®°å½•æ¯æ—¥æˆ˜æ–—æ•°æ®ï¼Œä¾¿äºè¶‹åŠ¿åˆ†æ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| user_id | INTEGER | NOT NULL FK | ç”¨æˆ·ID |
| stat_date | DATE | NOT NULL | ç»Ÿè®¡æ—¥æœŸ |
| battles_count | INTEGER | DEFAULT 0 | æˆ˜æ–—æ¬¡æ•° |
| victories | INTEGER | DEFAULT 0 | èƒœåˆ©æ¬¡æ•° |
| defeats | INTEGER | DEFAULT 0 | å¤±è´¥æ¬¡æ•° |
| total_damage | INTEGER | DEFAULT 0 | æ€»ä¼¤å®³ |
| total_healing | INTEGER | DEFAULT 0 | æ€»æ²»ç–— |
| total_damage_taken | INTEGER | DEFAULT 0 | æ€»æ‰¿ä¼¤ |
| exp_gained | INTEGER | DEFAULT 0 | è·å¾—ç»éªŒ |
| gold_gained | INTEGER | DEFAULT 0 | è·å¾—é‡‘å¸ |
| play_time | INTEGER | DEFAULT 0 | æ¸¸æˆæ—¶é•¿(ç§’) |
| kills | INTEGER | DEFAULT 0 | å‡»æ€æ•° |
| deaths | INTEGER | DEFAULT 0 | æ­»äº¡æ•° |

```sql
CREATE TABLE daily_statistics (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    stat_date DATE NOT NULL,
    battles_count INTEGER DEFAULT 0,
    victories INTEGER DEFAULT 0,
    defeats INTEGER DEFAULT 0,
    total_damage INTEGER DEFAULT 0,
    total_healing INTEGER DEFAULT 0,
    total_damage_taken INTEGER DEFAULT 0,
    exp_gained INTEGER DEFAULT 0,
    gold_gained INTEGER DEFAULT 0,
    play_time INTEGER DEFAULT 0,
    kills INTEGER DEFAULT 0,
    deaths INTEGER DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    UNIQUE(user_id, stat_date)
);

CREATE INDEX idx_daily_stats_user ON daily_statistics(user_id);
CREATE INDEX idx_daily_stats_date ON daily_statistics(stat_date DESC);
```

---

### æ•°æ®åˆ†ææŸ¥è¯¢å‘½ä»¤

> ğŸ’¡ ç©å®¶å¯é€šè¿‡æ¸¸æˆå†…å‘½ä»¤æŸ¥è¯¢æˆ˜æ–—æ•°æ®

| å‘½ä»¤ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|-----|
| `/stats` | æŸ¥çœ‹å½“å‰è§’è‰²ç”Ÿæ¶¯ç»Ÿè®¡ | æ˜¾ç¤ºæ€»ä¼¤å®³ã€æ€»æ²»ç–—ã€èƒœç‡ç­‰ |
| `/stats [è§’è‰²å]` | æŸ¥çœ‹æŒ‡å®šè§’è‰²ç»Ÿè®¡ | `/stats å°æ˜` |
| `/team stats` | æŸ¥çœ‹å…¨é˜Ÿç»Ÿè®¡å¯¹æ¯” | å„è§’è‰²DPS/HPSå¯¹æ¯” |
| `/battle last` | æŸ¥çœ‹ä¸Šä¸€åœºæˆ˜æ–—è¯¦æƒ… | è¯¦ç»†ä¼¤å®³/æ²»ç–—åˆ†è§£ |
| `/battle history [N]` | æŸ¥çœ‹æœ€è¿‘Nåœºæˆ˜æ–— | `/battle history 10` |
| `/dps` | æŸ¥çœ‹å®æ—¶DPSæ’è¡Œ | å½“å‰æˆ˜æ–—ä¸­çš„è¾“å‡ºæ’å |
| `/hps` | æŸ¥çœ‹å®æ—¶HPSæ’è¡Œ | å½“å‰æˆ˜æ–—ä¸­çš„æ²»ç–—æ’å |
| `/skill stats` | æŸ¥çœ‹æŠ€èƒ½ä½¿ç”¨ç»Ÿè®¡ | å„æŠ€èƒ½ä¼¤å®³/å‘½ä¸­ç‡ |
| `/trend [å¤©æ•°]` | æŸ¥çœ‹æ•°æ®è¶‹åŠ¿ | `/trend 7` æœ€è¿‘7å¤©è¶‹åŠ¿ |

### æ•°æ®å¯è§†åŒ–é¢æ¿

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        æˆ˜æ–—æ•°æ®é¢æ¿ - æœ€è¿‘ä¸€æˆ˜                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ğŸ“Š ä¼¤å®³è¾“å‡º                                                               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ æ³•å¸ˆÂ·ç«ç„°   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  45,230 (38%)â”‚ â•‘
â•‘  â”‚ ç›—è´¼Â·æš—å½±   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           32,100 (27%)â”‚ â•‘
â•‘  â”‚ æˆ˜å£«Â·ç ´å   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                 25,890 (22%)â”‚ â•‘
â•‘  â”‚ çŒäººÂ·ç²¾å‡†   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                         15,432 (13%)â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ğŸ›¡ï¸ ä¼¤å®³æ‰¿å—                                                               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ æˆ˜å£«Â·å®ˆæŠ¤   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  28,500 (55%)â”‚ â•‘
â•‘  â”‚ ç›—è´¼Â·æš—å½±   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                             8,230 (16%)â”‚ â•‘
â•‘  â”‚ çŒäººÂ·ç²¾å‡†   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                              7,850 (15%)â”‚ â•‘
â•‘  â”‚ æ³•å¸ˆÂ·ç«ç„°   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                   4,520  (9%)â”‚ â•‘
â•‘  â”‚ ç‰§å¸ˆÂ·ç¥åœ£   â–ˆâ–ˆâ–ˆ                                       2,100  (4%)â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ğŸ’š æ²»ç–—è¾“å‡º                                                               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚ ç‰§å¸ˆÂ·ç¥åœ£   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  32,100 (92%)â”‚ â•‘
â•‘  â”‚ æˆ˜å£«Â·å®ˆæŠ¤   â–ˆâ–ˆâ–ˆ                                       2,800  (8%)â”‚ â•‘
â•‘  â”‚ (è‡ªæˆ‘æ²»ç–—)                                                         â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ğŸ“ˆ å…³é”®æ•°æ®                                                               â•‘
â•‘  â”œâ”€ æˆ˜æ–—æ—¶é•¿: 2åˆ†35ç§’ (38å›åˆ)                                            â•‘
â•‘  â”œâ”€ å›¢é˜ŸDPS: 3,068/å›åˆ                                                   â•‘
â•‘  â”œâ”€ å›¢é˜ŸHPS: 922/å›åˆ                                                     â•‘
â•‘  â”œâ”€ æœ€é«˜å•æ¬¡: æ³•å¸ˆÂ·ç‚çˆ†æœ¯ æš´å‡» 2,456                                      â•‘
â•‘  â””â”€ æ€»è¿‡é‡æ²»ç–—: 4,230 (13%)                                               â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### æˆ˜æœ¯ä¼˜åŒ–å»ºè®®

åŸºäºæˆ˜æ–—æ•°æ®ï¼Œç³»ç»Ÿå¯ä»¥æä¾›æ™ºèƒ½å»ºè®®ï¼š

| æ•°æ®è¡¨ç° | å¯èƒ½é—®é¢˜ | ä¼˜åŒ–å»ºè®® |
|---------|---------|---------|
| å¦å…‹æ‰¿ä¼¤<40% | ä»‡æ¨ä¸ç¨³å®š | è°ƒæ•´æˆ˜æ–—ç­–ç•¥ï¼Œä¼˜å…ˆä½¿ç”¨å˜²è®½ |
| DPSå·®è·å¤§ | è£…å¤‡/ç­‰çº§å·®å¼‚ | ä¼˜å…ˆåŸ¹å…»è½åè§’è‰² |
| è¿‡é‡æ²»ç–—>30% | æ²»ç–—æ—¶æœºä¸ä½³ | è°ƒæ•´æ²»ç–—è§¦å‘æ¡ä»¶(HP<70%) |
| æš´å‡»ç‡<10% | æ•æ·/æ™ºåŠ›ä¸è¶³ | æå‡å¯¹åº”å±æ€§æˆ–è£…å¤‡ |
| æ²»ç–—è€…é¢‘ç¹æ­»äº¡ | ä»‡æ¨é—®é¢˜æˆ–ä½ç½® | è°ƒæ•´æ²»ç–—ç­–ç•¥ï¼Œå‡å°‘è¿‡é‡æ²»ç–— |
| æŠ€èƒ½å‘½ä¸­ç‡ä½ | å‘½ä¸­å±æ€§ä¸è¶³ | æ”»å‡»æ¯”è‡ªå·±ä½çº§çš„æ€ªç‰©ï¼Œæˆ–æå‡å‘½ä¸­ |

---

## ğŸ”— ER å…³ç³»å›¾

```
                                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                    â”‚    users     â”‚
                                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
                                           â”‚ 1:N
                                           â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    N:1    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    1:N    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   races     â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”‚       characters         â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚  inventory  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                        â”‚                               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    N:1                  â”‚                               â”‚ N:1
â”‚  classes    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                               â–¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚                        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                        â”‚                        â”‚    items    â”‚
                          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”˜
                          â”‚             â”‚             â”‚                 â”‚
                          â–¼             â–¼             â–¼                 â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
                   â”‚ equipment  â”‚ â”‚char_skillsâ”‚ â”‚strategies â”‚          â”‚
                   â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                         â”‚              â”‚                              â”‚
                         â”‚ N:1          â”‚ N:1                          â”‚
                         â–¼              â–¼                              â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
                  â”‚    items    â”‚ â”‚   skills    â”‚                      â”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
                                                                       â”‚
                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” 1:N â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” N:1 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚    zones    â”‚â”€â”€â”€â”€â–ºâ”‚  monsters   â”‚â”€â”€â”€â”€â–ºâ”‚monster_dropsâ”‚
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š åˆå§‹æ•°æ®

### ç§æ—æ•°æ®

```sql
INSERT INTO races (id, name, faction, description, strength_mod, agility_mod, intellect_mod, stamina_mod, spirit_mod) VALUES
('human', 'äººç±»', 'alliance', 'é€‚åº”åŠ›å¼ºçš„ç§æ—ï¼Œå„é¡¹å±æ€§å¹³è¡¡ã€‚', 1, 0, 0, 0, 1),
('dwarf', 'çŸ®äºº', 'alliance', 'åšéŸ§çš„å±±åœ°ç§æ—ï¼Œæ“…é•¿è¿‘æˆ˜å’Œå·¥è‰ºã€‚', 2, 0, 0, 2, 0),
('nightelf', 'æš—å¤œç²¾çµ', 'alliance', 'å¤è€çš„ç²¾çµç§æ—ï¼Œä¸è‡ªç„¶å’Œè°å…±å­˜ã€‚', 0, 2, 0, 0, 1),
('gnome', 'ä¾å„’', 'alliance', 'èªæ˜çš„å°å‹ç§æ—ï¼Œæ“…é•¿é­”æ³•å’Œæœºæ¢°ã€‚', 0, 0, 3, 0, 0),
('orc', 'å…½äºº', 'horde', 'å¼ºå£®çš„æˆ˜å£«ç§æ—ï¼Œå´‡å°šåŠ›é‡å’Œè£è€€ã€‚', 3, 0, 0, 1, 0),
('undead', 'äº¡çµ', 'horde', 'ä¸æ­»çš„å­˜åœ¨ï¼Œå¯¹æš—å½±é­”æ³•æœ‰å¤©èµ‹ã€‚', 0, 0, 2, 0, 2),
('tauren', 'ç‰›å¤´äºº', 'horde', 'é«˜å¤§æ¸©å’Œçš„ç§æ—ï¼Œä¸å¤§åœ°ä¹‹æ¯ç›¸è¿ã€‚', 2, 0, 0, 2, 1),
('troll', 'å·¨é­”', 'horde', 'æ•æ·çš„ä¸›æ—ç§æ—ï¼Œæ‹¥æœ‰å¿«é€Ÿå†ç”Ÿèƒ½åŠ›ã€‚', 0, 2, 0, 1, 0);
```

### èŒä¸šæ•°æ®

```sql
INSERT INTO classes (id, name, description, role, primary_stat, base_hp, base_mp, hp_per_level, mp_per_level, base_strength, base_agility, base_intellect, base_stamina, base_spirit) VALUES
('warrior', 'æˆ˜å£«', 'è¿‘æˆ˜æ ¼æ–—ä¸“å®¶ï¼Œå¯ä»¥æ‰¿å—å¤§é‡ä¼¤å®³ã€‚', 'tank', 'strength', 120, 20, 12, 2, 15, 10, 5, 14, 8),
('paladin', 'åœ£éª‘å£«', 'ç¥åœ£æˆ˜å£«ï¼Œå¯ä»¥æ²»ç–—å’Œä¿æŠ¤ç›Ÿå‹ã€‚', 'tank', 'strength', 110, 60, 10, 6, 13, 8, 10, 13, 12),
('hunter', 'çŒäºº', 'è¿œç¨‹ç‰©ç†æ”»å‡»è€…ï¼Œä¸å® ç‰©å¹¶è‚©ä½œæˆ˜ã€‚', 'dps', 'agility', 90, 40, 8, 4, 8, 15, 8, 10, 10),
('rogue', 'ç›—è´¼', 'æ½œè¡Œåˆºå®¢ï¼Œæ“…é•¿è¿å‡»å’Œçˆ†å‘ä¼¤å®³ã€‚', 'dps', 'agility', 85, 50, 7, 5, 10, 16, 6, 9, 8),
('priest', 'ç‰§å¸ˆ', 'æ²»ç–—è€…å’Œæš—å½±æ–½æ³•è€…ã€‚', 'healer', 'intellect', 70, 100, 5, 12, 5, 6, 15, 8, 16),
('mage', 'æ³•å¸ˆ', 'å¼ºå¤§çš„å¥¥æœ¯æ–½æ³•è€…ï¼Œæ“…é•¿èŒƒå›´ä¼¤å®³ã€‚', 'dps', 'intellect', 65, 120, 4, 15, 4, 6, 18, 6, 12),
('warlock', 'æœ¯å£«', 'é»‘æš—é­”æ³•å¸ˆï¼Œå¬å”¤æ¶é­”ä½œæˆ˜ã€‚', 'dps', 'intellect', 75, 110, 5, 13, 5, 6, 17, 8, 10),
('druid', 'å¾·é²ä¼Š', 'è‡ªç„¶çš„å®ˆæŠ¤è€…ï¼Œå¯å˜å½¢ä¸ºå¤šç§å½¢æ€ã€‚', 'dps', 'intellect', 85, 80, 7, 10, 10, 10, 13, 10, 12),
('shaman', 'è¨æ»¡', 'å…ƒç´ çš„æ“æ§è€…ï¼Œå¯æ²»ç–—å’Œå¢ç›Šã€‚', 'dps', 'intellect', 90, 90, 8, 10, 12, 8, 14, 11, 12);
```

---

## ğŸ“ˆ ç´¢å¼•ç­–ç•¥

| è¡¨ | ç´¢å¼• | ç”¨é€” |
|---|------|-----|
| users | username | ç™»å½•æŸ¥è¯¢ |
| characters | user_id | ç”¨æˆ·è§’è‰²æŸ¥è¯¢ |
| characters | level | æ’è¡Œæ¦œ |
| inventory | character_id | èƒŒåŒ…æŸ¥è¯¢ |
| equipment | character_id | è£…å¤‡æŸ¥è¯¢ |
| character_skills | character_id | æŠ€èƒ½æŸ¥è¯¢ |
| monsters | zone_id | åŒºåŸŸæ€ªç‰©æŸ¥è¯¢ |
| monsters | level | ç­‰çº§åŒ¹é… |
| battle_strategies | character_id | ç­–ç•¥æŸ¥è¯¢ |

---

## ğŸ”’ æ•°æ®å®Œæ•´æ€§

1. **å¤–é”®çº¦æŸ** - æ‰€æœ‰å…³è”ä½¿ç”¨å¤–é”®ï¼ŒCASCADEåˆ é™¤
2. **å”¯ä¸€çº¦æŸ** - ç”¨æˆ·åã€è£…å¤‡æ§½ä½ç­‰
3. **é»˜è®¤å€¼** - æ‰€æœ‰æ•°å€¼å­—æ®µè®¾ç½®åˆç†é»˜è®¤å€¼
4. **è§¦å‘å™¨** - è‡ªåŠ¨æ›´æ–° updated_at æ—¶é—´æˆ³

```sql
-- è‡ªåŠ¨æ›´æ–° updated_at è§¦å‘å™¨
CREATE TRIGGER update_character_timestamp 
AFTER UPDATE ON characters
BEGIN
    UPDATE characters SET updated_at = CURRENT_TIMESTAMP WHERE id = NEW.id;
END;
```

---

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **SQLite ç‰¹æ€§**
   - ä½¿ç”¨ WAL æ¨¡å¼æé«˜å¹¶å‘æ€§èƒ½
   - VARCHAR å®é™…ç­‰åŒäº TEXT
   - å¤–é”®éœ€è¦æ‰‹åŠ¨å¼€å¯: `PRAGMA foreign_keys = ON`

2. **æ‰©å±•æ€§è€ƒè™‘**
   - IDä½¿ç”¨VARCHARä¾¿äºé…ç½®æ•°æ®ç®¡ç†
   - é¢„ç•™äº†JSONå­—æ®µç”¨äºçµæ´»æ‰©å±•
   - ç»Ÿè®¡å­—æ®µåˆ†ç¦»ï¼Œé¿å…é¢‘ç¹æ›´æ–°ä¸»è¡¨

3. **è¿ç§»åˆ°å…¶ä»–æ•°æ®åº“**
   - è¡¨ç»“æ„å…¼å®¹ MySQL/PostgreSQL
   - éœ€è°ƒæ•´è‡ªå¢è¯­æ³•å’Œéƒ¨åˆ†æ•°æ®ç±»å‹

---

## ğŸ® åæœŸç©æ³•ç³»ç»Ÿ

### ä¸€ã€æ— å°½æ·±æ¸Šç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒåæœŸæŒ‘æˆ˜**: æ— é™å±‚æ•°çš„æŒ‘æˆ˜å¡”ï¼Œå±‚æ•°è¶Šé«˜éš¾åº¦è¶Šå¤§ï¼Œå¥–åŠ±è¶Šä¸°å¯Œ

#### abyss_config - æ·±æ¸Šé…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| floor | INTEGER | PRIMARY KEY | å±‚æ•° |
| monster_level_base | INTEGER | NOT NULL | æ€ªç‰©åŸºç¡€ç­‰çº§ |
| monster_level_growth | REAL | DEFAULT 0.5 | æ¯å±‚ç­‰çº§å¢é•¿ |
| monster_hp_mult | REAL | DEFAULT 1.0 | æ€ªç‰©HPå€ç‡ |
| monster_atk_mult | REAL | DEFAULT 1.0 | æ€ªç‰©æ”»å‡»å€ç‡ |
| reward_exp_mult | REAL | DEFAULT 1.0 | ç»éªŒå¥–åŠ±å€ç‡ |
| reward_gold_mult | REAL | DEFAULT 1.0 | é‡‘å¸å¥–åŠ±å€ç‡ |
| special_reward | TEXT | | ç‰¹æ®Šå¥–åŠ±(JSON) |
| boss_id | VARCHAR(32) | | Bossæ€ªç‰©ID(æ¯10å±‚) |

```sql
CREATE TABLE abyss_config (
    floor INTEGER PRIMARY KEY,
    monster_level_base INTEGER NOT NULL,
    monster_level_growth REAL DEFAULT 0.5,
    monster_hp_mult REAL DEFAULT 1.0,
    monster_atk_mult REAL DEFAULT 1.0,
    reward_exp_mult REAL DEFAULT 1.0,
    reward_gold_mult REAL DEFAULT 1.0,
    special_reward TEXT,
    boss_id VARCHAR(32),
    FOREIGN KEY (boss_id) REFERENCES monsters(id)
);
```

#### abyss_progress - æ·±æ¸Šè¿›åº¦è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| user_id | INTEGER | NOT NULL FK UNIQUE | ç”¨æˆ·ID |
| highest_floor | INTEGER | DEFAULT 0 | æœ€é«˜é€šå…³å±‚æ•° |
| current_floor | INTEGER | DEFAULT 1 | å½“å‰æŒ‘æˆ˜å±‚æ•° |
| weekly_attempts | INTEGER | DEFAULT 0 | æœ¬å‘¨å·²æŒ‘æˆ˜æ¬¡æ•° |
| weekly_reset_at | DATETIME | | å‘¨é‡ç½®æ—¶é—´ |
| total_clears | INTEGER | DEFAULT 0 | æ€»é€šå…³æ¬¡æ•° |
| best_time | INTEGER | | æœ€å¿«é€šå…³æ—¶é—´(ç§’) |

```sql
CREATE TABLE abyss_progress (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL UNIQUE,
    highest_floor INTEGER DEFAULT 0,
    current_floor INTEGER DEFAULT 1,
    weekly_attempts INTEGER DEFAULT 0,
    weekly_reset_at DATETIME,
    total_clears INTEGER DEFAULT 0,
    best_time INTEGER,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_abyss_highest ON abyss_progress(highest_floor DESC);
```

---

### äºŒã€è£…å¤‡ç³»ç»Ÿï¼šè¯ç¼€ + è¿›åŒ–é“¾

> ğŸ“Œ **æ ¸å¿ƒè®¾è®¡**: è£…å¤‡æ‰è½æ—¶éšæœºç”Ÿæˆè¯ç¼€ï¼Œé€šè¿‡è¿›åŒ–ç³»ç»Ÿè·å¾—æ›´å¼ºå½¢æ€å’Œä¼ è¯´æ•ˆæœ

#### ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          è£…å¤‡ç³»ç»Ÿæ¶æ„                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   è£…å¤‡æ‰è½ â”€â”€â†’ éšæœºè¯ç¼€ â”€â”€â†’ å¼ºåŒ–å‡çº§ â”€â”€â†’ è¿›åŒ–åˆ†æ”¯ â”€â”€â†’ ä¼ è¯´å½¢æ€              â”‚
â”‚      â”‚           â”‚           â”‚           â”‚           â”‚                     â”‚
â”‚   åŸºç¡€å±æ€§    å‰ç¼€+åç¼€    +1~+25      é€‰æ‹©è·¯çº¿    ç‹¬ç‰¹æ•ˆæœ                   â”‚
â”‚                                                                             â”‚
â”‚   å“è´¨å†³å®šè¯ç¼€æ•°é‡:                                                          â”‚
â”‚   â¬œç™½(0) â†’ ğŸŸ©ç»¿(1) â†’ ğŸŸ¦è“(2) â†’ ğŸŸªç´«(3) â†’ ğŸŸ§æ©™(4) â†’ ğŸŸ¥çº¢(4+ä¼ è¯´)            â”‚
â”‚                                                                             â”‚
â”‚   è¿›åŒ–é˜¶æ®µ:                                                                  â”‚
â”‚   â… åŸºç¡€ â†’ â…¡ç²¾ç‚¼ â†’ â…¢è¿›åŒ–(é€‰åˆ†æ”¯) â†’ â…£è§‰é†’ â†’ â…¤ä¼ è¯´                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 2.1 equipment_instance - è£…å¤‡å®ä¾‹è¡¨

> ğŸ“Œ è®°å½•ç©å®¶è·å¾—çš„æ¯ä¸€ä»¶è£…å¤‡åŠå…¶è¯ç¼€

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | è£…å¤‡å®ä¾‹ID |
| item_id | VARCHAR(32) | NOT NULL FK | åŸºç¡€ç‰©å“ID |
| owner_id | INTEGER | NOT NULL FK | æ‹¥æœ‰è€…ç”¨æˆ·ID |
| character_id | INTEGER | FK | è£…å¤‡è€…è§’è‰²ID (NULL=èƒŒåŒ…ä¸­) |
| slot | VARCHAR(16) | | è£…å¤‡æ§½ä½ |
| quality | VARCHAR(16) | NOT NULL | å“è´¨: common/uncommon/rare/epic/legendary/mythic |
| enhance_level | INTEGER | DEFAULT 0 | å¼ºåŒ–ç­‰çº§ (0-25) |
| evolution_stage | INTEGER | DEFAULT 1 | è¿›åŒ–é˜¶æ®µ (1-5) |
| evolution_path | VARCHAR(32) | | è¿›åŒ–è·¯çº¿: fire/frost/lightning/holy/shadow/nature/physical |
| prefix_id | VARCHAR(32) | FK | å‰ç¼€è¯ç¼€ID |
| prefix_value | REAL | | å‰ç¼€æ•°å€¼ (è¯ç¼€æ•ˆæœçš„å…·ä½“æ•°å€¼) |
| suffix_id | VARCHAR(32) | FK | åç¼€è¯ç¼€ID |
| suffix_value | REAL | | åç¼€æ•°å€¼ |
| bonus_affix_1 | VARCHAR(32) | FK | é¢å¤–è¯ç¼€1 (ç´«è‰²+) |
| bonus_affix_1_value | REAL | | é¢å¤–è¯ç¼€1æ•°å€¼ |
| bonus_affix_2 | VARCHAR(32) | FK | é¢å¤–è¯ç¼€2 (æ©™è‰²+) |
| bonus_affix_2_value | REAL | | é¢å¤–è¯ç¼€2æ•°å€¼ |
| legendary_effect_id | VARCHAR(32) | FK | ä¼ è¯´æ•ˆæœID (çº¢è‰²å“è´¨) |
| acquired_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | è·å¾—æ—¶é—´ |
| is_locked | INTEGER | DEFAULT 0 | æ˜¯å¦é”å®š (é˜²è¯¯åˆ†è§£) |

```sql
CREATE TABLE equipment_instance (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    item_id VARCHAR(32) NOT NULL,
    owner_id INTEGER NOT NULL,
    character_id INTEGER,
    slot VARCHAR(16),
    quality VARCHAR(16) NOT NULL DEFAULT 'common',
    enhance_level INTEGER DEFAULT 0,
    evolution_stage INTEGER DEFAULT 1,
    evolution_path VARCHAR(32),
    prefix_id VARCHAR(32),
    prefix_value REAL,
    suffix_id VARCHAR(32),
    suffix_value REAL,
    bonus_affix_1 VARCHAR(32),
    bonus_affix_1_value REAL,
    bonus_affix_2 VARCHAR(32),
    bonus_affix_2_value REAL,
    legendary_effect_id VARCHAR(32),
    acquired_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    is_locked INTEGER DEFAULT 0,
    FOREIGN KEY (item_id) REFERENCES items(id),
    FOREIGN KEY (owner_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE SET NULL,
    FOREIGN KEY (prefix_id) REFERENCES affixes(id),
    FOREIGN KEY (suffix_id) REFERENCES affixes(id),
    FOREIGN KEY (bonus_affix_1) REFERENCES affixes(id),
    FOREIGN KEY (bonus_affix_2) REFERENCES affixes(id),
    FOREIGN KEY (legendary_effect_id) REFERENCES legendary_effects(id)
);

CREATE INDEX idx_equipment_owner ON equipment_instance(owner_id);
CREATE INDEX idx_equipment_character ON equipment_instance(character_id);
CREATE INDEX idx_equipment_quality ON equipment_instance(quality);
```

#### 2.2 affixes - è¯ç¼€é…ç½®è¡¨

> ğŸ“Œ å®šä¹‰æ‰€æœ‰å¯èƒ½çš„è£…å¤‡è¯ç¼€

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | è¯ç¼€ID |
| name | VARCHAR(32) | NOT NULL | è¯ç¼€åç§° |
| type | VARCHAR(16) | NOT NULL | ç±»å‹: prefix/suffix |
| slot_type | VARCHAR(16) | | é€‚ç”¨æ§½ä½: weapon/armor/accessory/all |
| rarity | VARCHAR(16) | NOT NULL | ç¨€æœ‰åº¦: common/uncommon/rare/epic |
| effect_type | VARCHAR(32) | NOT NULL | æ•ˆæœç±»å‹ |
| effect_stat | VARCHAR(32) | | å½±å“çš„å±æ€§ |
| min_value | REAL | NOT NULL | æœ€å°æ•°å€¼ |
| max_value | REAL | NOT NULL | æœ€å¤§æ•°å€¼ |
| value_type | VARCHAR(16) | NOT NULL | æ•°å€¼ç±»å‹: flat/percent |
| description | TEXT | | æè¿°æ¨¡æ¿ (ç”¨{value}å ä½) |
| level_required | INTEGER | DEFAULT 1 | æœ€ä½å‡ºç°ç­‰çº§ |

```sql
CREATE TABLE affixes (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    type VARCHAR(16) NOT NULL,
    slot_type VARCHAR(16) DEFAULT 'all',
    rarity VARCHAR(16) NOT NULL DEFAULT 'common',
    effect_type VARCHAR(32) NOT NULL,
    effect_stat VARCHAR(32),
    min_value REAL NOT NULL,
    max_value REAL NOT NULL,
    value_type VARCHAR(16) NOT NULL DEFAULT 'flat',
    description TEXT,
    level_required INTEGER DEFAULT 1
);

CREATE INDEX idx_affixes_type ON affixes(type);
CREATE INDEX idx_affixes_rarity ON affixes(rarity);
CREATE INDEX idx_affixes_slot ON affixes(slot_type);
```

#### è¯ç¼€åˆ—è¡¨

**å‰ç¼€ (æ”»å‡»/å±æ€§å‘):**

| ID | åç§° | æ•ˆæœ | æ•°å€¼èŒƒå›´ | ç¨€æœ‰åº¦ | é€‚ç”¨ |
|---|-----|------|---------|-------|------|
| affix_sharp | é”‹åˆ©çš„ | æ”»å‡»åŠ›+ | 2~5 | æ™®é€š | æ­¦å™¨ |
| affix_fiery | ç‚½çƒ­çš„ | ç«ç„°ä¼¤å®³+ | 1~4 | æ™®é€š | æ­¦å™¨ |
| affix_frozen | å†°éœœçš„ | å†°éœœä¼¤å®³+ | 1~4 | æ™®é€š | æ­¦å™¨ |
| affix_charged | é›·å‡»çš„ | é›·ç”µä¼¤å®³+ | 1~4 | æ™®é€š | æ­¦å™¨ |
| affix_holy | ç¥åœ£çš„ | ç¥åœ£ä¼¤å®³+ | 2~5 | ç²¾è‰¯ | æ­¦å™¨ |
| affix_vampiric | å¸è¡€é¬¼çš„ | ç”Ÿå‘½å·å–% | 2~5 | ç¨€æœ‰ | æ­¦å™¨ |
| affix_devastating | æ¯ç­çš„ | æ”»å‡»åŠ›+% | 15~25 | å²è¯— | æ­¦å™¨ |
| affix_sturdy | åšå›ºçš„ | é˜²å¾¡åŠ›+ | 2~5 | æ™®é€š | é˜²å…· |
| affix_vital | æ´»åŠ›çš„ | ç”Ÿå‘½å€¼+ | 5~15 | æ™®é€š | é˜²å…· |
| affix_scholarly | æ™ºè€…çš„ | æ™ºåŠ›+ | 2~4 | ç²¾è‰¯ | é˜²å…· |
| affix_unyielding | ä¸å±ˆçš„ | å—ä¼¤å‡å…% | 3~8 | ç¨€æœ‰ | é˜²å…· |

**åç¼€ (ç‰¹æ®Šæ•ˆæœå‘):**

| ID | åç§° | æ•ˆæœ | æ•°å€¼èŒƒå›´ | ç¨€æœ‰åº¦ | é€‚ç”¨ |
|---|-----|------|---------|-------|------|
| affix_of_strength | of åŠ›é‡ | åŠ›é‡+ | 1~3 | æ™®é€š | å…¨éƒ¨ |
| affix_of_agility | of æ•æ· | æ•æ·+ | 1~3 | æ™®é€š | å…¨éƒ¨ |
| affix_of_haste | of è¿…æ· | æ”»å‡»é€Ÿåº¦+% | 5~15 | ç²¾è‰¯ | æ­¦å™¨ |
| affix_of_piercing | of ç©¿åˆº | æ— è§†é˜²å¾¡% | 5~15 | ç²¾è‰¯ | æ­¦å™¨ |
| affix_of_crit | of æš´å‡» | æš´å‡»ç‡+% | 3~8 | ç¨€æœ‰ | æ­¦å™¨ |
| affix_of_lethality | of è‡´å‘½ | æš´å‡»ä¼¤å®³+% | 10~25 | ç¨€æœ‰ | æ­¦å™¨ |
| affix_of_leech | of å¸è¡€ | ä¼¤å®³è½¬HP% | 2~4 | ç¨€æœ‰ | æ­¦å™¨ |
| affix_of_blocking | of å®ˆæŠ¤ | æ ¼æŒ¡ç‡+% | 5~10 | ç²¾è‰¯ | ç›¾ç‰Œ |
| affix_of_thorns | of åå°„ | åå¼¹ä¼¤å®³% | 5~15 | ç¨€æœ‰ | é˜²å…· |
| affix_of_regen | of å†ç”Ÿ | æ¯å›åˆæ¢å¤HP | 1~3 | ç¨€æœ‰ | é˜²å…· |
| affix_of_wisdom | of æ™ºæ…§ | æ³•åŠ›æ¢å¤+% | 10~20 | ç²¾è‰¯ | é˜²å…· |

---

#### 2.3 evolution_paths - è¿›åŒ–è·¯çº¿é…ç½®è¡¨

> ğŸ“Œ å®šä¹‰è£…å¤‡å¯é€‰æ‹©çš„è¿›åŒ–åˆ†æ”¯

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | è·¯çº¿ID |
| name | VARCHAR(32) | NOT NULL | è·¯çº¿åç§° |
| element | VARCHAR(16) | NOT NULL | å…ƒç´ ç±»å‹ |
| description | TEXT | | æè¿° |
| slot_type | VARCHAR(16) | NOT NULL | é€‚ç”¨æ§½ä½: weapon/armor |
| stat_bonus_type | VARCHAR(32) | | å±æ€§åŠ æˆç±»å‹ |
| stat_bonus_value | REAL | | å±æ€§åŠ æˆæ•°å€¼ |
| special_effect | TEXT | | ç‰¹æ®Šæ•ˆæœæè¿° |
| material_required | TEXT | | æ‰€éœ€ææ–™ (JSON) |

```sql
CREATE TABLE evolution_paths (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    element VARCHAR(16) NOT NULL,
    description TEXT,
    slot_type VARCHAR(16) NOT NULL,
    stat_bonus_type VARCHAR(32),
    stat_bonus_value REAL,
    special_effect TEXT,
    material_required TEXT
);
```

**æ­¦å™¨è¿›åŒ–è·¯çº¿:**

| è·¯çº¿ | å…ƒç´  | æ ¸å¿ƒåŠ æˆ | ç‰¹æ®Šæ•ˆæœ |
|-----|------|---------|---------|
| ğŸ”¥ çƒˆç„° | fire | ç«ç„°ä¼¤å®³+50% | æ”»å‡»ç¼çƒ§æ•Œäºº |
| â„ï¸ éœœå¯’ | frost | å†°éœœä¼¤å®³+50% | æ”»å‡»å‡é€Ÿæ•Œäºº |
| âš¡ é›·éœ† | lightning | æ”»é€Ÿ+20%, é›·ä¼¤+40% | ä¼¤å®³è¿é”è·³è·ƒ |
| âœ¨ ç¥åœ£ | holy | åœ£ä¼¤+40%, æ²»ç–—+15% | æ”»å‡»å›å¤ç”Ÿå‘½ |
| ğŸŒ‘ æš—å½± | shadow | æš—ä¼¤+50%, å¸è¡€+5% | ä¼¤å®³è½¬åŒ–HP |
| ğŸŒ¿ è‡ªç„¶ | nature | è‡ªç„¶ä¼¤+40%, å†ç”Ÿ+20% | æŒç»­æ¢å¤HP |
| âš”ï¸ ç‰©ç† | physical | ç‰©ä¼¤+30%, ç©¿é€+15% | æ— è§†éƒ¨åˆ†æŠ¤ç”² |

**é˜²å…·è¿›åŒ–è·¯çº¿:**

| è·¯çº¿ | å®šä½ | æ ¸å¿ƒåŠ æˆ | ç‰¹æ®Šæ•ˆæœ |
|-----|------|---------|---------|
| ğŸ›¡ï¸ å®ˆæŠ¤ | å¦å…‹ | é˜²å¾¡+30%, ç”Ÿå‘½+20% | å—ä¼¤å‡å… |
| ğŸŒµ è†æ£˜ | åä¼¤ | é˜²å¾¡+15%, åä¼¤+25% | è¢«æ”»å‡»æ—¶åå¼¹ä¼¤å®³ |
| ğŸ’¨ è¿…æ· | é—ªé¿ | é—ªé¿+20%, æ”»é€Ÿ+15% | é—ªé¿ååŠ é€Ÿ |
| ğŸ’š å†ç”Ÿ | ç»­èˆª | ç”Ÿå‘½+15%, å›å¤+50% | æ¯å›åˆæ¢å¤HP |

---

#### 2.4 legendary_effects - ä¼ è¯´æ•ˆæœè¡¨

> ğŸ“Œ è¿›åŒ–åˆ°æœ€ç»ˆé˜¶æ®µè§£é”çš„ç‹¬ç‰¹æ•ˆæœ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | ä¼ è¯´æ•ˆæœID |
| name | VARCHAR(32) | NOT NULL | æ•ˆæœåç§° |
| description | TEXT | NOT NULL | æ•ˆæœæè¿° |
| slot_type | VARCHAR(16) | NOT NULL | é€‚ç”¨æ§½ä½ |
| evolution_path | VARCHAR(32) | | å…³è”è¿›åŒ–è·¯çº¿ |
| trigger_type | VARCHAR(32) | | è§¦å‘ç±»å‹: on_hit/on_kill/on_damaged/passive |
| trigger_chance | REAL | DEFAULT 1.0 | è§¦å‘æ¦‚ç‡ |
| effect_type | VARCHAR(32) | NOT NULL | æ•ˆæœç±»å‹ |
| effect_value | REAL | | æ•ˆæœæ•°å€¼ |
| cooldown | INTEGER | DEFAULT 0 | å†·å´å›åˆ |

```sql
CREATE TABLE legendary_effects (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(32) NOT NULL,
    description TEXT NOT NULL,
    slot_type VARCHAR(16) NOT NULL,
    evolution_path VARCHAR(32),
    trigger_type VARCHAR(32),
    trigger_chance REAL DEFAULT 1.0,
    effect_type VARCHAR(32) NOT NULL,
    effect_value REAL,
    cooldown INTEGER DEFAULT 0,
    FOREIGN KEY (evolution_path) REFERENCES evolution_paths(id)
);
```

**ä¼ è¯´æ­¦å™¨æ•ˆæœ:**

| ID | åç§° | æ•ˆæœ | æ¥æºè·¯çº¿ |
|---|-----|------|---------|
| legend_inferno | åœ°ç‹±çƒˆç„° | æ”»å‡»ä½¿æ•Œäººç¼çƒ§3å›åˆï¼Œæ¯å›åˆ3ç‚¹ç«ä¼¤ | çƒˆç„° |
| legend_frostmourne | éœœä¹‹å“€ä¼¤ | å‡»æ€æ•Œäººåå†°å†»å‘¨å›´æ•Œäºº1å›åˆ | éœœå¯’ |
| legend_thunderfury | é›·éœ†ä¹‹æ€’ | 20%å‡ ç‡è§¦å‘é—ªç”µé“¾ï¼Œæœ€å¤šè·³è·ƒ3ç›®æ ‡ | é›·éœ† |
| legend_ashbringer | ç°çƒ¬ä½¿è€… | æ”»å‡»æ—¶æ¢å¤è‡ªèº«5%æœ€å¤§ç”Ÿå‘½ | ç¥åœ£ |
| legend_shadowmourne | æš—å½±ä¹‹æ®‡ | æš´å‡»æ—¶å¸å–æ•Œäºº10%å½“å‰ç”Ÿå‘½ | æš—å½± |
| legend_earthshatter | å¤§åœ°ç²‰ç¢ | æ”»å‡»å åŠ æ ‡è®°ï¼Œ5å±‚åå¼•çˆ†é¢å¤–ä¼¤å®³ | è‡ªç„¶ |
| legend_gorehowl | è¡€å¼ | å¯¹ç²¾è‹±å’ŒBossä¼¤å®³+50% | ç‰©ç† |

**ä¼ è¯´é˜²å…·æ•ˆæœ:**

| ID | åç§° | æ•ˆæœ | æ¥æºè·¯çº¿ |
|---|-----|------|---------|
| legend_immortal | ä¸ç­æ„å¿— | é¦–æ¬¡è‡´æ­»ä¼¤å®³å…ç–« (æ¯åœºæˆ˜æ–—1æ¬¡) | å®ˆæŠ¤ |
| legend_retribution | å¤ä»‡ä¹‹åˆº | åå¼¹50%å—åˆ°çš„ç‰©ç†ä¼¤å®³ | è†æ£˜ |
| legend_shadowstep | æš—å½±æ­¥ | é—ªé¿æˆåŠŸåä¸‹æ¬¡æ”»å‡»å¿…æš´å‡» | è¿…æ· |
| legend_lifesource | ç”Ÿå‘½ä¹‹æ³‰ | HP<30%æ—¶æ¯å›åˆæ¢å¤10% HP | å†ç”Ÿ |

---

#### 2.5 è¿›åŒ–é˜¶æ®µä¸å¼ºåŒ–

**è¿›åŒ–é˜¶æ®µ:**

| é˜¶æ®µ | åç§° | è§’è‰²ç­‰çº§ | å¼ºåŒ–ä¸Šé™ | è¿›åŒ–ææ–™ | ç‰¹ç‚¹ |
|-----|------|---------|---------|---------|------|
| â…  | åŸºç¡€ | 1-15 | +5 | - | åˆå§‹å½¢æ€ |
| â…¡ | ç²¾ç‚¼ | 16-30 | +10 | ç²¾ç‚¼çŸ³Ã—5 | å±æ€§æå‡20% |
| â…¢ | è¿›åŒ– | 31-45 | +15 | è¿›åŒ–çŸ³Ã—3 + å…ƒç´ æ ¸å¿ƒ | **é€‰æ‹©åˆ†æ”¯** |
| â…£ | è§‰é†’ | 46-55 | +20 | è§‰é†’çŸ³Ã—1 + ç¨€æœ‰ææ–™ | è§£é”ç‰¹æ®Šæ•ˆæœ |
| â…¤ | ä¼ è¯´ | 56-60 | +25 | ä¼ è¯´ç¢ç‰‡Ã—5 | è·å¾—ä¼ è¯´æ•ˆæœ |

**å¼ºåŒ–æ•ˆæœ:**

```
å¼ºåŒ–å±æ€§åŠ æˆ = åŸºç¡€å±æ€§ Ã— (1 + å¼ºåŒ–ç­‰çº§ Ã— 0.02)

ç¤ºä¾‹:
+0: 100%
+5: 110% (+10%)
+10: 120% (+20%)
+15: 130% (+30%)
+20: 140% (+40%)
+25: 150% (+50%)
```

**è¯ç¼€ç»§æ‰¿:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          è¿›åŒ–æ—¶è¯ç¼€å¤„ç†                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  âœ… æ‰€æœ‰è¯ç¼€å®Œæ•´ä¿ç•™                                                         â”‚
â”‚  âœ… è¯ç¼€æ•°å€¼éšè¿›åŒ–é˜¶æ®µæå‡ (+15%/é˜¶æ®µ)                                        â”‚
â”‚  âœ… å“è´¨å¯èƒ½æå‡ (è“â†’ç´« 30%å‡ ç‡, ç´«â†’æ©™ 10%å‡ ç‡)                               â”‚
â”‚                                                                             â”‚
â”‚  ç¤ºä¾‹:                                                                       â”‚
â”‚  Lv15 ç‚½çƒ­çš„(+2ç«ä¼¤) é’¢å‰‘ ofè¿…æ·(+10%æ”»é€Ÿ) [è“]                              â”‚
â”‚         â†“ è¿›åŒ–åˆ°é˜¶æ®µâ…¢                                                       â”‚
â”‚  Lv30 ç‚½çƒ­çš„(+3ç«ä¼¤) ç«ç„°ç§˜é“¶å‰‘ ofè¿…æ·(+12%æ”»é€Ÿ) [ç´«]                         â”‚
â”‚         â†“ è¿›åŒ–åˆ°é˜¶æ®µâ…¤                                                       â”‚
â”‚  Lv50 ç‚½çƒ­çš„(+4ç«ä¼¤) çƒˆç„°ä¹‹åˆƒ ofè¿…æ·(+14%æ”»é€Ÿ) [æ©™]                           â”‚
â”‚        + ä¼ è¯´æ•ˆæœ: æ”»å‡»ä½¿æ•Œäººç¼çƒ§                                             â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

#### 2.6 è£…å¤‡æ‰è½ç³»ç»Ÿ

> ğŸ“Œ **è®¾è®¡ç†å¿µ**: å°‘è€Œç²¾çš„æ‰è½ï¼Œæ¯æ¬¡æ‰è½éƒ½å€¼å¾—å…³æ³¨ï¼Œä»»ä½•åŒºåŸŸéƒ½æœ‰æƒŠå–œå¯èƒ½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ‰è½è®¾è®¡ç†å¿µ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   âŒ é¿å…                                 âœ… è¿½æ±‚                            â”‚
â”‚   â”œâ”€ æ»¡èƒŒåŒ…ç™½è‰²/ç»¿è‰²åƒåœ¾                   â”œâ”€ æ¯æ¬¡æ‰è½éƒ½å€¼å¾—å…³æ³¨               â”‚
â”‚   â”œâ”€ é¢‘ç¹æ•´ç†èƒŒåŒ…çš„çƒ¦æ¼                    â”œâ”€ "å®ï¼"çš„æƒŠå–œæ„Ÿ                   â”‚
â”‚   â”œâ”€ æ‰è½=åˆ†è§£ææ–™                        â”œâ”€ ä½çº§åŒºä¹Ÿæœ‰å°æ¦‚ç‡å‡ºç¥è£…             â”‚
â”‚   â””â”€ æ•°é‡å †ç Œï¼Œæ¯«æ— æœŸå¾…                    â””â”€ ç¨€æœ‰ä½†æœ‰æ„ä¹‰çš„æ‰è½                â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

##### åŸºç¡€æ‰è½ç‡ (æ¯åœºæˆ˜æ–—)

| æ€ªç‰©ç±»å‹ | æ‰è½å‡ ç‡ | è¯´æ˜ |
|---------|---------|------|
| æ™®é€šæ€ª | 5% | åŸºç¡€æ‰ç‡ï¼Œå¤§éƒ¨åˆ†æˆ˜æ–—ä¸æ‰è£…å¤‡ |
| ç²¾è‹±æ€ª | 15% | ç²¾è‹±æ›´å€¼å¾—æŒ‘æˆ˜ |
| Boss | 50% | Bossæœ‰ä¸€åŠå‡ ç‡æ‰è£…å¤‡ |
| æ·±æ¸ŠBoss | 100% | æ¯10å±‚Bosså¿…æ‰ |

##### å“è´¨åˆ†å¸ƒ (å½“è£…å¤‡æ‰è½æ—¶)

| å“è´¨ | é¢œè‰² | è¯ç¼€æ•° | æ‰è½ç‡ | è¯´æ˜ |
|-----|------|-------|-------|------|
| æ™®é€š (Common) | â¬œ ç™½ | 0 | 30% | å¤§å¹…å‡å°‘åƒåœ¾ |
| ä¼˜ç§€ (Uncommon) | ğŸŸ© ç»¿ | 1 | 35% | å•è¯ç¼€èµ·æ­¥è£… |
| ç²¾è‰¯ (Rare) | ğŸŸ¦ è“ | 2 | 25% | ä¸»åŠ›è£…å¤‡ |
| ç¨€æœ‰ (Epic) | ğŸŸª ç´« | 3 | 8% | æœ‰åŸ¹å…»ä»·å€¼ |
| å²è¯— (Legendary) | ğŸŸ§ æ©™ | 4 | 1.8% | ç¨€æœ‰å¯æœŸå¾… |
| ä¼ è¯´ (Mythic) | ğŸŸ¥ çº¢ | 4+ä¼ è¯´æ•ˆæœ | 0.2% | ç»ˆæè¿½æ±‚ |

##### å¥‡è¿¹æ‰è½ç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒ**: ä»»ä½•åŒºåŸŸéƒ½æœ‰æå°æ¦‚ç‡æ‰è½è¶…å‡ºç­‰çº§çš„é¡¶çº§è£…å¤‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          å¥‡è¿¹æ‰è½                                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   åœºæ™¯: ç©å®¶åœ¨1çº§æ–°æ‰‹æ‘åˆ·æ€ª                                                   â”‚
â”‚                                                                             â”‚
â”‚   æ­£å¸¸æ‰è½: åªèƒ½æ‰è½1-5çº§çš„è£…å¤‡                                               â”‚
â”‚                                                                             â”‚
â”‚   å¥‡è¿¹è§¦å‘ (0.5%): æ— è§†ç­‰çº§é™åˆ¶ï¼Œä»å…¨è£…å¤‡æ± éšæœº                                â”‚
â”‚                    â†’ å¯èƒ½æ‰è½60çº§ä¼ è¯´è£…å¤‡ï¼                                    â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“¢ å…¨æœå…¬å‘Š: "ç©å®¶ã€å°æ˜ã€‘åœ¨è‰¾å°”æ–‡æ£®æ—è·å¾—äº†ã€éœœä¹‹å“€ä¼¤ã€‘ï¼"                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

| åŒºåŸŸç­‰çº§ | å¥‡è¿¹è§¦å‘ç‡ | è¯´æ˜ |
|---------|-----------|------|
| 1-10çº§åŒº | 0.5% | æ–°æ‰‹ä¹Ÿæœ‰å¸Œæœ› |
| 11-30çº§åŒº | 0.3% | é€æ¸é™ä½ |
| 31-50çº§åŒº | 0.1% | æœ¬èº«è£…å¤‡ç­‰çº§å·²é«˜ |
| 51-60çº§åŒº | 0% | å·²æ˜¯é¡¶çº§åŒºåŸŸ |

##### ä¿åº•æœºåˆ¶

> ğŸ“Œ é˜²æ­¢é•¿æ—¶é—´æ— æ‰è½çš„æŒ«è´¥æ„Ÿ

| è¿ç»­æ— æ‰è½æ¬¡æ•° | æ•ˆæœ |
|--------------|------|
| 1-19 | æ­£å¸¸æ‰ç‡ |
| 20-29 | æ‰ç‡Ã—2 |
| 30-39 | æ‰ç‡Ã—4 |
| 40+ | ä¿åº•æ‰è½ (ğŸŸ¦ç²¾è‰¯æˆ–ä»¥ä¸Š) |

##### èƒŒåŒ…ç®¡ç†

| åŠŸèƒ½ | è¯´æ˜ |
|-----|------|
| **è‡ªåŠ¨åˆ†è§£** | å¯è®¾ç½®è‡ªåŠ¨åˆ†è§£â¬œç™½è‰²è£…å¤‡ |
| **å¿«é€Ÿåˆ†è§£** | ä¸€é”®åˆ†è§£æ‰€æœ‰æœªé”å®šçš„ä½å“è´¨è£…å¤‡ |
| **èƒŒåŒ…ä¸Šé™** | 100æ ¼ï¼Œæ»¡æ—¶è‡ªåŠ¨åˆ†è§£æœ€ä½å“è´¨ |
| **æ‰è½é¢„è§ˆ** | æˆ˜æ–—åæ˜¾ç¤ºæ‰è½ï¼Œå¯é€‰æ‹¾å–æˆ–ç›´æ¥åˆ†è§£ |

##### drop_config - æ‰è½é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | é…ç½®ID |
| monster_type | VARCHAR(16) | NOT NULL | æ€ªç‰©ç±»å‹: normal/elite/boss/abyss_boss |
| base_drop_rate | REAL | NOT NULL | åŸºç¡€æ‰è½ç‡ |
| quality_weights | TEXT | NOT NULL | å“è´¨æƒé‡ (JSON) |
| miracle_rate | REAL | DEFAULT 0 | å¥‡è¿¹æ‰è½ç‡ |
| pity_threshold | INTEGER | DEFAULT 40 | ä¿åº•è§¦å‘æ¬¡æ•° |
| pity_min_quality | VARCHAR(16) | DEFAULT 'rare' | ä¿åº•æœ€ä½å“è´¨ |

```sql
CREATE TABLE IF NOT EXISTS drop_config (
    id VARCHAR(32) PRIMARY KEY,
    monster_type VARCHAR(16) NOT NULL,
    base_drop_rate REAL NOT NULL,
    quality_weights TEXT NOT NULL,
    miracle_rate REAL DEFAULT 0,
    pity_threshold INTEGER DEFAULT 40,
    pity_min_quality VARCHAR(16) DEFAULT 'rare'
);
```

##### user_drop_pity - ç©å®¶ä¿åº•è®¡æ•°è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| user_id | INTEGER | PRIMARY KEY FK | ç”¨æˆ·ID |
| no_drop_count | INTEGER | DEFAULT 0 | è¿ç»­æ— æ‰è½æ¬¡æ•° |
| last_drop_at | DATETIME | | ä¸Šæ¬¡æ‰è½æ—¶é—´ |
| total_drops | INTEGER | DEFAULT 0 | æ€»æ‰è½æ¬¡æ•° |
| miracle_drops | INTEGER | DEFAULT 0 | å¥‡è¿¹æ‰è½æ¬¡æ•° |

```sql
CREATE TABLE IF NOT EXISTS user_drop_pity (
    user_id INTEGER PRIMARY KEY,
    no_drop_count INTEGER DEFAULT 0,
    last_drop_at DATETIME,
    total_drops INTEGER DEFAULT 0,
    miracle_drops INTEGER DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

---

### ä¸‰ã€æ”¶é›†ä¸æˆå°±ç³»ç»Ÿ

#### 3.1 achievements - æˆå°±é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | æˆå°±ID |
| name | VARCHAR(64) | NOT NULL | æˆå°±åç§° |
| description | TEXT | | æè¿° |
| category | VARCHAR(32) | NOT NULL | åˆ†ç±»: combat/explore/collect/social |
| condition_type | VARCHAR(32) | NOT NULL | æ¡ä»¶ç±»å‹ |
| condition_value | INTEGER | NOT NULL | æ¡ä»¶æ•°å€¼ |
| points | INTEGER | DEFAULT 10 | æˆå°±ç‚¹æ•° |
| reward_type | VARCHAR(32) | | å¥–åŠ±ç±»å‹ |
| reward_value | TEXT | | å¥–åŠ±å†…å®¹(JSON) |
| icon | VARCHAR(64) | | å›¾æ ‡ |
| is_hidden | INTEGER | DEFAULT 0 | æ˜¯å¦éšè—æˆå°± |

```sql
CREATE TABLE achievements (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    category VARCHAR(32) NOT NULL,
    condition_type VARCHAR(32) NOT NULL,
    condition_value INTEGER NOT NULL,
    points INTEGER DEFAULT 10,
    reward_type VARCHAR(32),
    reward_value TEXT,
    icon VARCHAR(64),
    is_hidden INTEGER DEFAULT 0
);

CREATE INDEX idx_achievements_category ON achievements(category);
```

**æˆå°±åˆ†ç±»:**
- `combat` - æˆ˜æ–—æˆå°± (å‡»æ€æ•°ã€ä¼¤å®³ã€è¿èƒœ...)
- `explore` - æ¢ç´¢æˆå°± (åŒºåŸŸã€å‰¯æœ¬ã€æ·±æ¸Šå±‚æ•°...)
- `collect` - æ”¶é›†æˆå°± (è£…å¤‡ã€å›¾é‰´ã€å® ç‰©...)
- `social` - ç¤¾äº¤æˆå°± (ç»„é˜Ÿã€å…¬ä¼šã€PvP...)
- `special` - ç‰¹æ®Šæˆå°± (é™æ—¶ã€é¦–æ€ã€æé™æŒ‘æˆ˜...)

#### 3.2 user_achievements - ç©å®¶æˆå°±è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| user_id | INTEGER | NOT NULL FK | ç”¨æˆ·ID |
| achievement_id | VARCHAR(32) | NOT NULL FK | æˆå°±ID |
| progress | INTEGER | DEFAULT 0 | å½“å‰è¿›åº¦ |
| completed_at | DATETIME | | å®Œæˆæ—¶é—´ |
| rewarded | INTEGER | DEFAULT 0 | æ˜¯å¦å·²é¢†å¥– |

```sql
CREATE TABLE user_achievements (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    achievement_id VARCHAR(32) NOT NULL,
    progress INTEGER DEFAULT 0,
    completed_at DATETIME,
    rewarded INTEGER DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (achievement_id) REFERENCES achievements(id),
    UNIQUE(user_id, achievement_id)
);

CREATE INDEX idx_user_achievements_user ON user_achievements(user_id);
```

#### 3.3 codex - å›¾é‰´é…ç½®è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | å›¾é‰´ID |
| category | VARCHAR(32) | NOT NULL | åˆ†ç±»: monster/item/boss/zone |
| target_id | VARCHAR(32) | NOT NULL | å…³è”ç›®æ ‡ID |
| name | VARCHAR(64) | NOT NULL | åç§° |
| description | TEXT | | æè¿° |
| unlock_condition | TEXT | | è§£é”æ¡ä»¶ |
| bonus_type | VARCHAR(32) | | æ”¶é›†å¥–åŠ±ç±»å‹ |
| bonus_value | REAL | | æ”¶é›†å¥–åŠ±æ•°å€¼ |

```sql
CREATE TABLE codex (
    id VARCHAR(32) PRIMARY KEY,
    category VARCHAR(32) NOT NULL,
    target_id VARCHAR(32) NOT NULL,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    unlock_condition TEXT,
    bonus_type VARCHAR(32),
    bonus_value REAL
);

CREATE INDEX idx_codex_category ON codex(category);
```

#### 3.4 user_codex - ç©å®¶å›¾é‰´è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| user_id | INTEGER | NOT NULL FK | ç”¨æˆ·ID |
| codex_id | VARCHAR(32) | NOT NULL FK | å›¾é‰´ID |
| unlock_count | INTEGER | DEFAULT 1 | è§£é”æ¬¡æ•°/å‡»æ€æ¬¡æ•° |
| first_unlock_at | DATETIME | NOT NULL | é¦–æ¬¡è§£é”æ—¶é—´ |

```sql
CREATE TABLE user_codex (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    codex_id VARCHAR(32) NOT NULL,
    unlock_count INTEGER DEFAULT 1,
    first_unlock_at DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (codex_id) REFERENCES codex(id),
    UNIQUE(user_id, codex_id)
);

CREATE INDEX idx_user_codex_user ON user_codex(user_id);
```

#### å›¾é‰´æ”¶é›†å¥–åŠ±ç¤ºä¾‹

| å›¾é‰´ç±»å‹ | æ”¶é›†è¿›åº¦ | å¥–åŠ± |
|---------|---------|------|
| æ€ªç‰©å›¾é‰´ | 10% | ä¼¤å®³+1% |
| æ€ªç‰©å›¾é‰´ | 50% | ä¼¤å®³+3% |
| æ€ªç‰©å›¾é‰´ | 100% | ä¼¤å®³+5% + ç§°å·"ç™¾ç§‘å…¨ä¹¦" |
| Bosså›¾é‰´ | é¦–æ€ä»»æ„Boss | ä¸“å±ç§°å· |
| Bosså›¾é‰´ | å‡»æ€å…¨éƒ¨Boss | ä¼ è¯´å¤–è§‚ |

---

## âš”ï¸ é˜µè¥PVPé­é‡æˆ˜ç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒç«äº‰æœºåˆ¶**: åœ¨åŒä¸€åœ°å›¾æŒ‚æœºçš„è”ç›Ÿä¸éƒ¨è½ç©å®¶ä¼šéšæœºå‘ç”ŸPVPé­é‡æˆ˜ï¼Œèƒœè´Ÿå½±å“è¯¥åœ°å›¾çš„é˜µè¥æ•ˆç‡åŠ æˆ

### ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          é˜µè¥PVPé­é‡æˆ˜ç³»ç»Ÿ                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚   â”‚                        åœ°å›¾: è‰¾å°”æ–‡æ£®æ—                            â”‚     â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚     â”‚
â”‚   â”‚  â”‚  è”ç›Ÿç©å®¶ç¾¤ä½“    â”‚    âš”ï¸ é­é‡æˆ˜     â”‚   éƒ¨è½ç©å®¶ç¾¤ä½“   â”‚        â”‚     â”‚
â”‚   â”‚  â”‚  â”œâ”€ Player_A    â”‚ â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º â”‚   â”œâ”€ Player_X   â”‚        â”‚     â”‚
â”‚   â”‚  â”‚  â”œâ”€ Player_B    â”‚                  â”‚   â””â”€ Player_Y   â”‚        â”‚     â”‚
â”‚   â”‚  â”‚  â””â”€ Player_C    â”‚                  â”‚                 â”‚        â”‚     â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚     â”‚
â”‚   â”‚                                                                   â”‚     â”‚
â”‚   â”‚  å½“å‰æ§åˆ¶æ–¹: è”ç›Ÿ (èƒœç‡65%)                                        â”‚     â”‚
â”‚   â”‚  è”ç›Ÿæ•ˆç‡: +10% ç»éªŒ/é‡‘å¸/æ‰è½                                     â”‚     â”‚
â”‚   â”‚  éƒ¨è½æ•ˆç‡: -5% ç»éªŒ/é‡‘å¸/æ‰è½                                      â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                                             â”‚
â”‚   ğŸ“¢ å…¨æœå…¬å‘Š: [è‰¾å°”æ–‡æ£®æ—] è”ç›Ÿ<å‹‡å£«å°æ˜>å‡»è´¥äº†éƒ¨è½<æš—å½±çŒæ‰‹>ï¼            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæœºåˆ¶

| æœºåˆ¶ | è¯´æ˜ |
|-----|------|
| **é­é‡è§¦å‘** | åŒä¸€åœ°å›¾çš„æ•Œå¯¹é˜µè¥ç©å®¶éšæœºåŒ¹é…ï¼Œè§¦å‘è‡ªåŠ¨PVPæˆ˜æ–— |
| **æˆ˜æ–—æ–¹å¼** | ä½¿ç”¨ç©å®¶è®¾ç½®çš„æˆ˜æ–—ç­–ç•¥ï¼Œè‡ªåŠ¨åŒ–å¯¹å†³ |
| **èƒœè´Ÿåˆ¤å®š** | å‡»æ€å¯¹æ–¹æˆ–å¯¹æ–¹æŠ•é™/é€ƒè·‘ |
| **è£èª‰å¥–åŠ±** | èƒœè€…è·å¾—è£èª‰å€¼ï¼Œå¯ç”¨äºå…‘æ¢å¥–åŠ± |
| **åœ°å›¾æ§åˆ¶** | æ ¹æ®è¿‘æœŸèƒœç‡è®¡ç®—é˜µè¥æ§åˆ¶æƒ |
| **æ•ˆç‡åŠ æˆ** | æ§åˆ¶æ–¹è·å¾—æŒ‚æœºæ•ˆç‡æå‡ï¼Œè¢«æ§æ–¹æ•ˆç‡é™ä½ |
| **å…¨æœå…¬å‘Š** | æ‰€æœ‰PVPæˆ˜æ–—ç»“æœå‘å…¨æœç©å®¶å¹¿æ’­ |

---

### å››ã€åœ°å›¾é˜µè¥æ§åˆ¶è¡¨

#### zone_faction_control - åœ°å›¾é˜µè¥æ§åˆ¶è¡¨

> ğŸ“Œ **åœ°å›¾å½’å±**: è®°å½•æ¯ä¸ªåœ°å›¾çš„é˜µè¥æ§åˆ¶çŠ¶æ€å’Œæ•ˆç‡åŠ æˆ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| zone_id | VARCHAR(32) | PRIMARY KEY FK | åŒºåŸŸID |
| controlling_faction | VARCHAR(16) | | å½“å‰æ§åˆ¶é˜µè¥: alliance/horde/neutral |
| alliance_wins | INTEGER | DEFAULT 0 | è”ç›Ÿè¿‘æœŸèƒœåœº |
| horde_wins | INTEGER | DEFAULT 0 | éƒ¨è½è¿‘æœŸèƒœåœº |
| alliance_win_rate | REAL | DEFAULT 0.5 | è”ç›Ÿèƒœç‡ |
| control_score | INTEGER | DEFAULT 0 | æ§åˆ¶ç§¯åˆ† (æ­£=è”ç›Ÿ, è´Ÿ=éƒ¨è½) |
| efficiency_bonus | REAL | DEFAULT 0 | æ§åˆ¶æ–¹æ•ˆç‡åŠ æˆ (0.0-0.2) |
| efficiency_penalty | REAL | DEFAULT 0 | è¢«æ§æ–¹æ•ˆç‡æƒ©ç½š (0.0-0.1) |
| last_battle_at | DATETIME | | æœ€åä¸€æ¬¡æˆ˜æ–—æ—¶é—´ |
| stats_reset_at | DATETIME | | ç»Ÿè®¡é‡ç½®æ—¶é—´ (æ¯å‘¨) |

```sql
CREATE TABLE zone_faction_control (
    zone_id VARCHAR(32) PRIMARY KEY,
    controlling_faction VARCHAR(16) DEFAULT 'neutral',
    alliance_wins INTEGER DEFAULT 0,
    horde_wins INTEGER DEFAULT 0,
    alliance_win_rate REAL DEFAULT 0.5,
    control_score INTEGER DEFAULT 0,
    efficiency_bonus REAL DEFAULT 0,
    efficiency_penalty REAL DEFAULT 0,
    last_battle_at DATETIME,
    stats_reset_at DATETIME,
    FOREIGN KEY (zone_id) REFERENCES zones(id)
);
```

**æ§åˆ¶æƒè®¡ç®—è§„åˆ™:**
```
æ§åˆ¶ç§¯åˆ†å˜åŒ–:
  - è”ç›Ÿèƒœåˆ©: +1 åˆ†
  - éƒ¨è½èƒœåˆ©: -1 åˆ†
  - ç§¯åˆ†èŒƒå›´: -100 ~ +100

æ§åˆ¶æƒåˆ¤å®š:
  - ç§¯åˆ† >= +20: è”ç›Ÿæ§åˆ¶
  - ç§¯åˆ† <= -20: éƒ¨è½æ§åˆ¶
  - -20 < ç§¯åˆ† < +20: ä¸­ç«‹/äº‰å¤ºä¸­

æ•ˆç‡åŠ æˆè®¡ç®—:
  - æ§åˆ¶æ–¹: +æ•ˆç‡åŠ æˆ (æœ€é«˜+20%)
  - è¢«æ§æ–¹: -æ•ˆç‡æƒ©ç½š (æœ€é«˜-10%)
  - åŠ æˆæ¯”ä¾‹ = |ç§¯åˆ†| / 100 Ã— æœ€å¤§åŠ æˆ
```

---

### äº”ã€PVPé­é‡æˆ˜è®°å½•è¡¨

#### pvp_encounters - PVPé­é‡æˆ˜è®°å½•è¡¨

> ğŸ“Œ **æˆ˜æ–—è®°å½•**: è®°å½•æ¯ä¸€åœºPVPé­é‡æˆ˜çš„è¯¦ç»†ä¿¡æ¯

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | æˆ˜æ–—ID |
| zone_id | VARCHAR(32) | NOT NULL FK | å‘ç”ŸåŒºåŸŸ |
| attacker_user_id | INTEGER | NOT NULL FK | è¿›æ”»æ–¹ç”¨æˆ·ID |
| defender_user_id | INTEGER | NOT NULL FK | é˜²å®ˆæ–¹ç”¨æˆ·ID |
| attacker_faction | VARCHAR(16) | NOT NULL | è¿›æ”»æ–¹é˜µè¥ |
| defender_faction | VARCHAR(16) | NOT NULL | é˜²å®ˆæ–¹é˜µè¥ |
| winner_user_id | INTEGER | | èƒœåˆ©æ–¹ç”¨æˆ·ID (NULL=å¹³å±€) |
| winner_faction | VARCHAR(16) | | èƒœåˆ©é˜µè¥ |
| attacker_team_info | TEXT | | è¿›æ”»æ–¹é˜Ÿä¼ä¿¡æ¯ (JSON) |
| defender_team_info | TEXT | | é˜²å®ˆæ–¹é˜Ÿä¼ä¿¡æ¯ (JSON) |
| battle_rounds | INTEGER | DEFAULT 0 | æˆ˜æ–—å›åˆæ•° |
| battle_duration | INTEGER | DEFAULT 0 | æˆ˜æ–—æ—¶é•¿(ç§’) |
| attacker_damage_dealt | INTEGER | DEFAULT 0 | è¿›æ”»æ–¹é€ æˆä¼¤å®³ |
| defender_damage_dealt | INTEGER | DEFAULT 0 | é˜²å®ˆæ–¹é€ æˆä¼¤å®³ |
| honor_reward | INTEGER | DEFAULT 0 | è£èª‰å¥–åŠ± |
| battle_log | TEXT | | æˆ˜æ–—æ—¥å¿— (JSON) |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æˆ˜æ–—æ—¶é—´ |

```sql
CREATE TABLE pvp_encounters (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    zone_id VARCHAR(32) NOT NULL,
    attacker_user_id INTEGER NOT NULL,
    defender_user_id INTEGER NOT NULL,
    attacker_faction VARCHAR(16) NOT NULL,
    defender_faction VARCHAR(16) NOT NULL,
    winner_user_id INTEGER,
    winner_faction VARCHAR(16),
    attacker_team_info TEXT,
    defender_team_info TEXT,
    battle_rounds INTEGER DEFAULT 0,
    battle_duration INTEGER DEFAULT 0,
    attacker_damage_dealt INTEGER DEFAULT 0,
    defender_damage_dealt INTEGER DEFAULT 0,
    honor_reward INTEGER DEFAULT 0,
    battle_log TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (zone_id) REFERENCES zones(id),
    FOREIGN KEY (attacker_user_id) REFERENCES users(id),
    FOREIGN KEY (defender_user_id) REFERENCES users(id),
    FOREIGN KEY (winner_user_id) REFERENCES users(id)
);

CREATE INDEX idx_pvp_encounters_zone ON pvp_encounters(zone_id);
CREATE INDEX idx_pvp_encounters_attacker ON pvp_encounters(attacker_user_id);
CREATE INDEX idx_pvp_encounters_defender ON pvp_encounters(defender_user_id);
CREATE INDEX idx_pvp_encounters_time ON pvp_encounters(created_at DESC);
CREATE INDEX idx_pvp_encounters_winner ON pvp_encounters(winner_faction);
```

---

### å…­ã€ç©å®¶è£èª‰è¡¨

#### user_honor - ç©å®¶è£èª‰è¡¨

> ğŸ“Œ **è£èª‰ç³»ç»Ÿ**: è®°å½•ç©å®¶PVPæˆ˜ç»©å’Œè£èª‰ç§¯ç´¯

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| user_id | INTEGER | PRIMARY KEY FK | ç”¨æˆ·ID |
| faction | VARCHAR(16) | NOT NULL | æ‰€å±é˜µè¥ |
| total_honor | INTEGER | DEFAULT 0 | ç´¯è®¡è£èª‰å€¼ |
| current_honor | INTEGER | DEFAULT 0 | å½“å‰å¯ç”¨è£èª‰ |
| honor_rank | INTEGER | DEFAULT 0 | è£èª‰å†›è¡”ç­‰çº§ (0-14) |
| pvp_wins | INTEGER | DEFAULT 0 | PVPèƒœåœº |
| pvp_losses | INTEGER | DEFAULT 0 | PVPè´¥åœº |
| pvp_draws | INTEGER | DEFAULT 0 | PVPå¹³å±€ |
| win_streak | INTEGER | DEFAULT 0 | å½“å‰è¿èƒœ |
| best_win_streak | INTEGER | DEFAULT 0 | æœ€é«˜è¿èƒœ |
| total_kills | INTEGER | DEFAULT 0 | æ€»å‡»æ€è§’è‰²æ•° |
| total_deaths | INTEGER | DEFAULT 0 | æ€»æ­»äº¡è§’è‰²æ•° |
| total_damage_dealt | INTEGER | DEFAULT 0 | æ€»é€ æˆä¼¤å®³ |
| weekly_honor | INTEGER | DEFAULT 0 | æœ¬å‘¨è£èª‰ |
| weekly_reset_at | DATETIME | | å‘¨é‡ç½®æ—¶é—´ |

```sql
CREATE TABLE user_honor (
    user_id INTEGER PRIMARY KEY,
    faction VARCHAR(16) NOT NULL,
    total_honor INTEGER DEFAULT 0,
    current_honor INTEGER DEFAULT 0,
    honor_rank INTEGER DEFAULT 0,
    pvp_wins INTEGER DEFAULT 0,
    pvp_losses INTEGER DEFAULT 0,
    pvp_draws INTEGER DEFAULT 0,
    win_streak INTEGER DEFAULT 0,
    best_win_streak INTEGER DEFAULT 0,
    total_kills INTEGER DEFAULT 0,
    total_deaths INTEGER DEFAULT 0,
    total_damage_dealt INTEGER DEFAULT 0,
    weekly_honor INTEGER DEFAULT 0,
    weekly_reset_at DATETIME,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);

CREATE INDEX idx_user_honor_rank ON user_honor(honor_rank DESC);
CREATE INDEX idx_user_honor_wins ON user_honor(pvp_wins DESC);
CREATE INDEX idx_user_honor_faction ON user_honor(faction);
```

**è£èª‰å†›è¡”ä½“ç³»:**

| ç­‰çº§ | è”ç›Ÿå†›è¡” | éƒ¨è½å†›è¡” | æ‰€éœ€ç´¯è®¡è£èª‰ |
|-----|---------|---------|------------|
| 0 | æ— å†›è¡” | æ— å†›è¡” | 0 |
| 1 | åˆ—å…µ | æ–¥å€™ | 100 |
| 2 | ä¸‹å£« | æ­¥å…µ | 500 |
| 3 | ä¸­å£« | ä¸­å£« | 1,000 |
| 4 | å†›å£«é•¿ | é«˜çº§ä¸­å£« | 2,000 |
| 5 | å‡†å°‰ | ä¸€ç­‰å†›å£«é•¿ | 5,000 |
| 6 | å°‘å°‰ | çŸ³å«å£« | 10,000 |
| 7 | ä¸­å°‰ | è¡€å«å£« | 20,000 |
| 8 | ä¸Šå°‰ | å†›å›¢å£«å…µ | 35,000 |
| 9 | å°‘æ ¡ | ç™¾å¤«é•¿ | 50,000 |
| 10 | ä¸­æ ¡ | å‹‡å£« | 75,000 |
| 11 | ä¸Šæ ¡ | å°†å†› | 100,000 |
| 12 | å‡†å°† | å†›é˜€ | 150,000 |
| 13 | å…ƒå¸… | é«˜é˜¶ç£å†› | 250,000 |
| 14 | å¤§å…ƒå¸… | å¤§ç£å†› | 500,000 |

---

### ä¸ƒã€å…¨æœå…¬å‘Šè¡¨

#### server_announcements - å…¨æœå…¬å‘Šè¡¨

> ğŸ“Œ **å®æ—¶å¹¿æ’­**: è®°å½•å¹¶æ¨é€PVPæˆ˜æ–—ç»“æœåˆ°å…¨æœ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | å…¬å‘ŠID |
| type | VARCHAR(32) | NOT NULL | å…¬å‘Šç±»å‹ |
| content | TEXT | NOT NULL | å…¬å‘Šå†…å®¹ |
| zone_id | VARCHAR(32) | | ç›¸å…³åŒºåŸŸ |
| winner_user_id | INTEGER | | èƒœåˆ©è€…ID |
| loser_user_id | INTEGER | | å¤±è´¥è€…ID |
| pvp_encounter_id | INTEGER | | å…³è”PVPæˆ˜æ–—ID |
| importance | INTEGER | DEFAULT 1 | é‡è¦ç¨‹åº¦ (1-5) |
| expires_at | DATETIME | | è¿‡æœŸæ—¶é—´ |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |

```sql
CREATE TABLE server_announcements (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    type VARCHAR(32) NOT NULL,
    content TEXT NOT NULL,
    zone_id VARCHAR(32),
    winner_user_id INTEGER,
    loser_user_id INTEGER,
    pvp_encounter_id INTEGER,
    importance INTEGER DEFAULT 1,
    expires_at DATETIME,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (zone_id) REFERENCES zones(id),
    FOREIGN KEY (winner_user_id) REFERENCES users(id),
    FOREIGN KEY (loser_user_id) REFERENCES users(id),
    FOREIGN KEY (pvp_encounter_id) REFERENCES pvp_encounters(id)
);

CREATE INDEX idx_announcements_time ON server_announcements(created_at DESC);
CREATE INDEX idx_announcements_type ON server_announcements(type);
```

**å…¬å‘Šç±»å‹:**

| ç±»å‹ | è¯´æ˜ | ç¤ºä¾‹ |
|-----|------|-----|
| `pvp_victory` | PVPèƒœåˆ© | [è¥¿éƒ¨è’é‡] è”ç›Ÿã€Œå‹‡å£«å°æ˜ã€å‡»è´¥äº†éƒ¨è½ã€Œæš—å½±çŒæ‰‹ã€ï¼ |
| `zone_captured` | åŒºåŸŸæ˜“ä¸» | âš”ï¸ è”ç›Ÿå·²å é¢†ã€ŒçŸ³çˆªå±±è„‰ã€ï¼è¯¥åŒºåŸŸè”ç›Ÿæ•ˆç‡+15% |
| `kill_streak` | è¿æ€å…¬å‘Š | ğŸ”¥ è”ç›Ÿã€Œæ­»äº¡éª‘å£«ã€è¾¾æˆ5è¿æ€ï¼ |
| `zone_contested` | åŒºåŸŸäº‰å¤ºæ¿€çƒˆ | âš ï¸ ã€Œç°è°·ã€æ­£åœ¨æ¿€çƒˆäº‰å¤ºä¸­ï¼åŒæ–¹åŠ¿å‡åŠ›æ•Œ |
| `faction_dominant` | é˜µè¥ä¼˜åŠ¿ | ğŸ‘‘ éƒ¨è½æœ¬å‘¨åœ¨å…¨æœ7ä¸ªåŒºåŸŸä¿æŒæ§åˆ¶ï¼ |

---

### å…«ã€è£èª‰å•†åº—è¡¨

#### honor_shop - è£èª‰å•†åº—é…ç½®è¡¨

> ğŸ“Œ **è£èª‰å…‘æ¢**: ä½¿ç”¨è£èª‰å€¼å…‘æ¢ç‹¬ç‰¹å¥–åŠ±

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | VARCHAR(32) | PRIMARY KEY | å•†å“ID |
| name | VARCHAR(64) | NOT NULL | å•†å“åç§° |
| description | TEXT | | æè¿° |
| item_type | VARCHAR(32) | NOT NULL | ç‰©å“ç±»å‹: equipment/consumable/cosmetic/title |
| item_id | VARCHAR(32) | | å…³è”ç‰©å“ID |
| honor_cost | INTEGER | NOT NULL | è£èª‰èŠ±è´¹ |
| rank_required | INTEGER | DEFAULT 0 | éœ€æ±‚å†›è¡”ç­‰çº§ |
| faction | VARCHAR(16) | | é˜µè¥é™åˆ¶ (NULL=åŒé˜µè¥) |
| weekly_limit | INTEGER | | æ¯å‘¨è´­ä¹°é™åˆ¶ |
| stock | INTEGER | | åº“å­˜ (NULL=æ— é™) |
| is_active | INTEGER | DEFAULT 1 | æ˜¯å¦åœ¨å”® |

```sql
CREATE TABLE honor_shop (
    id VARCHAR(32) PRIMARY KEY,
    name VARCHAR(64) NOT NULL,
    description TEXT,
    item_type VARCHAR(32) NOT NULL,
    item_id VARCHAR(32),
    honor_cost INTEGER NOT NULL,
    rank_required INTEGER DEFAULT 0,
    faction VARCHAR(16),
    weekly_limit INTEGER,
    stock INTEGER,
    is_active INTEGER DEFAULT 1,
    FOREIGN KEY (item_id) REFERENCES items(id)
);

CREATE INDEX idx_honor_shop_rank ON honor_shop(rank_required);
```

**è£èª‰å•†åº—ç¤ºä¾‹å•†å“:**

| å•†å“ | ç±»å‹ | è£èª‰èŠ±è´¹ | éœ€æ±‚å†›è¡” |
|-----|------|---------|---------|
| PVPå¥—è£…Â·å¤´ç›” | è£…å¤‡ | 2,000 | 5 (å‡†å°‰) |
| PVPå¥—è£…Â·èƒ¸ç”² | è£…å¤‡ | 3,500 | 7 (ä¸­å°‰) |
| æˆ˜æ–—å¾½ç«  | é¥°å“ | 1,500 | 3 (ä¸­å£«) |
| è£èª‰è¯å‰‚ | æ¶ˆè€—å“ | 100 | 0 |
| å¾æœè€…ç§°å· | ç§°å· | 10,000 | 10 (ä¸­æ ¡) |
| æˆ˜é©¬åéª‘çš®è‚¤ | å¤–è§‚ | 50,000 | 12 (å‡†å°†) |

---

### PVPé­é‡æˆ˜æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           PVPé­é‡æˆ˜è§¦å‘æµç¨‹                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. åŒ¹é…æ£€æµ‹                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ æ¯Xç§’æ£€æµ‹å„åœ°å›¾çš„è”ç›Ÿ/éƒ¨è½åœ¨çº¿ç©å®¶                                 â”‚    â”‚
â”‚     â”‚ IF åŒæ–¹éƒ½æœ‰ç©å®¶ AND éšæœºè§¦å‘(æ¦‚ç‡Y%)                              â”‚    â”‚
â”‚     â”‚ THEN éšæœºåŒ¹é…ä¸€å¯¹æ•Œå¯¹ç©å®¶è¿›è¡ŒPVP                                  â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â–¼                                     â”‚
â”‚  2. æˆ˜æ–—æ‰§è¡Œ                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ åŒæ–¹ä½¿ç”¨å„è‡ªçš„æˆ˜æ–—ç­–ç•¥è‡ªåŠ¨å¯¹æˆ˜                                     â”‚    â”‚
â”‚     â”‚ æˆ˜æ–—å¼•æ“æ¨¡æ‹Ÿå›åˆåˆ¶PVP                                             â”‚    â”‚
â”‚     â”‚ è®°å½•æˆ˜æ–—æ—¥å¿—å’Œä¼¤å®³ç»Ÿè®¡                                            â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â–¼                                     â”‚
â”‚  3. ç»“ç®—å¥–åŠ±                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ èƒœè€…: +è£èª‰å€¼ (åŸºäºå¯¹æ‰‹ç­‰çº§/å†›è¡”)                                  â”‚    â”‚
â”‚     â”‚ è´¥è€…: æ— æƒ©ç½š (é¿å…æŒ«è´¥æ„Ÿ)                                         â”‚    â”‚
â”‚     â”‚ æ›´æ–°åŒæ–¹PVPç»Ÿè®¡                                                   â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â–¼                                     â”‚
â”‚  4. æ›´æ–°åœ°å›¾æ§åˆ¶                                                             â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ æ›´æ–° zone_faction_control çš„èƒœè´¥ç»Ÿè®¡                              â”‚    â”‚
â”‚     â”‚ é‡æ–°è®¡ç®—æ§åˆ¶ç§¯åˆ†å’Œæ•ˆç‡åŠ æˆ                                         â”‚    â”‚
â”‚     â”‚ IF æ§åˆ¶æƒå˜åŒ– THEN è§¦å‘åŒºåŸŸæ˜“ä¸»å…¬å‘Š                               â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                       â–¼                                     â”‚
â”‚  5. å‘å¸ƒå…¬å‘Š                                                                 â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚     â”‚ ç”Ÿæˆæˆ˜æ–—ç»“æœå…¬å‘Š                                                   â”‚    â”‚
â”‚     â”‚ æ¨é€åˆ°å…¨æœåœ¨çº¿ç©å®¶                                                 â”‚    â”‚
â”‚     â”‚ è®°å½•åˆ° server_announcements è¡¨ä¾›æŸ¥è¯¢                              â”‚    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### æ•ˆç‡åŠ æˆè®¡ç®—ç¤ºä¾‹

```
åœºæ™¯: è‰¾å°”æ–‡æ£®æ— - è”ç›Ÿæ§åˆ¶ (ç§¯åˆ†+45)

è”ç›Ÿç©å®¶æŒ‚æœºæ•ˆç‡:
  åŸºç¡€ç»éªŒ: 100/åˆ†é’Ÿ
  æ§åˆ¶åŠ æˆ: +9% (ç§¯åˆ†45 Ã· 100 Ã— 20%)
  å®é™…ç»éªŒ: 100 Ã— 1.09 = 109/åˆ†é’Ÿ

éƒ¨è½ç©å®¶æŒ‚æœºæ•ˆç‡:
  åŸºç¡€ç»éªŒ: 100/åˆ†é’Ÿ
  è¢«æ§æƒ©ç½š: -4.5% (ç§¯åˆ†45 Ã· 100 Ã— 10%)
  å®é™…ç»éªŒ: 100 Ã— 0.955 = 95.5/åˆ†é’Ÿ

å·®è·: è”ç›Ÿæ¯”éƒ¨è½å¤šè·å¾— 14% ç»éªŒ
```

> ğŸ’¡ è¿™ä¸ªæœºåˆ¶æ¿€åŠ±ç©å®¶æå‡æˆ˜åŠ›å’Œä¼˜åŒ–ç­–ç•¥æ¥äº‰å¤ºåœ°å›¾æ§åˆ¶æƒï¼ŒåŒæ—¶ä¿æŒç«äº‰çš„æŒç»­æ€§

---

## ğŸŒ æ¸¸æˆèŠ‚å¥ä¸ä½“åŠ›ç³»ç»Ÿ

> ğŸ“Œ **è®¾è®¡ç†å¿µ**: æ…¢èŠ‚å¥æ²‰æµ¸å¼ä½“éªŒï¼Œè®©ç©å®¶æœ‰æ—¶é—´æ¢ç´¢å’Œäº«å—æ¸¸æˆæ·±åº¦

### èŠ‚å¥è®¾è®¡åŸåˆ™

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          æ…¢èŠ‚å¥æ¸¸æˆè®¾è®¡                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   âŒ å¿«é¤å¼ä½“éªŒ                          âœ… æ²‰æµ¸å¼ä½“éªŒ                        â”‚
â”‚   â”œâ”€ 3å¤©æ»¡çº§ï¼Œ1å‘¨æ¯•ä¸š                    â”œâ”€ æ•°å‘¨æ¢ç´¢ï¼Œæ•°æœˆç²¾é€š                 â”‚
â”‚   â”œâ”€ ç§’æ€æ€ªç‰©ï¼Œæ— è„‘æŒ‚æœº                  â”œâ”€ æ¯åœºæˆ˜æ–—éƒ½æœ‰æ„ä¹‰                   â”‚
â”‚   â”œâ”€ æ•°å€¼è†¨èƒ€ï¼Œè£…å¤‡å¿«é€Ÿæ·˜æ±°              â”œâ”€ è£…å¤‡é•¿æœŸæœ‰ä»·å€¼ï¼ŒåŸ¹å…»å€¼å¾—            â”‚
â”‚   â””â”€ å†…å®¹æ¶ˆè€—æ®†å°½                        â””â”€ æŒç»­å‘ç°æ–°ä¸œè¥¿                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### èŠ‚å¥æ§åˆ¶ç‚¹

| æ–¹é¢ | è®¾è®¡ | æ•ˆæœ |
|-----|------|------|
| **æˆ˜æ–—æ—¶é•¿** | æ¯åœºæˆ˜æ–—å¹³å‡8-15å›åˆ | æœ‰è¶³å¤Ÿæ—¶é—´å±•ç°ç­–ç•¥ |
| **å‡çº§æ›²çº¿** | 1-30çº§çº¦1å‘¨ï¼Œ31-60çº§çº¦3å‘¨ | ä¸­åæœŸæœ‰æ·±åº¦æ¢ç´¢ç©ºé—´ |
| **ä½“åŠ›ç³»ç»Ÿ** | æ¯åœºæˆ˜æ–—æ¶ˆè€—ä½“åŠ› | é˜²æ­¢æ— é™åˆ·ï¼Œé¼“åŠ±ç­–ç•¥ä¼˜åŒ– |
| **æ¢ç´¢èŠ‚å¥** | æ–°åŒºåŸŸéœ€è¦è§£é”æ¡ä»¶ | æœ‰ç›®æ ‡æ„Ÿå’Œæˆå°±æ„Ÿ |
| **è£…å¤‡æˆé•¿** | å¥½è£…å¤‡å€¼å¾—åŸ¹å…»æ•°å‘¨ | å‡å°‘è£…å¤‡ç„¦è™‘ |

### ä½“åŠ›ç³»ç»Ÿ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ä½“åŠ›ç³»ç»Ÿ                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   ä½“åŠ›ä¸Šé™: 100 ç‚¹                                                           â”‚
â”‚   æ¢å¤é€Ÿåº¦: 1 ç‚¹ / 10 åˆ†é’Ÿ (æ¯å¤©144ç‚¹)                                        â”‚
â”‚                                                                             â”‚
â”‚   æ¶ˆè€—:                                                                      â”‚
â”‚   â”œâ”€ æ™®é€šæˆ˜æ–—: 1 ç‚¹                                                          â”‚
â”‚   â”œâ”€ ç²¾è‹±æˆ˜æ–—: 2 ç‚¹                                                          â”‚
â”‚   â”œâ”€ Bossæˆ˜æ–—: 5 ç‚¹                                                          â”‚
â”‚   â””â”€ æ·±æ¸ŠæŒ‘æˆ˜: 3 ç‚¹/å±‚                                                       â”‚
â”‚                                                                             â”‚
â”‚   ç©å®¶å¯ä»¥:                                                                  â”‚
â”‚   â”œâ”€ æ¯å¤©æ‰“çº¦100-150åœºæ™®é€šæˆ˜æ–—                                               â”‚
â”‚   â”œâ”€ æˆ–è€…æ‰“20-30åœºBoss                                                       â”‚
â”‚   â””â”€ éœ€è¦è§„åˆ’æ¯å¤©çš„æŒ‚æœºç›®æ ‡                                                   â”‚
â”‚                                                                             â”‚
â”‚   ç¦»çº¿æ”¶ç›Š: ä½“åŠ›æº¢å‡ºæ—¶è½¬åŒ–ä¸ºç¦»çº¿ç»éªŒ/é‡‘å¸ (æ•ˆç‡50%)                            â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### user_stamina - ç©å®¶ä½“åŠ›è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| user_id | INTEGER | PRIMARY KEY FK | ç”¨æˆ·ID |
| current_stamina | INTEGER | DEFAULT 100 | å½“å‰ä½“åŠ› |
| max_stamina | INTEGER | DEFAULT 100 | æœ€å¤§ä½“åŠ› |
| last_regen_at | DATETIME | | ä¸Šæ¬¡æ¢å¤æ—¶é—´ |
| overflow_exp | INTEGER | DEFAULT 0 | æº¢å‡ºè½¬åŒ–çš„ç»éªŒ |
| overflow_gold | INTEGER | DEFAULT 0 | æº¢å‡ºè½¬åŒ–çš„é‡‘å¸ |

```sql
CREATE TABLE IF NOT EXISTS user_stamina (
    user_id INTEGER PRIMARY KEY,
    current_stamina INTEGER DEFAULT 100,
    max_stamina INTEGER DEFAULT 100,
    last_regen_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    overflow_exp INTEGER DEFAULT 0,
    overflow_gold INTEGER DEFAULT 0,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
);
```

---

## ğŸ¯ ä½œæˆ˜ç­–ç•¥ç³»ç»Ÿ

> ğŸ“Œ **è®¾è®¡ç†å¿µ**: æ˜“äºä¸Šæ‰‹ï¼Œæ·±åº¦è¶³å¤Ÿï¼Œå¯é€šè¿‡æ•°æ®éªŒè¯æ•ˆæœ

### ç­–ç•¥é…ç½®æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ç­–ç•¥é…ç½®ç†å¿µ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   è®¾è®¡åŸåˆ™:                                                                  â”‚
â”‚   â”œâ”€ æ˜“äºä¸Šæ‰‹: æ–°æ‰‹å¯ä»¥ç”¨é»˜è®¤ç­–ç•¥                                             â”‚
â”‚   â”œâ”€ æ·±åº¦è¶³å¤Ÿ: é«˜æ‰‹å¯ä»¥ç²¾ç»†è°ƒä¼˜                                               â”‚
â”‚   â”œâ”€ å¯éªŒè¯æ€§: æ¯ä¸ªç­–ç•¥éƒ½èƒ½çœ‹åˆ°æ•°æ®æ•ˆæœ                                        â”‚
â”‚   â””â”€ æ— ç»å¯¹æœ€ä¼˜: ä¸åŒæƒ…å†µéœ€è¦ä¸åŒç­–ç•¥                                          â”‚
â”‚                                                                             â”‚
â”‚   ç­–ç•¥ç»„æˆ:                                                                  â”‚
â”‚   â”œâ”€ æŠ€èƒ½ä¼˜å…ˆçº§: æ‹–æ‹½æ’åºï¼Œå†³å®šæŠ€èƒ½ä½¿ç”¨é¡ºåº                                    â”‚
â”‚   â”œâ”€ æ¡ä»¶è§„åˆ™: IF-THENé€»è¾‘ï¼Œè§¦å‘ç‰¹æ®Šè¡Œä¸º                                      â”‚
â”‚   â”œâ”€ ç›®æ ‡é€‰æ‹©: æ”»å‡»/æ²»ç–—ç›®æ ‡çš„é€‰æ‹©ç­–ç•¥                                        â”‚
â”‚   â””â”€ èµ„æºç®¡ç†: èµ„æºé˜ˆå€¼å’Œä¿ç•™æŠ€èƒ½è®¾ç½®                                          â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç­–ç•¥é…ç½®ç•Œé¢ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                        ä½œæˆ˜ç­–ç•¥ - æˆ˜å£«                                      â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  ã€æŠ€èƒ½ä¼˜å…ˆçº§ã€‘æ‹–æ‹½æ’åº                                                     â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  1. [å†²é”‹]        - å¼€åœºä½¿ç”¨ï¼Œçœ©æ™•æ•Œäºº                               â”‚ â•‘
â•‘  â”‚  2. [æ’•è£‚]        - ä¿æŒDOT                                         â”‚ â•‘
â•‘  â”‚  3. [è‹±å‹‡æ‰“å‡»]    - ä¸»è¦è¾“å‡º                                         â”‚ â•‘
â•‘  â”‚  4. [æˆ˜æ–—æ€’å¼]    - å›¢é˜Ÿå¢ç›Š                                         â”‚ â•‘
â•‘  â”‚  5. [æ™®é€šæ”»å‡»]    - ä¿åº•æŠ€èƒ½                                         â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ã€æ¡ä»¶è§„åˆ™ã€‘ç‚¹å‡»æ·»åŠ                                                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  IF [è‡ªèº«HP] [<] [30%] THEN ä¼˜å…ˆä½¿ç”¨ [ç›¾å¢™]                          â”‚ â•‘
â•‘  â”‚  IF [æ•ŒäººHP] [<] [20%] THEN ä¼˜å…ˆä½¿ç”¨ [æ–©æ€]                          â”‚ â•‘
â•‘  â”‚  IF [æ€’æ°”] [>] [80] THEN ä½¿ç”¨ [æˆ˜æ–—æ€’å¼]                              â”‚ â•‘
â•‘  â”‚  + æ·»åŠ æ–°è§„åˆ™                                                        â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ã€ç›®æ ‡é€‰æ‹©ã€‘                                                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  æ”»å‡»ç›®æ ‡:                                                           â”‚ â•‘
â•‘  â”‚  â—‹ è¡€é‡æœ€ä½çš„æ•Œäºº (å¿«é€Ÿå‡»æ€)                                          â”‚ â•‘
â•‘  â”‚  â— è¡€é‡æœ€é«˜çš„æ•Œäºº (é›†ç«å¦å…‹)                                          â”‚ â•‘
â•‘  â”‚  â—‹ æ”»å‡»åŠ›æœ€é«˜çš„æ•Œäºº (ä¼˜å…ˆé«˜å¨èƒ)                                      â”‚ â•‘
â•‘  â”‚  â—‹ éšæœºæ”»å‡» (åˆ†æ•£ä¼¤å®³)                                               â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•‘  ã€èµ„æºç®¡ç†ã€‘                                                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
â•‘  â”‚  æ€’æ°”é˜ˆå€¼: [30] ä»¥ä¸‹æ—¶åªä½¿ç”¨æ™®é€šæ”»å‡»ç§¯æ”’æ€’æ°”                          â”‚ â•‘
â•‘  â”‚  ä¿ç•™æŠ€èƒ½: [ç›¾å¢™] éç´§æ€¥æƒ…å†µä¸ä½¿ç”¨                                    â”‚ â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### æ¡ä»¶è§„åˆ™ç³»ç»Ÿ

| æ¡ä»¶ç±»å‹ | å¯é€‰å€¼ | ç¤ºä¾‹ |
|---------|-------|------|
| **è‡ªèº«HP** | <, >, =, ç™¾åˆ†æ¯” | è‡ªèº«HP < 30% |
| **è‡ªèº«èµ„æº** | <, >, = | æ€’æ°” > 80 |
| **æ•ŒäººHP** | <, >, = | æ•ŒäººHP < 20% |
| **æ•Œäººæ•°é‡** | <, >, = | æ•Œäººæ•°é‡ >= 3 |
| **é˜Ÿå‹HP** | <, >, = | ä»»æ„é˜Ÿå‹HP < 40% |
| **BuffçŠ¶æ€** | æœ‰/æ—  | è‡ªèº«æ— [æˆ˜æ–—æ€’å¼] |
| **å›åˆæ•°** | <, >, = | å›åˆæ•° = 1 (å¼€åœº) |
| **æŠ€èƒ½å†·å´** | å¯ç”¨/å†·å´ä¸­ | [å†²é”‹]å¯ç”¨ |

### ç­–ç•¥æ¨¡æ¿

| æ¨¡æ¿ | é€‚ç”¨åœºæ™¯ | ç‰¹ç‚¹ |
|-----|---------|------|
| **æ¿€è¿›è¾“å‡º** | ä½çº§åŒºåˆ·æ€ª | ä¼˜å…ˆé«˜ä¼¤å®³æŠ€èƒ½ |
| **ç¨³å¥ç”Ÿå­˜** | é«˜çº§åŒºæ¢ç´¢ | HPä½æ—¶é˜²å¾¡ä¼˜å…ˆ |
| **æ§åˆ¶ä¼˜å…ˆ** | å¤šæ•Œäººæˆ˜æ–— | ä¼˜å…ˆä½¿ç”¨æ§åˆ¶æŠ€èƒ½ |
| **Bossæˆ˜** | å•ç›®æ ‡ | ä¿ç•™çˆ†å‘ï¼ŒæŒç»­è¾“å‡º |
| **è¾…åŠ©ä¼˜å…ˆ** | ç‰§å¸ˆ/åœ£éª‘ | ä¼˜å…ˆæ²»ç–—é˜Ÿå‹ |

#### battle_strategies - æˆ˜æ–—ç­–ç•¥è¡¨

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ç­–ç•¥ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| name | VARCHAR(32) | NOT NULL | ç­–ç•¥åç§° |
| is_active | INTEGER | DEFAULT 0 | æ˜¯å¦å½“å‰ä½¿ç”¨ |
| skill_priority | TEXT | | æŠ€èƒ½ä¼˜å…ˆçº§ (JSONæ•°ç»„) |
| conditional_rules | TEXT | | æ¡ä»¶è§„åˆ™ (JSONæ•°ç»„) |
| target_priority | VARCHAR(32) | DEFAULT 'lowest_hp' | ç›®æ ‡é€‰æ‹©ç­–ç•¥ |
| resource_threshold | INTEGER | DEFAULT 0 | èµ„æºé˜ˆå€¼ |
| reserved_skills | TEXT | | ä¿ç•™æŠ€èƒ½ (JSONæ•°ç»„) |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | åˆ›å»ºæ—¶é—´ |
| updated_at | DATETIME | | æ›´æ–°æ—¶é—´ |

```sql
CREATE TABLE IF NOT EXISTS battle_strategies (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    name VARCHAR(32) NOT NULL,
    is_active INTEGER DEFAULT 0,
    skill_priority TEXT,
    conditional_rules TEXT,
    target_priority VARCHAR(32) DEFAULT 'lowest_hp',
    resource_threshold INTEGER DEFAULT 0,
    reserved_skills TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    updated_at DATETIME,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE
);

CREATE INDEX idx_battle_strategies_character ON battle_strategies(character_id);
CREATE INDEX idx_battle_strategies_active ON battle_strategies(character_id, is_active);
```

**target_priority å¯é€‰å€¼:**
- `lowest_hp` - æ”»å‡»è¡€é‡æœ€ä½çš„æ•Œäºº
- `highest_hp` - æ”»å‡»è¡€é‡æœ€é«˜çš„æ•Œäºº
- `highest_attack` - æ”»å‡»æ”»å‡»åŠ›æœ€é«˜çš„æ•Œäºº
- `random` - éšæœºæ”»å‡»
- `nearest` - æ”»å‡»æœ€è¿‘çš„æ•Œäºº (é¢„ç•™)

**conditional_rules JSONæ ¼å¼:**
```json
[
  {
    "condition": {"type": "self_hp", "operator": "<", "value": 30},
    "action": {"type": "priority_skill", "skill_id": "shield_wall"}
  },
  {
    "condition": {"type": "enemy_hp", "operator": "<", "value": 20},
    "action": {"type": "priority_skill", "skill_id": "execute"}
  }
]
```

---

## ğŸ“Š æˆ˜æ–—æ•°æ®åˆ†æç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒç†å¿µ**: è®©ç©å®¶é€šè¿‡æ•°æ®åˆ†æéªŒè¯å’Œä¼˜åŒ–ä½œæˆ˜ç­–ç•¥

### ç»Ÿè®¡å‘¨æœŸ

| å‘¨æœŸ | æ•°æ®å†…å®¹ | ç”¨é€” |
|-----|---------|------|
| **ä¸Šä¸€åœº** | å®Œæ•´å›åˆè®°å½•ã€æ¯ä¸ªæŠ€èƒ½ä½¿ç”¨ã€è¯¦ç»†ä¼¤å®³æµæ°´ | å³æ—¶éªŒè¯ç­–ç•¥è°ƒæ•´æ•ˆæœ |
| **ä»Šæ—¥** | æ±‡æ€»ç»Ÿè®¡ã€æŠ€èƒ½æ•ˆç‡ã€èƒœç‡ | å½“å¤©è¡¨ç°è¯„ä¼° |
| **æœ¬å‘¨** | è¶‹åŠ¿å¯¹æ¯”ã€è¿›æ­¥æ›²çº¿ | ä¸­æœŸç­–ç•¥ä¼˜åŒ– |
| **æœ¬æœˆ** | é•¿æœŸæ•°æ®ã€é‡Œç¨‹ç¢‘ | æ•´ä½“æˆé•¿å›é¡¾ |
| **å…¨éƒ¨** | å†å²æ€»è®¡ | ç»ˆææˆå°±ç»Ÿè®¡ |

### å¤šè§’è‰²æˆ˜æ–—ç»Ÿè®¡ç¤ºä¾‹

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘  ğŸ“‹ ä¸Šä¸€åœºæˆ˜æ–—è¯¦æƒ…                                      2024-11-29 14:32:15 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                                           â•‘
â•‘  åœ°ç‚¹: æš®è‰²æ£®æ—            æ•Œäºº: äº¡çµå°é˜Ÿ (3ä½“)          ç»“æœ: âœ“ èƒœåˆ©      â•‘
â•‘  å›åˆæ•°: 12                è€—æ—¶: 28ç§’                   è·å¾—: 85ç»éªŒ 24é‡‘å¸â•‘
â•‘                                                                           â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘  ğŸ‘¥ æˆ‘æ–¹é˜Ÿä¼ (3/5)                                                         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘  â”‚ è§’è‰²         â”‚ èŒä¸š   â”‚ ä¼¤å®³è¾“å‡º â”‚ æ‰¿å—ä¼¤å®³ â”‚ æ²»ç–—é‡ â”‚ DPR  â”‚ çŠ¶æ€     â”‚ â•‘
â•‘  â”‚ ç ´æ™“         â”‚ æˆ˜å£«   â”‚ 89  45%  â”‚ 52  62%  â”‚ -      â”‚ 7.4  â”‚ HP 43/95â”‚ â•‘
â•‘  â”‚ å¯’éœœ         â”‚ æ³•å¸ˆ   â”‚ 76  38%  â”‚ 18  21%  â”‚ -      â”‚ 6.3  â”‚ HP 52/60â”‚ â•‘
â•‘  â”‚ åœ£å…‰         â”‚ ç‰§å¸ˆ   â”‚ 32  17%  â”‚ 14  17%  â”‚ 45     â”‚ 2.7  â”‚ HP 55/70â”‚ â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â•‘
â•‘  â”‚ é˜Ÿä¼åˆè®¡              â”‚ 197      â”‚ 84       â”‚ 45     â”‚ 16.4 â”‚          â”‚ â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                                           â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘  ğŸ’€ æ•Œæ–¹é˜Ÿä¼ (3ä½“)                                                         â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘  â”‚ æ•Œäºº         â”‚ ç­‰çº§   â”‚ ä¼¤å®³è¾“å‡º â”‚ æ‰¿å—ä¼¤å®³ â”‚ æ§åˆ¶æ—¶é—´ â”‚ å‡»æ€è€… â”‚ çŠ¶æ€  â”‚ â•‘
â•‘  â”‚ éª·é«…æˆ˜å£«     â”‚ Lv.10  â”‚ 35  42%  â”‚ 78       â”‚ 2å›åˆ   â”‚ ç ´æ™“   â”‚ R8æ­»äº¡â”‚ â•‘
â•‘  â”‚ éª·é«…æ³•å¸ˆ     â”‚ Lv.10  â”‚ 32  38%  â”‚ 65       â”‚ 1å›åˆ   â”‚ å¯’éœœ   â”‚ R10æ­»äº¡â•‘
â•‘  â”‚ éª·é«…å¼“æ‰‹     â”‚ Lv.9   â”‚ 17  20%  â”‚ 54       â”‚ 0å›åˆ   â”‚ ç ´æ™“   â”‚ R12æ­»äº¡â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”¤ â•‘
â•‘  â”‚ æ•Œæ–¹åˆè®¡              â”‚ 84       â”‚ 197      â”‚ 3å›åˆ   â”‚        â”‚        â”‚ â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘                                                                           â•‘
â•‘  â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â•‘
â•‘  ğŸ“ˆ é˜Ÿä¼é…åˆåˆ†æ                                                           â•‘
â•‘  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â•‘
â•‘  â”‚ æŒ‡æ ‡               â”‚ æ•°å€¼    â”‚ è¯„ä»·                                    â”‚ â•‘
â•‘  â”‚ ä¼¤å®³åˆ†å¸ƒ           â”‚ 45/38/17â”‚ æˆ˜å£«ä¸»åŠ›ï¼Œæ³•å¸ˆè¾…åŠ©ï¼Œç‰§å¸ˆè¡¥åˆ€ âœ“           â”‚ â•‘
â•‘  â”‚ æ‰¿ä¼¤åˆ†å¸ƒ           â”‚ 62/21/17â”‚ æˆ˜å£«æ‰›ä¼¤åˆç† âœ“                          â”‚ â•‘
â•‘  â”‚ æ§åˆ¶è¦†ç›–           â”‚ 25%     â”‚ 3/12å›åˆæœ‰æ•Œäººè¢«æ§ âœ“                    â”‚ â•‘
â•‘  â”‚ æ²»ç–—æ•ˆç‡           â”‚ 89%     â”‚ è¿‡é‡æ²»ç–—11% (è‰¯å¥½)                       â”‚ â•‘
â•‘  â”‚ é›†ç«æ•ˆç‡           â”‚ 78%     â”‚ ä¼˜å…ˆå‡»æ€é«˜å¨èƒç›®æ ‡ âœ“                     â”‚ â•‘
â•‘                                                                           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### å…³é”®åˆ†ææŒ‡æ ‡

| æŒ‡æ ‡ | è®¡ç®—æ–¹å¼ | ç”¨é€” |
|-----|---------|------|
| **DPR** | æ€»ä¼¤å®³ / å›åˆæ•° | è¯„ä¼°æ¯å›åˆè¾“å‡ºæ•ˆç‡ |
| **æŠ€èƒ½æ•ˆç‡** | æŠ€èƒ½ä¼¤å®³ / èµ„æºæ¶ˆè€— | åˆ¤æ–­æŠ€èƒ½æ€§ä»·æ¯” |
| **ç”Ÿå­˜ç‡** | å­˜æ´»æˆ˜æ–— / æ€»æˆ˜æ–— | ç­–ç•¥ç¨³å®šæ€§ |
| **èµ„æºåˆ©ç”¨ç‡** | å®é™…æ¶ˆè€— / å¯ç”¨èµ„æº | èµ„æºç®¡ç†è¯„ä¼° |
| **æ§åˆ¶è´¡çŒ®** | æ§åˆ¶å›åˆæ•° / æ€»å›åˆæ•° | æ§åˆ¶ç­–ç•¥æ•ˆæœ |
| **æ²»ç–—æ•ˆç‡** | æœ‰æ•ˆæ²»ç–— / æ€»æ²»ç–— | è¿‡é‡æ²»ç–—æ£€æµ‹ |
| **é›†ç«æ•ˆç‡** | ç›®æ ‡åˆ‡æ¢æ¬¡æ•° | æ˜¯å¦é›†ä¸­ç«åŠ› |
| **æ‰¿ä¼¤åˆ†å¸ƒ** | å„è§’è‰²æ‰¿ä¼¤å æ¯” | å¦å…‹æ˜¯å¦æœ‰æ•ˆ |

#### detailed_battle_logs - è¯¦ç»†æˆ˜æ–—æ—¥å¿—è¡¨

> ğŸ“Œ è®°å½•æ¯ä¸€åœºæˆ˜æ–—çš„å®Œæ•´å›åˆæ•°æ®ï¼Œç”¨äº"ä¸Šä¸€åœº"åˆ†æ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | æ—¥å¿—ID |
| battle_id | VARCHAR(64) | NOT NULL | æˆ˜æ–—ID |
| user_id | INTEGER | NOT NULL FK | ç”¨æˆ·ID |
| zone_id | VARCHAR(32) | | åŒºåŸŸID |
| battle_type | VARCHAR(16) | NOT NULL | æˆ˜æ–—ç±»å‹: pve/pvp/abyss |
| result | VARCHAR(16) | NOT NULL | ç»“æœ: victory/defeat/draw |
| total_turns | INTEGER | NOT NULL | æ€»å›åˆæ•° |
| duration_seconds | INTEGER | | æˆ˜æ–—æ—¶é•¿ |
| player_team_data | TEXT | NOT NULL | æˆ‘æ–¹é˜Ÿä¼æ•°æ® (JSON) |
| enemy_team_data | TEXT | NOT NULL | æ•Œæ–¹é˜Ÿä¼æ•°æ® (JSON) |
| turn_logs | TEXT | NOT NULL | å›åˆæ—¥å¿— (JSON) |
| exp_gained | INTEGER | DEFAULT 0 | è·å¾—ç»éªŒ |
| gold_gained | INTEGER | DEFAULT 0 | è·å¾—é‡‘å¸ |
| items_dropped | TEXT | | æ‰è½ç‰©å“ (JSON) |
| created_at | DATETIME | DEFAULT CURRENT_TIMESTAMP | æˆ˜æ–—æ—¶é—´ |

```sql
CREATE TABLE IF NOT EXISTS detailed_battle_logs (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    battle_id VARCHAR(64) NOT NULL,
    user_id INTEGER NOT NULL,
    zone_id VARCHAR(32),
    battle_type VARCHAR(16) NOT NULL,
    result VARCHAR(16) NOT NULL,
    total_turns INTEGER NOT NULL,
    duration_seconds INTEGER,
    player_team_data TEXT NOT NULL,
    enemy_team_data TEXT NOT NULL,
    turn_logs TEXT NOT NULL,
    exp_gained INTEGER DEFAULT 0,
    gold_gained INTEGER DEFAULT 0,
    items_dropped TEXT,
    created_at DATETIME DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
    FOREIGN KEY (zone_id) REFERENCES zones(id)
);

CREATE INDEX idx_detailed_logs_user ON detailed_battle_logs(user_id);
CREATE INDEX idx_detailed_logs_time ON detailed_battle_logs(created_at DESC);
CREATE INDEX idx_detailed_logs_battle ON detailed_battle_logs(battle_id);

-- åªä¿ç•™æœ€è¿‘100åœºè¯¦ç»†æ—¥å¿—ï¼Œå®šæœŸæ¸…ç†
```

**player_team_data / enemy_team_data JSONæ ¼å¼:**
```json
{
  "units": [
    {
      "id": "char_1",
      "name": "ç ´æ™“",
      "class": "warrior",
      "level": 25,
      "initial_hp": 95,
      "final_hp": 43,
      "max_hp": 95,
      "damage_dealt": 89,
      "damage_taken": 52,
      "healing_done": 0,
      "healing_taken": 32,
      "is_dead": false,
      "skills_used": [
        {"skill_id": "charge", "count": 2, "damage": 24, "crits": 0, "effects": ["stun"]},
        {"skill_id": "rend", "count": 3, "damage": 33, "crits": 0, "effects": ["bleed"]},
        {"skill_id": "heroic_strike", "count": 5, "damage": 58, "crits": 1, "effects": []}
      ]
    }
  ],
  "total_damage": 197,
  "total_healing": 45
}
```

**turn_logs JSONæ ¼å¼:**
```json
[
  {
    "turn": 1,
    "actions": [
      {"source": "ç ´æ™“", "skill": "å†²é”‹", "target": "éª·é«…æ³•å¸ˆ", "damage": 12, "crit": false, "effect": "çœ©æ™•"},
      {"source": "å¯’éœœ", "skill": "å¯’å†°ç®­", "target": "éª·é«…æˆ˜å£«", "damage": 15, "crit": false, "effect": "å‡é€Ÿ"},
      {"source": "åœ£å…‰", "skill": "çœŸè¨€æœ¯:ç›¾", "target": "ç ´æ™“", "shield": 12},
      {"source": "éª·é«…æˆ˜å£«", "skill": "æ”»å‡»", "target": "ç ´æ™“", "damage": 8, "absorbed": 8},
      {"source": "éª·é«…æ³•å¸ˆ", "status": "çœ©æ™•", "skipped": true},
      {"source": "éª·é«…å¼“æ‰‹", "skill": "å°„å‡»", "target": "å¯’éœœ", "damage": 6}
    ]
  }
]
```

#### character_battle_stats - è§’è‰²æˆ˜æ–—ç»Ÿè®¡è¡¨

> ğŸ“Œ æ±‡æ€»ç»Ÿè®¡ï¼Œç”¨äºä»Šæ—¥/æœ¬å‘¨/æœ¬æœˆ/å…¨éƒ¨åˆ†æ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY AUTOINCREMENT | ID |
| character_id | INTEGER | NOT NULL FK | è§’è‰²ID |
| stat_date | DATE | NOT NULL | ç»Ÿè®¡æ—¥æœŸ |
| battles_total | INTEGER | DEFAULT 0 | æ€»æˆ˜æ–—åœºæ¬¡ |
| battles_won | INTEGER | DEFAULT 0 | èƒœåˆ©åœºæ¬¡ |
| battles_lost | INTEGER | DEFAULT 0 | å¤±è´¥åœºæ¬¡ |
| total_damage_dealt | INTEGER | DEFAULT 0 | æ€»é€ æˆä¼¤å®³ |
| total_damage_taken | INTEGER | DEFAULT 0 | æ€»æ‰¿å—ä¼¤å®³ |
| total_healing_done | INTEGER | DEFAULT 0 | æ€»æ²»ç–—é‡ |
| total_turns | INTEGER | DEFAULT 0 | æ€»å›åˆæ•° |
| deaths | INTEGER | DEFAULT 0 | æ­»äº¡æ¬¡æ•° |
| kills | INTEGER | DEFAULT 0 | å‡»æ€æ•° |
| crits | INTEGER | DEFAULT 0 | æš´å‡»æ¬¡æ•° |
| dodges | INTEGER | DEFAULT 0 | é—ªé¿æ¬¡æ•° |
| skills_used | TEXT | | æŠ€èƒ½ä½¿ç”¨ç»Ÿè®¡ (JSON) |

```sql
CREATE TABLE IF NOT EXISTS character_battle_stats (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    character_id INTEGER NOT NULL,
    stat_date DATE NOT NULL,
    battles_total INTEGER DEFAULT 0,
    battles_won INTEGER DEFAULT 0,
    battles_lost INTEGER DEFAULT 0,
    total_damage_dealt INTEGER DEFAULT 0,
    total_damage_taken INTEGER DEFAULT 0,
    total_healing_done INTEGER DEFAULT 0,
    total_turns INTEGER DEFAULT 0,
    deaths INTEGER DEFAULT 0,
    kills INTEGER DEFAULT 0,
    crits INTEGER DEFAULT 0,
    dodges INTEGER DEFAULT 0,
    skills_used TEXT,
    FOREIGN KEY (character_id) REFERENCES characters(id) ON DELETE CASCADE,
    UNIQUE(character_id, stat_date)
);

CREATE INDEX idx_char_stats_date ON character_battle_stats(character_id, stat_date DESC);
```

### ç­–ç•¥å»ºè®®ç”Ÿæˆ

> ğŸ“Œ åŸºäºæ•°æ®åˆ†æè‡ªåŠ¨ç”Ÿæˆä¼˜åŒ–å»ºè®®

| æ£€æµ‹é¡¹ | æ¡ä»¶ | å»ºè®® |
|-------|------|------|
| æ™®æ”»è¿‡å¤š | æ™®æ”»å æ¯” > 30% | é™ä½èµ„æºé˜ˆå€¼ï¼Œå¢åŠ æŠ€èƒ½ä½¿ç”¨ |
| æ²»ç–—ä¸è¶³ | æ­»äº¡ç‡ > 20% | è°ƒæ•´æ²»ç–—è§¦å‘æ¡ä»¶æˆ–å¢åŠ æ²»ç–—ä¼˜å…ˆçº§ |
| è¿‡é‡æ²»ç–— | æ²»ç–—æ•ˆç‡ < 70% | æé«˜æ²»ç–—è§¦å‘çš„HPé˜ˆå€¼ |
| æ§åˆ¶æµªè´¹ | æ§åˆ¶é‡å  | è°ƒæ•´æ§åˆ¶æŠ€èƒ½é—´éš” |
| çˆ†å‘æ—¶æœº | å¤§æ‹›æœªå‘½ä¸­ä½è¡€æ•Œäºº | æ·»åŠ æ–©æ€ç±»æ¡ä»¶è§„åˆ™ |
| èµ„æºæµªè´¹ | èµ„æºæº¢å‡º > 20% | é™ä½èµ„æºé˜ˆå€¼ |

---

## ğŸ›¡ï¸ ä»‡æ¨å€¼ç³»ç»Ÿ

> ğŸ“Œ **æ ¸å¿ƒæœºåˆ¶**: æ•Œäººæ”»å‡»ä»‡æ¨å€¼æœ€é«˜çš„ç›®æ ‡ï¼Œå½¢æˆå¦å…‹-æ²»ç–—-è¾“å‡ºçš„"é“ä¸‰è§’"æˆ˜æœ¯ä½“ç³»

### ç³»ç»Ÿæ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ä»‡æ¨å€¼ç³»ç»Ÿæ¦‚è§ˆ                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   æ•Œäººå§‹ç»ˆæ”»å‡»ä»‡æ¨å€¼æœ€é«˜çš„ç›®æ ‡                                                â”‚
â”‚                                                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚   â”‚                     ä»‡æ¨åˆ—è¡¨ (æŸåªæ€ªç‰©)                          â”‚      â”‚
â”‚   â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚      â”‚
â”‚   â”‚  1. ç ´æ™“ (æˆ˜å£«)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘  2850 ä»‡æ¨ â† æ”»å‡»â”‚      â”‚
â”‚   â”‚  2. å¯’éœœ (æ³•å¸ˆ)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  1820 ä»‡æ¨      â”‚      â”‚
â”‚   â”‚  3. æš—å½± (ç›—è´¼)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  1340 ä»‡æ¨      â”‚      â”‚
â”‚   â”‚  4. åœ£å…‰ (ç‰§å¸ˆ)  â–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   520 ä»‡æ¨      â”‚      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                                                                             â”‚
â”‚   é“ä¸‰è§’èŒè´£:                                                                â”‚
â”‚   â”œâ”€ ğŸ›¡ï¸ å¦å…‹: é«˜ä»‡æ¨æŠ€èƒ½ï¼Œä¿æŒä»‡æ¨ç¬¬ä¸€ï¼Œæ‰¿å—ä¼¤å®³                              â”‚
â”‚   â”œâ”€ ğŸ’š æ²»ç–—: ä½ä»‡æ¨æ²»ç–—ï¼Œä¿æŒé˜Ÿä¼å­˜æ´»ï¼Œæ³¨æ„ä»‡æ¨æ§åˆ¶                           â”‚
â”‚   â””â”€ âš”ï¸ è¾“å‡º: é«˜ä¼¤å®³ä½†éœ€æ§åˆ¶ä»‡æ¨ï¼Œé¿å…OT(ä»‡æ¨è¶…è¿‡å¦å…‹)                        â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»‡æ¨å€¼ç”Ÿæˆè§„åˆ™

| è¡Œä¸º | åŸºç¡€ä»‡æ¨ | è¯´æ˜ |
|-----|---------|------|
| **é€ æˆä¼¤å®³** | ä¼¤å®³å€¼ Ã— 1.0 | æ¯1ç‚¹ä¼¤å®³äº§ç”Ÿ1ç‚¹ä»‡æ¨ |
| **æ²»ç–—é˜Ÿå‹** | æ²»ç–—é‡ Ã— 0.5 | æ²»ç–—äº§ç”Ÿä¸€åŠä»‡æ¨ (åˆ†æ‘Šç»™æ‰€æœ‰æ•Œäºº) |
| **æ–½åŠ Buff** | å›ºå®šå€¼ | éƒ¨åˆ†å¢ç›ŠæŠ€èƒ½äº§ç”Ÿå°‘é‡ä»‡æ¨ |
| **å˜²è®½** | ç‰¹æ®Š | ç«‹å³æˆä¸ºç¬¬ä¸€ä»‡æ¨ + 10%é¢å¤–ä»‡æ¨ |
| **è¿›å…¥æˆ˜æ–—** | 100 | åˆå§‹ä»‡æ¨å€¼ |

### èŒä¸šä»‡æ¨ç³»æ•°

| èŒä¸š | ä»‡æ¨ç³»æ•° | å®šä½ | è¯´æ˜ |
|-----|---------|------|------|
| **æˆ˜å£«** | Ã—1.3 | å¦å…‹ | é«˜ä»‡æ¨ç”Ÿæˆï¼Œä¸»åŠ›å¦å…‹ |
| **åœ£éª‘å£«** | Ã—1.2 | å¦å…‹/æ²»ç–— | åŠå¦åŠå¥¶ï¼Œçµæ´»å®šä½ |
| **å¾·é²ä¼Š** | Ã—1.2 (ç†Š) / Ã—0.8 (å…¶ä»–) | å¦å…‹/æ²»ç–—/è¾“å‡º | å˜å½¢å½±å“ä»‡æ¨ |
| **ç›—è´¼** | Ã—0.7 | è¾“å‡º | ä½ä»‡æ¨ï¼Œæœ‰ä»‡æ¨æ¸…é™¤ |
| **çŒäºº** | Ã—0.8 | è¾“å‡º | å® ç‰©åˆ†æ‹…ä»‡æ¨ |
| **æ³•å¸ˆ** | Ã—0.8 | è¾“å‡º | é«˜çˆ†å‘éœ€æ³¨æ„OT |
| **æœ¯å£«** | Ã—0.8 | è¾“å‡º | å® ç‰©åˆ†æ‹…ä»‡æ¨ |
| **è¨æ»¡** | Ã—0.9 | è¾“å‡º/æ²»ç–— | å‡è¡¡èŒä¸š |
| **ç‰§å¸ˆ** | Ã—0.6 | æ²»ç–— | æœ€ä½ä»‡æ¨ç³»æ•° |

### OT (Over Threat) åˆ¤å®š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          OTåˆ¤å®šè§„åˆ™                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   è¿‘æˆ˜å¤ºå–ä»‡æ¨: éœ€è¦è¶…è¿‡å½“å‰ç›®æ ‡ä»‡æ¨çš„ 110%                                    â”‚
â”‚   è¿œç¨‹å¤ºå–ä»‡æ¨: éœ€è¦è¶…è¿‡å½“å‰ç›®æ ‡ä»‡æ¨çš„ 130%                                    â”‚
â”‚                                                                             â”‚
â”‚   ç¤ºä¾‹:                                                                      â”‚
â”‚   æˆ˜å£«å½“å‰ä»‡æ¨: 1000                                                         â”‚
â”‚   æ³•å¸ˆ(è¿œç¨‹)è¦OT: éœ€è¦ 1000 Ã— 130% = 1300 ä»‡æ¨                               â”‚
â”‚   ç›—è´¼(è¿‘æˆ˜)è¦OT: éœ€è¦ 1000 Ã— 110% = 1100 ä»‡æ¨                               â”‚
â”‚                                                                             â”‚
â”‚   è¿™ä¸ªç¼“å†²æœºåˆ¶è®©å¦å…‹æœ‰ååº”æ—¶é—´ä½¿ç”¨å˜²è®½                                         â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä»‡æ¨ç›¸å…³æŠ€èƒ½

#### å¦å…‹æŠ€èƒ½ (é«˜ä»‡æ¨)

| æŠ€èƒ½ | èŒä¸š | ä»‡æ¨æ•ˆæœ | CD | è¯´æ˜ |
|-----|------|---------|-----|------|
| **å˜²è®½** | æˆ˜å£« | å¼ºåˆ¶ç¬¬ä¸€ +10% | 4å›åˆ | å•ä½“å˜²è®½ |
| **æŒ‘æˆ˜æ€’å¼** | æˆ˜å£« | AOEå˜²è®½ | 8å›åˆ | ç¾¤ä½“å˜²è®½ |
| **ç›¾ç‰ŒçŒ›å‡»** | æˆ˜å£« | ä¼¤å®³Ã—2ä»‡æ¨ | 0 | é«˜ä»‡æ¨æ”»å‡» |
| **ç ´ç”²æ”»å‡»** | æˆ˜å£« | ä¼¤å®³Ã—1.5ä»‡æ¨ | 0 | å‰Šå¼±+ä»‡æ¨ |
| **å¤ä»‡** | æˆ˜å£« | æ ¼æŒ¡å+ä»‡æ¨ | è¢«åŠ¨ | è¢«åŠ¨ä»‡æ¨ |
| **æ­£ä¹‰ä¹‹ç›¾** | åœ£éª‘ | ä¼¤å®³Ã—1.5ä»‡æ¨ | 2å›åˆ | ç¥åœ£+ä»‡æ¨ |
| **å¥‰çŒ®** | åœ£éª‘ | AOEæŒç»­ä»‡æ¨ | 3å›åˆ | èŒƒå›´ä»‡æ¨ |
| **æ­£ä¹‰é˜²å¾¡** | åœ£éª‘ | å˜²è®½ | 4å›åˆ | å•ä½“å˜²è®½ |

#### ä»‡æ¨ç®¡ç†æŠ€èƒ½ (è¾“å‡º/æ²»ç–—ç”¨)

| æŠ€èƒ½ | èŒä¸š | ä»‡æ¨æ•ˆæœ | CD | è¯´æ˜ |
|-----|------|---------|-----|------|
| **ä½¯æ”»** | ç›—è´¼ | æ¸…é™¤50%ä»‡æ¨ | 4å›åˆ | ç´§æ€¥è„±ä»‡ |
| **æ¶ˆå¤±** | ç›—è´¼ | æ¸…é™¤100%ä»‡æ¨ | 10å›åˆ | å®Œå…¨è„±ä»‡ |
| **éšå½¢æœ¯** | æ³•å¸ˆ | æ¸…é™¤100%ä»‡æ¨ | 10å›åˆ | å®Œå…¨è„±ä»‡ |
| **å¯’å†°å±éšœ** | æ³•å¸ˆ | æš‚åœä»‡æ¨ç”Ÿæˆ | 8å›åˆ | å†°å—æœŸé—´ä¸äº§ç”Ÿä»‡æ¨ |
| **æ¸éšæœ¯** | ç‰§å¸ˆ | ä»‡æ¨ç”Ÿæˆ-50% | 6å›åˆ | æŒç»­3å›åˆ |
| **å‡æ­»** | çŒäºº | æ¸…é™¤100%ä»‡æ¨ | 8å›åˆ | ç´§æ€¥è„±ä»‡ |
| **è¯¯å¯¼** | çŒäºº | ä»‡æ¨è½¬ç§»ç»™å¦å…‹ | 6å›åˆ | ä»‡æ¨è¾…åŠ© |
| **çµé­‚ç¢è£‚** | æœ¯å£« | å® ç‰©å˜²è®½ | 4å›åˆ | è½¬ç§»ä»‡æ¨ |

### ä»‡æ¨ç›¸å…³è£…å¤‡è¯ç¼€

**æ–°å¢å‰ç¼€:**

| è¯ç¼€ | æ•ˆæœ | é€‚ç”¨ | ç¨€æœ‰åº¦ |
|-----|------|-----|-------|
| å®ˆæŠ¤è€…çš„ | ä»‡æ¨ç”Ÿæˆ+20%, å˜²è®½CD-1 | å¦å…‹æ­¦å™¨ | ç¨€æœ‰ |
| å¨å‹çš„ | ä»‡æ¨ç”Ÿæˆ+15% | å¦å…‹è£…å¤‡ | ç²¾è‰¯ |
| éšç§˜çš„ | ä»‡æ¨ç”Ÿæˆ-20% | è¾“å‡ºæ­¦å™¨ | ç²¾è‰¯ |
| æš—å½±çš„ | æš´å‡»ä»‡æ¨-30% | è¾“å‡ºè£…å¤‡ | ç¨€æœ‰ |

**æ–°å¢åç¼€:**

| è¯ç¼€ | æ•ˆæœ | é€‚ç”¨ | ç¨€æœ‰åº¦ |
|-----|------|-----|-------|
| of å¨èƒ | ä»‡æ¨ç”Ÿæˆ+15% | å¦å…‹è£…å¤‡ | ç²¾è‰¯ |
| of å®ˆæŠ¤ | ä»‡æ¨ç”Ÿæˆ+10%, æ ¼æŒ¡+5% | ç›¾ç‰Œ | ç²¾è‰¯ |
| of éšåŒ¿ | ä»‡æ¨ç”Ÿæˆ-15% | è¾“å‡ºè£…å¤‡ | ç²¾è‰¯ |
| of æ¶ˆæ•£ | ä»‡æ¨è¡°å‡+20% | æ²»ç–—è£…å¤‡ | ç¨€æœ‰ |

### æ•ŒäººAIç›®æ ‡é€‰æ‹©

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       æ•ŒäººAIç›®æ ‡é€‰æ‹©é€»è¾‘                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚   æ¯å›åˆå¼€å§‹:                                                                â”‚
â”‚   1. æ£€æŸ¥ä»‡æ¨åˆ—è¡¨                                                            â”‚
â”‚   2. å¦‚æœå½“å‰ç›®æ ‡ä»æ˜¯æœ€é«˜ä»‡æ¨ â†’ ç»§ç»­æ”»å‡»                                       â”‚
â”‚   3. å¦‚æœæœ‰æ–°ç›®æ ‡ä»‡æ¨è¶…è¿‡é˜ˆå€¼ â†’ åˆ‡æ¢ç›®æ ‡ (OTå‘ç”Ÿ)                              â”‚
â”‚   4. ç‰¹æ®Šæƒ…å†µ:                                                               â”‚
â”‚      - è¢«å˜²è®½ â†’ å¼ºåˆ¶æ”»å‡»å˜²è®½è€… (æŒç»­åˆ°å˜²è®½ç»“æŸ)                               â”‚
â”‚      - å½“å‰ç›®æ ‡æ­»äº¡ â†’ æ”»å‡»æ¬¡é«˜ä»‡æ¨                                            â”‚
â”‚      - ä»‡æ¨æ¸…é›¶ â†’ é‡æ–°é€‰æ‹©ç›®æ ‡                                               â”‚
â”‚                                                                             â”‚
â”‚   æ™ºèƒ½æ•Œäºº (ç²¾è‹±/Boss):                                                       â”‚
â”‚   - å¯èƒ½æ— è§†å˜²è®½æ”»å‡»æ²»ç–— (éœ€è¦ç‰¹æ®Šå¤„ç†)                                        â”‚
â”‚   - å¯èƒ½æœ‰ä»‡æ¨é‡ç½®æŠ€èƒ½                                                        â”‚
â”‚   - é˜¶æ®µè½¬æ¢æ—¶å¯èƒ½é‡ç½®ä»‡æ¨                                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç­–ç•¥ç³»ç»Ÿæ‰©å±•

#### æ–°å¢æ¡ä»¶è§„åˆ™

| æ¡ä»¶ç±»å‹ | å¯é€‰å€¼ | ç¤ºä¾‹ |
|---------|-------|------|
| **è‡ªèº«ä»‡æ¨æ’å** | =, >, < | IF ä»‡æ¨æ’å > 1 THEN ä½¿ç”¨ [ä½¯æ”»] |
| **ä»‡æ¨ç™¾åˆ†æ¯”** | ç›¸å¯¹å¦å…‹ | IF ä»‡æ¨ > å¦å…‹çš„90% THEN åœæ­¢æ”»å‡» |
| **é˜Ÿå‹ä»‡æ¨** | æ£€æµ‹OTé£é™© | IF æ²»ç–—ä»‡æ¨æ’å=1 THEN ä½¿ç”¨ [å˜²è®½] |
| **è¢«æ”»å‡»çŠ¶æ€** | æ˜¯/å¦ | IF è¢«æ”»å‡» AND ä¸æ˜¯å¦å…‹ THEN ä½¿ç”¨ [æ¶ˆå¤±] |

#### è§’è‰²å®šä½è®¾ç½®

| å®šä½ | AIè¡Œä¸º |
|-----|-------|
| **å¦å…‹** | ä¼˜å…ˆé«˜ä»‡æ¨æŠ€èƒ½ï¼Œç›‘æ§é˜Ÿå‹ä»‡æ¨ï¼ŒåŠæ—¶å˜²è®½ |
| **è¾“å‡º** | æ­£å¸¸è¾“å‡ºï¼Œä»‡æ¨æ¥è¿‘å¦å…‹æ—¶å‡ç¼“/ä½¿ç”¨ä»‡æ¨æ¸…é™¤ |
| **æ²»ç–—** | ä¸“æ³¨æ²»ç–—ï¼Œä½¿ç”¨ä»‡æ¨é™ä½æŠ€èƒ½ |

### æ•°æ®åº“è¡¨æ›´æ–°

#### skillsè¡¨æ–°å¢å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| threat_modifier | REAL | ä»‡æ¨ç³»æ•° (é»˜è®¤1.0) |
| threat_type | VARCHAR(16) | ä»‡æ¨ç±»å‹: normal/high/taunt/reduce/clear |

#### classesè¡¨æ–°å¢å­—æ®µ

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| base_threat_modifier | REAL | åŸºç¡€ä»‡æ¨ç³»æ•° |
| combat_role | VARCHAR(16) | æˆ˜æ–—å®šä½: tank/healer/dps/hybrid |
| is_ranged | INTEGER | æ˜¯å¦è¿œç¨‹ (å½±å“OTé˜ˆå€¼) |

#### æ–°å¢ battle_threat_log è¡¨

> ğŸ“Œ è®°å½•æˆ˜æ–—ä¸­çš„ä»‡æ¨å˜åŒ–ï¼Œç”¨äºåˆ†æ

| å­—æ®µ | ç±»å‹ | çº¦æŸ | è¯´æ˜ |
|-----|------|-----|------|
| id | INTEGER | PRIMARY KEY | ID |
| battle_id | VARCHAR(64) | NOT NULL | æˆ˜æ–—ID |
| turn | INTEGER | NOT NULL | å›åˆæ•° |
| enemy_id | VARCHAR(32) | NOT NULL | æ•ŒäººID |
| threat_snapshot | TEXT | NOT NULL | ä»‡æ¨å¿«ç…§ (JSON) |
| target_changed | INTEGER | DEFAULT 0 | æ˜¯å¦åˆ‡æ¢ç›®æ ‡ |
| ot_occurred | INTEGER | DEFAULT 0 | æ˜¯å¦å‘ç”ŸOT |
| taunt_used | INTEGER | DEFAULT 0 | æ˜¯å¦ä½¿ç”¨å˜²è®½ |

```sql
CREATE TABLE IF NOT EXISTS battle_threat_log (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    battle_id VARCHAR(64) NOT NULL,
    turn INTEGER NOT NULL,
    enemy_id VARCHAR(32) NOT NULL,
    threat_snapshot TEXT NOT NULL,
    target_changed INTEGER DEFAULT 0,
    ot_occurred INTEGER DEFAULT 0,
    taunt_used INTEGER DEFAULT 0
);

CREATE INDEX IF NOT EXISTS idx_threat_log_battle ON battle_threat_log(battle_id);
```

**threat_snapshot JSONæ ¼å¼:**
```json
{
  "current_target": "char_1",
  "threat_list": [
    {"unit_id": "char_1", "name": "ç ´æ™“", "threat": 2850, "percent": 43.7},
    {"unit_id": "char_2", "name": "å¯’éœœ", "threat": 1820, "percent": 27.9},
    {"unit_id": "char_3", "name": "æš—å½±", "threat": 1340, "percent": 20.5},
    {"unit_id": "char_4", "name": "åœ£å…‰", "threat": 520, "percent": 8.0}
  ]
}
```

### ä»‡æ¨åˆ†æç»Ÿè®¡

| æŒ‡æ ‡ | è®¡ç®—æ–¹å¼ | ç”¨é€” |
|-----|---------|------|
| **ä»‡æ¨å æ¯”** | è§’è‰²ä»‡æ¨ / æ€»ä»‡æ¨ | è¯„ä¼°ä»‡æ¨åˆ†å¸ƒ |
| **OTæ¬¡æ•°** | ä»‡æ¨è¶…è¿‡å¦å…‹æ¬¡æ•° | è¾“å‡ºæ§åˆ¶è¯„ä¼° |
| **å¦å…‹ä¿æŒç‡** | å¦å…‹ä¸ºç¬¬ä¸€ä»‡æ¨çš„å›åˆå æ¯” | å¦å…‹è¡¨ç° |
| **å˜²è®½æ•ˆç‡** | æˆåŠŸå˜²è®½ / å˜²è®½ä½¿ç”¨ | å˜²è®½ä½¿ç”¨è¯„ä¼° |
| **è¢«æ”»å‡»åˆ†å¸ƒ** | å„è§’è‰²è¢«æ”»å‡»å›åˆå æ¯” | ä¼¤å®³åˆ†æ‹…è¯„ä¼° |
| **ä»‡æ¨æ¸…é™¤ä½¿ç”¨** | ä»‡æ¨æ¸…é™¤æŠ€èƒ½ä½¿ç”¨æ¬¡æ•° | è¾“å‡ºç­–ç•¥è¯„ä¼° |

### é“ä¸‰è§’å¹³è¡¡è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          é“ä¸‰è§’å¹³è¡¡                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚                           ğŸ›¡ï¸ å¦å…‹                                           â”‚
â”‚                          /        \                                         â”‚
â”‚                         /          \                                        â”‚
â”‚                    ä»‡æ¨ç®¡ç†      æ‰¿å—ä¼¤å®³                                     â”‚
â”‚                       /              \                                      â”‚
â”‚                      /                \                                     â”‚
â”‚                 âš”ï¸ è¾“å‡º â”€â”€â”€æ²»ç–—ä¾èµ–â”€â”€â”€ ğŸ’š æ²»ç–—                               â”‚
â”‚                                                                             â”‚
â”‚   å¹³è¡¡ç‚¹:                                                                    â”‚
â”‚   â”œâ”€ å¦å…‹ä»‡æ¨ä¸è¶³ â†’ æ²»ç–—/è¾“å‡ºè¢«æ‰“ â†’ å›¢ç­                                      â”‚
â”‚   â”œâ”€ è¾“å‡ºä»‡æ¨è¿‡é«˜ â†’ OT â†’ è¢«æ‰“æ­»                                              â”‚
â”‚   â”œâ”€ æ²»ç–—ä»‡æ¨è¿‡é«˜ â†’ è¢«æ”»å‡» â†’ æ— æ³•æ²»ç–— â†’ å›¢ç­                                  â”‚
â”‚   â””â”€ å¹³è¡¡è‰¯å¥½ â†’ å¦å…‹æŠ—ä¼¤ï¼Œè¾“å‡ºè¾“å‡ºï¼Œæ²»ç–—æ²»ç–—                                   â”‚
â”‚                                                                             â”‚
â”‚   ç­–ç•¥æ·±åº¦:                                                                  â”‚
â”‚   â”œâ”€ å¦å…‹: å¼€åœºå»ºç«‹ä»‡æ¨ï¼Œç›‘æ§OTï¼ŒåŠæ—¶å˜²è®½                                     â”‚
â”‚   â”œâ”€ è¾“å‡º: æ§åˆ¶çˆ†å‘æ—¶æœºï¼Œå¿…è¦æ—¶ä½¿ç”¨ä»‡æ¨æ¸…é™¤                                    â”‚
â”‚   â””â”€ æ²»ç–—: ä½¿ç”¨ä»‡æ¨é™ä½æŠ€èƒ½ï¼Œé¿å…è¿‡é‡æ²»ç–—                                     â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

